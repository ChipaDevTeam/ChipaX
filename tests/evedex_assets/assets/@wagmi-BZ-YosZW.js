const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-dtN2Bxcy.js","assets/@react-router-B_Yxq9fH.js","assets/createBundlerClient-BT74MnaA.js","assets/index-RDyXvyzL.js","assets/@wagmi-core-ClbrNBk4.js","assets/index-CbX4KGWS.css","assets/index-Cr21sBWA.js","assets/index.es-B8BmkpPm.js","assets/to-string-DpX5-Bzx.js"])))=>i.map(i=>d[i]);
var ru=e=>{throw TypeError(e)};var Ji=(e,t,n)=>t.has(e)||ru("Cannot "+n);var v=(e,t,n)=>(Ji(e,t,"read from private field"),n?n.call(e):t.get(e)),L=(e,t,n)=>t.has(e)?ru("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),M=(e,t,n,r)=>(Ji(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),j=(e,t,n)=>(Ji(e,t,"access private method"),n);var Rs=(e,t,n,r)=>({set _(s){M(e,t,s,n)},get _(){return v(e,t,r)}});import{r as Sa,a as q}from"./@react-router-B_Yxq9fH.js";import{h as Th,B as $h,d as kh,g as Oh,w as Rh,a as Fh,b as Nh,c as su,e as Mh,f as zh,i as iu,j as _h,k as ou,l as Uh,m as Lh,n as au,o as Dh,p as jh,q as qh,r as Gh,s as Hh,t as cu,u as Vh,v as Bf,x as Wh,y as Qh,z as Kh,A as Zh,C as Yh,D as Jh,E as Xh,F as ep,G as tp,H as Ca,I as Aa,P as uu,J as np}from"./@wagmi-core-ClbrNBk4.js";(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"0.8.14458"}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="be9de12d-f998-49d9-b9c5-fda02dd0430c",e._sentryDebugIdIdentifier="sentry-dbid-be9de12d-f998-49d9-b9c5-fda02dd0430c")})()}catch{}const rp="modulepreload",sp=function(e){return"/"+e},fu={},$r=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=o(n.map(u=>{if(u=sp(u),u in fu)return;fu[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const l=document.createElement("link");if(l.rel=f?"stylesheet":rp,f||(l.as="script"),l.crossOrigin="",l.href=u,c&&l.setAttribute("nonce",c),document.head.appendChild(l),f)return new Promise((h,b)=>{l.addEventListener("load",h),l.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};var Xi={exports:{}},Qr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du;function ip(){if(du)return Qr;du=1;var e=Sa(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,u){var f,d={},l=null,h=null;u!==void 0&&(l=""+u),c.key!==void 0&&(l=""+c.key),c.ref!==void 0&&(h=c.ref);for(f in c)r.call(c,f)&&!i.hasOwnProperty(f)&&(d[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)d[f]===void 0&&(d[f]=c[f]);return{$$typeof:t,type:a,key:l,ref:h,props:d,_owner:s.current}}return Qr.Fragment=n,Qr.jsx=o,Qr.jsxs=o,Qr}var lu;function op(){return lu||(lu=1,Xi.exports=ip()),Xi.exports}var ap=op();function cp(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function sw(){const e=new Set;let t=[];const n=()=>cp(s=>{t.some(({info:i})=>i.uuid===s.info.uuid)||(t=[...t,s],e.forEach(i=>i(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r==null||r()},findProvider({rdns:s}){return t.find(i=>i.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return e.add(s),i&&s(t,{added:t}),()=>e.delete(s)}}}const up="1.1.0";let Oe=class ko extends Error{constructor(t,n={}){var o;const r=n.cause instanceof ko?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof ko&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${up}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Tt(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Tf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$f=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,kf=/^\(.+?\).*?$/,hu=/^tuple(?<array>(\[(\d*)\])*)$/;function Oo(e){let t=e.type;if(hu.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=Oo(i),s<n-1&&(t+=", ")}const r=Tt(hu,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Oo({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Hn(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Oo(s),r!==n-1&&(t+=", ")}return t}function Vs(e){var t;return e.type==="function"?`function ${e.name}(${Hn(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Hn(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Hn(e.inputs)})`:e.type==="error"?`error ${e.name}(${Hn(e.inputs)})`:e.type==="constructor"?`constructor(${Hn(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Of=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function fp(e){return Of.test(e)}function dp(e){return Tt(Of,e)}const Rf=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function lp(e){return Rf.test(e)}function hp(e){return Tt(Rf,e)}const Ff=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function pp(e){return Ff.test(e)}function bp(e){return Tt(Ff,e)}const Nf=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function mi(e){return Nf.test(e)}function yp(e){return Tt(Nf,e)}const Mf=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function mp(e){return Mf.test(e)}function gp(e){return Tt(Mf,e)}const zf=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function wp(e){return zf.test(e)}function vp(e){return Tt(zf,e)}const xp=/^receive\(\) external payable$/;function Ep(e){return xp.test(e)}const pu=new Set(["memory","indexed","storage","calldata"]),Pp=new Set(["indexed"]),Ro=new Set(["calldata","memory","storage"]);class _f extends Oe{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Uf extends Oe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Ip extends Oe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Lf extends Oe{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Df extends Oe{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class jf extends Oe{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class qf extends Oe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Gf extends Oe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Hf extends Oe{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Fn extends Oe{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Vf extends Oe{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Wf extends Oe{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Qf extends Oe{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Kf extends Oe{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Sp(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return t?`${t}:${e}${r}`:e}const eo=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Fo(e,t={}){if(pp(e))return Cp(e,t);if(lp(e))return Ap(e,t);if(fp(e))return Bp(e,t);if(mp(e))return Tp(e,t);if(wp(e))return $p(e);if(Ep(e))return{type:"receive",stateMutability:"payable"};throw new Vf({signature:e})}function Cp(e,t={}){const n=bp(e);if(!n)throw new Fn({signature:e,type:"function"});const r=Ne(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Ct(r[a],{modifiers:Ro,structs:t,type:"function"}));const o=[];if(n.returns){const a=Ne(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(Ct(a[u],{modifiers:Ro,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function Ap(e,t={}){const n=hp(e);if(!n)throw new Fn({signature:e,type:"event"});const r=Ne(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ct(r[o],{modifiers:Pp,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Bp(e,t={}){const n=dp(e);if(!n)throw new Fn({signature:e,type:"error"});const r=Ne(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ct(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Tp(e,t={}){const n=gp(e);if(!n)throw new Fn({signature:e,type:"constructor"});const r=Ne(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ct(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function $p(e){const t=vp(e);if(!t)throw new Fn({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const kp=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Op=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Rp=/^u?int$/;function Ct(e,t){var d,l;const n=Sp(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(eo.has(n))return eo.get(n);const r=kf.test(e),s=Tt(r?Op:kp,e);if(!s)throw new Df({param:e});if(s.name&&Np(s.name))throw new jf({param:e,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const h=Ne(s.type),b=[],p=h.length;for(let g=0;g<p;g++)b.push(Ct(h[g],{structs:a}));u={components:b}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(Rp.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!Zf(c))throw new Ip({type:c});if(s.modifier){if(!((l=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&l.call(d,s.modifier)))throw new qf({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Ro.has(s.modifier)&&!Mp(c,!!s.array))throw new Gf({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...i,...o,...u};return eo.set(n,f),f}function Ne(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const o=e[i],a=e.slice(i+1);switch(o){case",":return r===0?Ne(a,[...t,n.trim()]):Ne(a,t,`${n}${o}`,r);case"(":return Ne(a,t,`${n}${o}`,r+1);case")":return Ne(a,t,`${n}${o}`,r-1);default:return Ne(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new Kf({current:n,depth:r});return t.push(n.trim()),t}function Zf(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Tf.test(e)||$f.test(e)}const Fp=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Np(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Tf.test(e)||$f.test(e)||Fp.test(e)}function Mp(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Ba(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!mi(a))continue;const c=yp(a);if(!c)throw new Fn({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const b=u[l].trim();if(!b)continue;const p=Ct(b,{type:"struct"});f.push(p)}if(!f.length)throw new Wf({signature:a});t[c.name]=f}const r={},s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=Yf(c,t)}return r}const zp=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Yf(e,t,n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const o=e[i];if(kf.test(o.type))r.push(o);else{const c=Tt(zp,o.type);if(!(c!=null&&c.type))throw new Hf({abiParameter:o});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new Qf({type:f});r.push({...o,type:`tuple${u??""}`,components:Yf(t[f]??[],t,new Set([...n,f]))})}else if(Zf(f))r.push(o);else throw new Uf({type:f})}}return r}function Ta(e){const t=Ba(e),n=[],r=e.length;for(let s=0;s<r;s++){const i=e[s];mi(i)||n.push(Fo(i,t))}return n}function No(e){let t;if(typeof e=="string")t=Fo(e);else{const n=Ba(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(!mi(i)){t=Fo(i,n);break}}}if(!t)throw new _f({signature:e});return t}function Mo(e){const t=[];if(typeof e=="string"){const n=Ne(e),r=n.length;for(let s=0;s<r;s++)t.push(Ct(n[s],{modifiers:pu}))}else{const n=Ba(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(mi(i))continue;const o=Ne(i),a=o.length;for(let c=0;c<a;c++)t.push(Ct(o[c],{modifiers:pu,structs:n}))}}if(t.length===0)throw new Lf({params:e});return t}function ne(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Jf="2.38.0";let Kr={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Jf}`},C=class zo extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof zo?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof zo&&n.cause.docsPath||n.docsPath,i=(a=Kr.getDocsUrl)==null?void 0:a.call(Kr,{...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Kr.version?[`Version: ${Kr.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Jf}walk(t){return Xf(this,t)}};function Xf(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Xf(e.cause,t):t?null:e}let ee=class extends C{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};function ze(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}let $a=class extends C{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},ka=class extends C{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class bu extends C{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function We(e,{dir:t,size:n=32}={}){return typeof e=="string"?Pt(e,{dir:t,size:n}):ed(e,{dir:t,size:n})}function Pt(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new ka({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function ed(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new ka({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}let Oa=class extends C{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},td=class extends C{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class nd extends C{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let rd=class extends C{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function X(e){return ze(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function ye(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function qe(e,{size:t}){if(X(e)>t)throw new rd({givenSize:X(e),maxSize:t})}function K(e,t={}){const{signed:n}=t;t.size&&qe(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function sd(e,t={}){let n=e;if(t.size&&(qe(n,{size:t.size}),n=ye(n)),ye(n)==="0x00")return!1;if(ye(n)==="0x01")return!0;throw new nd(n)}function $e(e,t={}){return Number(K(e,t))}function _p(e,t={}){let n=he(e);return t.size&&(qe(n,{size:t.size}),n=ye(n,{dir:"right"})),new TextDecoder().decode(n)}const Up=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function H(e,t={}){return typeof e=="number"||typeof e=="bigint"?$(e,t):typeof e=="string"?Kt(e,t):typeof e=="boolean"?gi(e,t):ie(e,t)}function gi(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(qe(n,{size:t.size}),We(n,{size:t.size})):n}function ie(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Up[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(qe(r,{size:t.size}),We(r,{dir:"right",size:t.size})):r}function $(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof e=="bigint"?"n":"";throw new Oa({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?We(a,{size:r}):a}const Lp=new TextEncoder;function Kt(e,t={}){const n=Lp.encode(e);return ie(n,t)}const Dp=new TextEncoder;function ot(e,t={}){return typeof e=="number"||typeof e=="bigint"?od(e,t):typeof e=="boolean"?id(e,t):ze(e)?he(e,t):Vt(e,t)}function id(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(qe(n,{size:t.size}),We(n,{size:t.size})):n}const ht={zero:48,nine:57,A:65,F:70,a:97,f:102};function yu(e){if(e>=ht.zero&&e<=ht.nine)return e-ht.zero;if(e>=ht.A&&e<=ht.F)return e-(ht.A-10);if(e>=ht.a&&e<=ht.f)return e-(ht.a-10)}function he(e,t={}){let n=e;t.size&&(qe(n,{size:t.size}),n=We(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=yu(r.charCodeAt(a++)),u=yu(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new C(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+u}return i}function od(e,t){const n=$(e,t);return he(n)}function Vt(e,t={}){const n=Dp.encode(e);return typeof t.size=="number"?(qe(n,{size:t.size}),We(n,{dir:"right",size:t.size})):n}const Fs=BigInt(2**32-1),mu=BigInt(32);function jp(e,t=!1){return t?{h:Number(e&Fs),l:Number(e>>mu&Fs)}:{h:Number(e>>mu&Fs)|0,l:Number(e&Fs)|0}}function qp(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=jp(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const Gp=(e,t,n)=>e<<n|t>>>32-n,Hp=(e,t,n)=>t<<n|e>>>32-n,Vp=(e,t,n)=>t<<n-32|e>>>64-n,Wp=(e,t,n)=>e<<n-32|t>>>64-n,qn=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Qp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ns(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function xn(e,...t){if(!Qp(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Kp(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ns(e.outputLen),ns(e.blockLen)}function fr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ad(e,t){xn(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Zp(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function dr(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function to(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function tt(e,t){return e<<32-t|e>>>t}const Yp=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Jp(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Xp(e){for(let t=0;t<e.length;t++)e[t]=Jp(e[t]);return e}const gu=Yp?e=>e:Xp;function eb(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function wi(e){return typeof e=="string"&&(e=eb(e)),xn(e),e}function tb(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];xn(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class Ra{}function cd(e){const t=r=>e().update(wi(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function nb(e=32){if(qn&&typeof qn.getRandomValues=="function")return qn.getRandomValues(new Uint8Array(e));if(qn&&typeof qn.randomBytes=="function")return Uint8Array.from(qn.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const rb=BigInt(0),Zr=BigInt(1),sb=BigInt(2),ib=BigInt(7),ob=BigInt(256),ab=BigInt(113),ud=[],fd=[],dd=[];for(let e=0,t=Zr,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],ud.push(2*(5*r+n)),fd.push((e+1)*(e+2)/2%64);let s=rb;for(let i=0;i<7;i++)t=(t<<Zr^(t>>ib)*ab)%ob,t&sb&&(s^=Zr<<(Zr<<BigInt(i))-Zr);dd.push(s)}const ld=qp(dd,!0),cb=ld[0],ub=ld[1],wu=(e,t,n)=>n>32?Vp(e,t,n):Gp(e,t,n),vu=(e,t,n)=>n>32?Wp(e,t,n):Hp(e,t,n);function fb(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],f=n[c+1],d=wu(u,f,1)^n[a],l=vu(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=d,e[o+h+1]^=l}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=fd[o],c=wu(s,i,a),u=vu(s,i,a),f=ud[o];s=e[f],i=e[f+1],e[f]=c,e[f+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=cb[r],e[1]^=ub[r]}dr(n)}class Fa extends Ra{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,ns(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Zp(this.state)}clone(){return this._cloneInto()}keccak(){gu(this.state32),fb(this.state32,this.rounds),gu(this.state32),this.posOut=0,this.pos=0}update(t){fr(this),t=wi(t),xn(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){fr(this,!1),xn(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return ns(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(ad(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,dr(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new Fa(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const db=(e,t,n)=>cd(()=>new Fa(t,e,n)),hd=db(1,136,256/8);function ue(e,t){const n=t||"hex",r=hd(ze(e,{strict:!1})?ot(e):e);return n==="bytes"?r:H(r)}let kr=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const lb=/^0x[a-fA-F0-9]{40}$/,no=new kr(8192);function J(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(no.has(r))return no.get(r);const s=lb.test(e)?e.toLowerCase()===e?!0:n?Or(e)===e:!0:!1;return no.set(r,s),s}const ro=new kr(8192);function Or(e,t){if(ro.has(`${e}.${t}`))return ro.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=ue(Vt(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return ro.set(`${e}.${t}`,i),i}function Me(e,t){if(!J(e,{strict:!1}))throw new ee({address:e});return Or(e,t)}function pd(e){const t=ue(`0x${e.substring(4)}`).substring(26);return Or(`0x${t}`)}function Qe(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Pd(e.type);return`${e.name}(${vi(e.inputs,{includeName:t})})`}function vi(e,{includeName:t=!1}={}){return e?e.map(n=>hb(n,{includeName:t})).join(t?", ":","):""}function hb(e,{includeName:t}){return e.type.startsWith("tuple")?`(${vi(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class bd extends C{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class _o extends C{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Na extends C{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${vi(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Rr extends C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class yd extends C{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class md extends C{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${X(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Ma extends C{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class gd extends C{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Uo extends C{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class za extends C{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class wd extends C{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class _a extends C{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Lo extends C{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class En extends C{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Ua extends C{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class vd extends C{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class pb extends C{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Qe(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Qe(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let La=class extends C{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class lr extends C{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${vi(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class ms extends C{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Qe(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class xd extends C{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Ed extends C{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Da=class extends C{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Pd extends C{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Id extends C{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let xu=class extends C{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Sd=class extends C{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},bb=class extends C{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const yb={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new bb({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Sd({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new xu({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new xu({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function ja(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(yb);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Zt(e,t,n,{strict:r}={}){return ze(e,{strict:!1})?Ws(e,t,n,{strict:r}):qa(e,t,n,{strict:r})}function Cd(e,t){if(typeof t=="number"&&t>0&&t>X(e)-1)throw new $a({offset:t,position:"start",size:X(e)})}function Ad(e,t,n){if(typeof t=="number"&&typeof n=="number"&&X(e)!==n-t)throw new $a({offset:n,position:"end",size:X(e)})}function qa(e,t,n,{strict:r}={}){Cd(e,t);const s=e.slice(t,n);return r&&Ad(s,t,n),s}function Ws(e,t,n,{strict:r}={}){Cd(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Ad(s,t,n),s}function Bd(e,t={}){typeof t.size<"u"&&qe(e,{size:t.size});const n=ie(e,t);return K(n,t)}function Td(e,t={}){let n=e;if(typeof t.size<"u"&&(qe(n,{size:t.size}),n=ye(n)),n.length>1||n[0]>1)throw new td(n);return!!n[0]}function at(e,t={}){typeof t.size<"u"&&qe(e,{size:t.size});const n=ie(e,t);return $e(n,t)}function $d(e,t={}){let n=e;return typeof t.size<"u"&&(qe(n,{size:t.size}),n=ye(n,{dir:"right"})),new TextDecoder().decode(n)}function ke(e){return typeof e[0]=="string"?pe(e):kd(e)}function kd(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function pe(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const mb=/^(.*)\[([0-9]*)\]$/,Od=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ga=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ft(e,t){if(e.length!==t.length)throw new Ma({expectedLength:e.length,givenLength:t.length});const n=gb({params:e,values:t}),r=Va(n);return r.length===0?"0x":r}function gb({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Ha({param:e[r],value:t[r]}));return n}function Ha({param:e,value:t}){const n=Wa(e.type);if(n){const[r,s]=n;return vb(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Sb(t,{param:e});if(e.type==="address")return wb(t);if(e.type==="bool")return Eb(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Ga.exec(e.type)??[];return Pb(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return xb(t,{param:e});if(e.type==="string")return Ib(t);throw new xd(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Va(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=X(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push($(t+s,{size:32})),r.push(a),s+=X(a)):n.push(a)}return ke([...n,...r])}function wb(e){if(!J(e))throw new ee({address:e});return{dynamic:!1,encoded:Pt(e.toLowerCase())}}function vb(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Da(e);if(!r&&e.length!==t)throw new yd({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const i=[];for(let o=0;o<e.length;o++){const a=Ha({param:n,value:e[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=Va(i);if(r){const a=$(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?ke([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:ke(i.map(({encoded:o})=>o))}}function xb(e,{param:t}){const[,n]=t.type.split("bytes"),r=X(e);if(!n){let s=e;return r%32!==0&&(s=Pt(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:ke([Pt($(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new md({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Pt(e,{dir:"right"})}}function Eb(e){if(typeof e!="boolean")throw new C(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Pt(gi(e))}}function Pb(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Oa({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:$(e,{size:32,signed:t})}}function Ib(e){const t=Kt(e),n=Math.ceil(X(t)/32),r=[];for(let s=0;s<n;s++)r.push(Pt(Zt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ke([Pt($(X(t),{size:32})),...r])}}function Sb(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],o=Array.isArray(e)?s:i.name,a=Ha({param:i,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Va(r):ke(r.map(({encoded:s})=>s))}}function Wa(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Fr(e,t){const n=typeof t=="string"?he(t):t,r=ja(n);if(X(n)===0&&e.length>0)throw new Rr;if(X(t)&&X(t)<32)throw new Na({data:typeof t=="string"?t:ie(t),params:e,size:X(t)});let s=0;const i=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(s);const[c,u]=Kn(r,a,{staticPosition:0});s+=u,i.push(c)}return i}function Kn(e,t,{staticPosition:n}){const r=Wa(t.type);if(r){const[s,i]=r;return Ab(e,{...t,type:i},{length:s,staticPosition:n})}if(t.type==="tuple")return kb(e,t,{staticPosition:n});if(t.type==="address")return Cb(e);if(t.type==="bool")return Bb(e);if(t.type.startsWith("bytes"))return Tb(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return $b(e,t);if(t.type==="string")return Ob(e,{staticPosition:n});throw new Ed(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Eu=32,Do=32;function Cb(e){const t=e.readBytes(32);return[Or(ie(qa(t,-20))),32]}function Ab(e,t,{length:n,staticPosition:r}){if(!n){const o=at(e.readBytes(Do)),a=r+o,c=a+Eu;e.setPosition(a);const u=at(e.readBytes(Eu)),f=rs(t);let d=0;const l=[];for(let h=0;h<u;++h){e.setPosition(c+(f?h*32:d));const[b,p]=Kn(e,t,{staticPosition:c});d+=p,l.push(b)}return e.setPosition(r+32),[l,32]}if(rs(t)){const o=at(e.readBytes(Do)),a=r+o,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=Kn(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Kn(e,t,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function Bb(e){return[Td(e.readBytes(32),{size:32}),32]}function Tb(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=at(e.readBytes(32));e.setPosition(n+o);const a=at(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[ie(c),32]}return[ie(e.readBytes(Number.parseInt(s,10),32)),32]}function $b(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Bd(s,{signed:n}):at(s,{signed:n}),32]}function kb(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(rs(t)){const o=at(e.readBytes(Do)),a=n+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+i);const[f,d]=Kn(e,u,{staticPosition:a});i+=d,s[r?c:u==null?void 0:u.name]=f}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,u]=Kn(e,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=u}return[s,i]}function Ob(e,{staticPosition:t}){const n=at(e.readBytes(32)),r=t+n;e.setPosition(r);const s=at(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=$d(ye(i));return e.setPosition(t+32),[o,32]}function rs(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(rs);const n=Wa(e.type);return!!(n&&rs({...e,type:n[1]}))}const Rb={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Rd={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Fb={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},Nb=e=>ue(ot(e));function Mb(e){return Nb(e)}function zb(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new C("Unable to normalize signature.");return s}const Xr=e=>{const t=typeof e=="string"?e:Vs(e);return zb(t)};function Qs(e){return Mb(Xr(e))}const Pn=e=>Zt(Qs(e),0,4);function Qa(e){const{abi:t,data:n}=e,r=Zt(n,0,4);if(r==="0x")throw new Rr;const i=[...t||[],Rd,Fb].find(o=>o.type==="error"&&r===Pn(Qe(o)));if(!i)throw new za(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Fr(i.inputs,Zt(n,4)):void 0,errorName:i.name}}const hr=Qs,Pu="/docs/contract/decodeEventLog";function xi(e){const{abi:t,data:n,strict:r,topics:s}=e,i=r??!0,[o,...a]=s;if(!o)throw new wd({docsPath:Pu});const c=t.find(p=>p.type==="event"&&o===hr(Qe(p)));if(!(c&&"name"in c)||c.type!=="event")throw new _a(o,{docsPath:Pu});const{name:u,inputs:f}=c,d=f==null?void 0:f.some(p=>!("name"in p&&p.name)),l=d?[]:{},h=f.map((p,g)=>[p,g]).filter(([p])=>"indexed"in p&&p.indexed);for(let p=0;p<h.length;p++){const[g,y]=h[p],x=a[p];if(!x)throw new ms({abiItem:c,param:g});l[d?y:g.name||y]=_b({param:g,value:x})}const b=f.filter(p=>!("indexed"in p&&p.indexed));if(b.length>0){if(n&&n!=="0x")try{const p=Fr(b,n);if(p)if(d)for(let g=0;g<f.length;g++)l[g]=l[g]??p.shift();else for(let g=0;g<b.length;g++)l[b[g].name]=p[g]}catch(p){if(i)throw p instanceof Na||p instanceof Sd?new lr({abiItem:c,data:n,params:b,size:X(n)}):p}else if(i)throw new lr({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function _b({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Fr([e],t)||[])[0]}function Fd(e){const{abi:t,data:n}=e,r=Zt(n,0,4),s=t.find(i=>i.type==="function"&&r===Pn(Qe(i)));if(!s)throw new vd(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Fr(s.inputs,Zt(n,4)):void 0}}function en(e){const{abi:t,args:n=[],name:r}=e,s=ze(r,{strict:!1}),i=t.filter(a=>s?a.type==="function"?Pn(a)===r:a.type==="event"?hr(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?jo(u,d):!1})){if(o&&"inputs"in o&&o.inputs){const u=Nd(a.inputs,o.inputs,n);if(u)throw new pb({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||i[0]}function jo(e,t){const n=typeof e,r=t.type;switch(r){case"address":return J(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>jo(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>jo(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Nd(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return Nd(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?J(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?J(n[r],{strict:!1}):!1)return o}}const so="/docs/contract/decodeFunctionResult";function tn(e){const{abi:t,args:n,functionName:r,data:s}=e;let i=t[0];if(r){const a=en({abi:t,args:n,name:r});if(!a)throw new En(r,{docsPath:so});i=a}if(i.type!=="function")throw new En(void 0,{docsPath:so});if(!i.outputs)throw new Ua(i.name,{docsPath:so});const o=Fr(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const io="/docs/contract/encodeDeployData";function gs(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new bd({docsPath:io});if(!("inputs"in s))throw new _o({docsPath:io});if(!s.inputs||s.inputs.length===0)throw new _o({docsPath:io});const i=ft(s.inputs,n);return pe([r,i])}const oo="/docs/contract/encodeErrorResult";function qo(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=en({abi:t,args:r,name:n});if(!c)throw new Uo(n,{docsPath:oo});s=c}if(s.type!=="error")throw new Uo(void 0,{docsPath:oo});const i=Qe(s),o=Pn(i);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new gd(s.name,{docsPath:oo});a=ft(s.inputs,r)}return pe([o,a])}class Md extends C{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Iu="/docs/contract/encodeEventTopics";function Nr(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=en({abi:t,name:n});if(!u)throw new Lo(n,{docsPath:Iu});s=u}if(s.type!=="event")throw new Lo(void 0,{docsPath:Iu});const i=Qe(s),o=hr(i);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(a=(u==null?void 0:u.map((d,l)=>Array.isArray(f[l])?f[l].map((h,b)=>Su({param:d,value:f[l][b]})):typeof f[l]<"u"&&f[l]!==null?Su({param:d,value:f[l]}):null))??[])}return[o,...a]}function Su({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ue(ot(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Md(e.type);return ft([e],[t])}const Cu="/docs/contract/encodeFunctionData";function zd(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const i=en({abi:t,args:n,name:r});if(!i)throw new En(r,{docsPath:Cu});s=i}if(s.type!=="function")throw new En(void 0,{docsPath:Cu});return{abi:[s],functionName:Pn(Qe(s))}}function Re(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:zd(e)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?ft(s.inputs,t??[]):void 0;return pe([i,o??"0x"])}const ao="/docs/contract/encodeFunctionResult";function _d(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=en({abi:t,name:n});if(!o)throw new En(n,{docsPath:ao});s=o}if(s.type!=="function")throw new En(void 0,{docsPath:ao});if(!s.outputs)throw new Ua(s.name,{docsPath:ao});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Da(r)})();return ft(s.outputs,i)}function Ub(e,t){if(e.length!==t.length)throw new Ma({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(Ud(s,i))}return pe(n)}function Ud(e,t,n=!1){if(e==="address"){const o=t;if(!J(o))throw new ee({address:o});return We(o.toLowerCase(),{size:n?32:null})}if(e==="string")return Kt(t);if(e==="bytes")return t;if(e==="bool")return We(gi(t),{size:n?32:1});const r=e.match(Ga);if(r){const[o,a,c="256"]=r,u=Number.parseInt(c,10)/8;return $(t,{size:n?32:u,signed:a==="int"})}const s=e.match(Od);if(s){const[o,a]=s;if(Number.parseInt(a,10)!==(t.length-2)/2)throw new La({expectedSize:Number.parseInt(a,10),givenSize:(t.length-2)/2});return We(t,{dir:"right",size:n?32:null})}const i=e.match(mb);if(i&&Array.isArray(t)){const[o,a]=i,c=[];for(let u=0;u<t.length;u++)c.push(Ud(a,t[u],!0));return c.length===0?"0x":pe(c)}throw new Id(e)}const te=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Ld({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof t[i]=="object"?te(t[i]):t[i]}`).join(", ")})`}function Nn(e,t){if(!J(e,{strict:!1}))throw new ee({address:e});if(!J(t,{strict:!1}))throw new ee({address:t});return e.toLowerCase()===t.toLowerCase()}function Ei(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{var a;try{const c=t.find(f=>f.type==="event"&&o.topics[0]===hr(f));if(!c)return null;const u=xi({...o,abi:[c],strict:s});return i&&!i.includes(u.eventName)||!Lb({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...o}}catch(c){let u,f;if(c instanceof _a)return null;if(c instanceof lr||c instanceof ms){if(s)return null;u=c.abiItem.name,f=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:f?[]:{},eventName:u}}}).filter(Boolean)}function Lb(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(i,o,a){try{return i.type==="address"?Nn(o,a):i.type==="string"||i.type==="bytes"?ue(ot(o))===a:o===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(u=>u.name===i);return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):!1}function Ke(e,t="hex"){const n=Dd(e),r=ja(new Uint8Array(n.length));return n.encode(r),t==="hex"?ie(r.bytes):r.bytes}function Dd(e){return Array.isArray(e)?Db(e.map(t=>Dd(t))):jb(e)}function Db(e){const t=e.reduce((s,i)=>s+i.length,0),n=jd(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function jb(e){const t=typeof e=="string"?he(e):e,n=jd(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function jd(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new C("Length is too large.")}function qd(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,i=ue(pe(["0x05",Ke([t?$(t):"0x",s,n?$(n):"0x"])]));return r==="bytes"?he(i):i}async function Gd({hash:e,signature:t}){const n=ze(e)?e:H(e),{secp256k1:r}=await $r(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>xm);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,h=Number(l??d),b=Au(h);return new r.Signature(K(u),K(f)).addRecoveryBit(b)}const o=ze(t)?t:H(t);if(X(o)!==65)throw new Error("invalid signature length");const a=$e(`0x${o.slice(130)}`),c=Au(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Au(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Ka({hash:e,signature:t}){return pd(await Gd({hash:e,signature:t}))}async function Pi(e){const{authorization:t,signature:n}=e;return Ka({hash:qd(t),signature:n??t})}const Za={gwei:9,wei:18},Hd={ether:-9,wei:9},qb={ether:-18,gwei:-9};function Ya(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function Ii(e,t="wei"){return Ya(e,Za[t])}function Pe(e,t="wei"){return Ya(e,Hd[t])}function ws(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Vd extends C{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Wd extends C{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Qd extends C{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ws(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Kd extends C{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Zd extends C{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var b;const h=ws({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${Ii(l)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Pe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Pe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pe(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Ja extends C{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class Xa extends C{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Yd extends C{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function Si(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>he(i)):e.blobs,s=[];for(const i of r)s.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>ie(i))}function Ci(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>he(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>he(o)):e.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>ie(o))}function Gb(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}function Hb(e,t,n){return e&t^~e&n}function Vb(e,t,n){return e&t^e&n^t&n}class Wb extends Ra{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=to(this.buffer)}update(t){fr(this),t=wi(t),xn(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=to(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){fr(this),ad(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,dr(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Gb(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=to(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Ot=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Qb=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rt=new Uint32Array(64);class Kb extends Wb{constructor(t=32){super(64,t,8,!1),this.A=Ot[0]|0,this.B=Ot[1]|0,this.C=Ot[2]|0,this.D=Ot[3]|0,this.E=Ot[4]|0,this.F=Ot[5]|0,this.G=Ot[6]|0,this.H=Ot[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Rt[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=Rt[d-15],h=Rt[d-2],b=tt(l,7)^tt(l,18)^l>>>3,p=tt(h,17)^tt(h,19)^h>>>10;Rt[d]=p+Rt[d-7]+b+Rt[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=tt(a,6)^tt(a,11)^tt(a,25),h=f+l+Hb(a,c,u)+Qb[d]+Rt[d]|0,p=(tt(r,2)^tt(r,13)^tt(r,22))+Vb(r,s,i)|0;f=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,i,o,a,c,u,f)}roundClean(){dr(Rt)}destroy(){this.set(0,0,0,0,0,0,0,0),dr(this.buffer)}}const Jd=cd(()=>new Kb),Zb=Jd;function ec(e,t){const n=t||"hex",r=Zb(ze(e,{strict:!1})?ot(e):e);return n==="bytes"?r:H(r)}function Xd(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=ec(t,"bytes");return s.set([n],0),r==="bytes"?s:ie(s)}function tc(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const i of t)s.push(Xd({commitment:i,to:r,version:n}));return s}const Bu=6,el=32,nc=4096,tl=el*nc,Tu=tl*Bu-1-1*nc*Bu,nl=1;class Yb extends C{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class rl extends C{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Jb extends C{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Xb extends C{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${nl}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function sl(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?he(e.data):e.data,r=X(n);if(!r)throw new rl;if(r>Tu)throw new Yb({maxSize:Tu,size:r});const s=[];let i=!0,o=0;for(;i;){const a=ja(new Uint8Array(tl));let c=0;for(;c<nc;){const u=n.slice(o,o+(el-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),i=!1;break}c++,o+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>ie(a.bytes))}function rc(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??sl({data:t,to:r}),i=e.commitments??Si({blobs:s,kzg:n,to:r}),o=e.proofs??Ci({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}const il=2n**16n-1n,e1=2n**192n-1n,Mr=2n**256n-1n;class Ks extends C{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class ol extends C{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class al extends C{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class sc extends C{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Mn extends C{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}class Gt extends C{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Gt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Gt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class At extends C{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Pe(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(At,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Zs extends C{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Pe(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Zs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Ys extends C{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Ys,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Js extends C{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Js,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Xs extends C{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Xs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class ei extends C{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(ei,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class ti extends C{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(ti,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class ni extends C{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(ni,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class ri extends C{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(ri,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class In extends C{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Pe(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Pe(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(In,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class zr extends C{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function t1(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!J(s))throw new ee({address:s});if(r<0)throw new Mn({chainId:r})}Ai(e)}function n1(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new rl;for(const n of t){const r=X(n),s=$e(Zt(n,0,1));if(r!==32)throw new Jb({hash:n,size:r});if(s!==nl)throw new Xb({hash:n,version:s})}}Ai(e)}function Ai(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Mn({chainId:t});if(s&&!J(s))throw new ee({address:s});if(r&&r>Mr)throw new At({maxFeePerGas:r});if(n&&r&&n>r)throw new In({maxFeePerGas:r,maxPriorityFeePerGas:n})}function cl(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(t<=0)throw new Mn({chainId:t});if(i&&!J(i))throw new ee({address:i});if(n||s)throw new C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Mr)throw new At({maxFeePerGas:r})}function ul(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(i&&!J(i))throw new ee({address:i});if(typeof t<"u"&&t<=0)throw new Mn({chainId:t});if(n||s)throw new C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Mr)throw new At({maxFeePerGas:r})}function ic(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Qd({transaction:e})}function _r(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new Kd({storageKey:s[i]});if(!J(r,{strict:!1}))throw new ee({address:r});t.push([r,s])}return t}function Bi(e,t){const n=ic(e);return n==="eip1559"?i1(e,t):n==="eip2930"?o1(e,t):n==="eip4844"?s1(e,t):n==="eip7702"?r1(e,t):a1(e,t)}function r1(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:i,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;t1(e);const l=_r(f),h=c1(n);return pe(["0x04",Ke([$(r),i?$(i):"0x",u?$(u):"0x",c?$(c):"0x",s?$(s):"0x",o??"0x",a?$(a):"0x",d??"0x",l,h,...Ur(e,t)])])}function s1(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;n1(e);let l=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof l>"u"||typeof h>"u")){const w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(P=>ie(P)),m=e.kzg,E=Si({blobs:w,kzg:m});if(typeof l>"u"&&(l=tc({commitments:E})),typeof h>"u"){const P=Ci({blobs:w,commitments:E,kzg:m});h=rc({blobs:w,commitments:E,proofs:P})}}const b=_r(f),p=[$(n),s?$(s):"0x",u?$(u):"0x",c?$(c):"0x",r?$(r):"0x",i??"0x",o?$(o):"0x",d??"0x",b,a?$(a):"0x",l??[],...Ur(e,t)],g=[],y=[],x=[];if(h)for(let w=0;w<h.length;w++){const{blob:m,commitment:E,proof:P}=h[w];g.push(m),y.push(E),x.push(P)}return pe(["0x03",Ke(h?[p,g,y,x]:p)])}function i1(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:f}=e;Ai(e);const d=_r(u),l=[$(n),s?$(s):"0x",c?$(c):"0x",a?$(a):"0x",r?$(r):"0x",i??"0x",o?$(o):"0x",f??"0x",d,...Ur(e,t)];return pe(["0x02",Ke(l)])}function o1(e,t){const{chainId:n,gas:r,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:u}=e;cl(e);const f=_r(c),d=[$(n),i?$(i):"0x",u?$(u):"0x",r?$(r):"0x",o??"0x",a?$(a):"0x",s??"0x",f,...Ur(e,t)];return pe(["0x01",Ke(d)])}function a1(e,t){const{chainId:n=0,gas:r,data:s,nonce:i,to:o,value:a,gasPrice:c}=e;ul(e);let u=[i?$(i):"0x",c?$(c):"0x",r?$(r):"0x",o??"0x",a?$(a):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new Wd({v:t.v});return h})(),d=ye(t.r),l=ye(t.s);u=[...u,$(f),d==="0x00"?"0x":d,l==="0x00"?"0x":l]}else n>0&&(u=[...u,$(n),"0x","0x"]);return Ke(u)}function Ur(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const i=ye(n.r),o=ye(n.s);return[typeof s=="number"?s?$(1):"0x":r===0n?"0x":r===1n?$(1):r===27n?"0x":$(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function c1(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...i}=n,o=n.address;t.push([r?H(r):"0x",o,s?H(s):"0x",...Ur({},i)])}return t}async function u1({address:e,authorization:t,signature:n}){return Nn(Me(e),await Pi({authorization:t,signature:n}))}const f1=e=>e,zn=e=>e;class Wt extends C{constructor({body:t,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${zn(o)}`,t&&`Request body: ${te(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=i,this.url=o}}class Go extends C{constructor({body:t,cause:n,details:r,url:s}){super("WebSocket request failed.",{cause:n,details:r,metaMessages:[`URL: ${zn(s)}`,t&&`Request body: ${te(t)}`].filter(Boolean),name:"WebSocketRequestError"})}}class vs extends C{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${zn(r)}`,`Request body: ${te(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class ss extends C{constructor({url:t}={}){super("The socket has been closed.",{metaMessages:[t&&`URL: ${zn(t)}`].filter(Boolean),name:"SocketClosedError"})}}class si extends C{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${zn(n)}`,`Request body: ${te(t)}`],name:"TimeoutError"})}}const d1=-1;class Se extends C{constructor(t,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof vs?t.code:n??d1}}class Fe extends Se{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class pr extends Se{constructor(t){super(t,{code:pr.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(pr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class br extends Se{constructor(t){super(t,{code:br.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(br,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class yr extends Se{constructor(t,{method:n}={}){super(t,{code:yr.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(yr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class mr extends Se{constructor(t){super(t,{code:mr.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(mr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Yt extends Se{constructor(t){super(t,{code:Yt.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Jt extends Se{constructor(t){super(t,{code:Jt.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class gr extends Se{constructor(t){super(t,{code:gr.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(gr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class wr extends Se{constructor(t){super(t,{code:wr.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(wr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Sn extends Se{constructor(t){super(t,{code:Sn.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ht extends Se{constructor(t,{method:n}={}){super(t,{code:Ht.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Ht,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Cn extends Se{constructor(t){super(t,{code:Cn.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class vr extends Se{constructor(t){super(t,{code:vr.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(vr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class le extends Fe{constructor(t){super(t,{code:le.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(le,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class xr extends Fe{constructor(t){super(t,{code:xr.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Er extends Fe{constructor(t,{method:n}={}){super(t,{code:Er.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Er,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Pr extends Fe{constructor(t){super(t,{code:Pr.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Pr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Ir extends Fe{constructor(t){super(t,{code:Ir.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Ir,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Ze extends Fe{constructor(t){super(t,{code:Ze.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Ze,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class An extends Fe{constructor(t){super(t,{code:An.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(An,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Sr extends Fe{constructor(t){super(t,{code:Sr.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Sr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Cr extends Fe{constructor(t){super(t,{code:Cr.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Cr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Ar extends Fe{constructor(t){super(t,{code:Ar.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Ar,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Br extends Fe{constructor(t){super(t,{code:Br.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Br,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Tr extends Fe{constructor(t){super(t,{code:Tr.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Tr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Bn extends Fe{constructor(t){super(t,{code:Bn.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class fl extends Se{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Ns=new kr(8192);function l1(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Ns.get(n))return Ns.get(n);const r=e().finally(()=>Ns.delete(n));return Ns.set(n,r),r}async function ii(e){return new Promise(t=>setTimeout(t,e))}function is(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:a,error:u}):t;f&&await ii(f),o({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});i(u)}};o()})}function h1(e,t={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(u))throw new Ht(new Error("method not supported"),{method:u});if(i!=null&&i.include&&!i.include.includes(u))throw new Ht(new Error("method not supported"),{method:u});const f=s?Kt(`${c}.${te(n)}`):void 0;return l1(()=>is(async()=>{try{return await e(n)}catch(l){const h=l;switch(h.code){case pr.code:throw new pr(h);case br.code:throw new br(h);case yr.code:throw new yr(h,{method:n.method});case mr.code:throw new mr(h);case Yt.code:throw new Yt(h);case Jt.code:throw new Jt(h);case gr.code:throw new gr(h);case wr.code:throw new wr(h);case Sn.code:throw new Sn(h);case Ht.code:throw new Ht(h,{method:n.method});case Cn.code:throw new Cn(h);case vr.code:throw new vr(h);case le.code:throw new le(h);case xr.code:throw new xr(h);case Er.code:throw new Er(h);case Pr.code:throw new Pr(h);case Ir.code:throw new Ir(h);case Ze.code:throw new Ze(h);case An.code:throw new An(h);case Sr.code:throw new Sr(h);case Cr.code:throw new Cr(h);case Ar.code:throw new Ar(h);case Br.code:throw new Br(h);case Tr.code:throw new Tr(h);case Bn.code:throw new Bn(h);case 5e3:throw new le(h);default:throw l instanceof C?l:new fl(h)}}},{delay:({count:l,error:h})=>{var b;if(h&&h instanceof Wt){const p=(b=h==null?void 0:h.headers)==null?void 0:b.get("Retry-After");if(p!=null&&p.match(/\d/))return Number.parseInt(p,10)*1e3}return~~(1<<l)*o},retryCount:a,shouldRetry:({error:l})=>p1(l)}),{enabled:s,id:f})}}function p1(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Cn.code||e.code===Yt.code:e instanceof Wt&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oc=BigInt(0),Ho=BigInt(1);function xs(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ac(e){if(!xs(e))throw new Error("Uint8Array expected")}function os(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Ms(e){const t=e.toString(16);return t.length&1?"0"+t:t}function dl(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?oc:BigInt("0x"+e)}const ll=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",b1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function as(e){if(ac(e),ll)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=b1[e[n]];return t}const pt={_0:48,_9:57,A:65,F:70,a:97,f:102};function $u(e){if(e>=pt._0&&e<=pt._9)return e-pt._0;if(e>=pt.A&&e<=pt.F)return e-(pt.A-10);if(e>=pt.a&&e<=pt.f)return e-(pt.a-10)}function oi(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(ll)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=$u(e.charCodeAt(i)),a=$u(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function wn(e){return dl(as(e))}function hl(e){return ac(e),dl(as(Uint8Array.from(e).reverse()))}function Es(e,t){return oi(e.toString(16).padStart(t*2,"0"))}function pl(e,t){return Es(e,t).reverse()}function Le(e,t,n){let r;if(typeof t=="string")try{r=oi(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(xs(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function ai(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];ac(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const co=e=>typeof e=="bigint"&&oc<=e;function cc(e,t,n){return co(e)&&co(t)&&co(n)&&t<=e&&e<n}function Zn(e,t,n,r){if(!cc(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function y1(e){let t;for(t=0;e>oc;e>>=Ho,t+=1);return t}const Ti=e=>(Ho<<BigInt(e))-Ho,uo=e=>new Uint8Array(e),ku=e=>Uint8Array.from(e);function m1(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=uo(e),s=uo(e),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>n(s,r,...d),c=(d=uo(0))=>{s=a(ku([0]),d),r=a(),d.length!==0&&(s=a(ku([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const h=r.slice();l.push(h),d+=r.length}return ai(...l)};return(d,l)=>{o(),c(d);let h;for(;!(h=l(u()));)c();return o(),h}}const g1={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||xs(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function $i(e,t,n={}){const r=(s,i,o)=>{const a=g1[i];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}function Ou(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const w1="0.1.1";function v1(){return w1}let Q=class Vo extends Error{constructor(t,n={}){const r=(()=>{var c;if(n.cause instanceof Vo){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Vo&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${v1()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return bl(this,t)}};function bl(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?bl(e.cause,t):t?null:e}function Ps(e,t){if(Wn(e)>t)throw new z1({givenSize:Wn(e),maxSize:t})}const bt={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ru(e){if(e>=bt.zero&&e<=bt.nine)return e-bt.zero;if(e>=bt.A&&e<=bt.F)return e-(bt.A-10);if(e>=bt.a&&e<=bt.f)return e-(bt.a-10)}function x1(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new _1({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=e[o?i:e.length-i-1]}return s}function yl(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function ki(e,t){if(_e(e)>t)throw new G1({givenSize:_e(e),maxSize:t})}function E1(e,t){if(typeof t=="number"&&t>0&&t>_e(e)-1)throw new Sl({offset:t,position:"start",size:_e(e)})}function P1(e,t,n){if(typeof t=="number"&&typeof n=="number"&&_e(e)!==n-t)throw new Sl({offset:n,position:"end",size:_e(e)})}function ml(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new H1({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const I1="#__bigint";function gl(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+I1:s,n)}const S1=new TextDecoder,C1=new TextEncoder;function A1(e){return e instanceof Uint8Array?e:typeof e=="string"?wl(e):B1(e)}function B1(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function wl(e,t={}){const{size:n}=t;let r=e;n&&(ki(e,n),r=$n(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const u=Ru(s.charCodeAt(c++)),f=Ru(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new Q(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=u*16+f}return o}function T1(e,t={}){const{size:n}=t,r=C1.encode(e);return typeof n=="number"?(Ps(r,n),$1(r,n)):r}function $1(e,t){return x1(e,{dir:"right",size:t})}function Wn(e){return e.length}function k1(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function O1(e,t={}){const{size:n}=t;typeof n<"u"&&Ps(e,n);const r=Je(e,t);return El(r,t)}function R1(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Ps(r,n),r=vl(r)),r.length>1||r[0]>1)throw new M1(r);return!!r[0]}function It(e,t={}){const{size:n}=t;typeof n<"u"&&Ps(e,n);const r=Je(e,t);return Pl(r,t)}function F1(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Ps(r,n),r=N1(r)),S1.decode(r)}function vl(e){return yl(e,{dir:"left"})}function N1(e){return yl(e,{dir:"right"})}class M1 extends Q{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let z1=class extends Q{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},_1=class extends Q{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const U1=new TextEncoder,L1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function D1(e,t={}){const{strict:n=!1}=t;if(!e)throw new Fu(e);if(typeof e!="string")throw new Fu(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Nu(e);if(!e.startsWith("0x"))throw new Nu(e)}function Ye(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function j1(e){return e instanceof Uint8Array?Je(e):Array.isArray(e)?Je(new Uint8Array(e)):e}function xl(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ki(n,t.size),Tn(n,t.size)):n}function Je(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=L1[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(ki(r,t.size),$n(r,t.size)):r}function Ee(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const u=typeof e=="bigint"?"n":"";throw new Il({max:i?`${i}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Tn(c,r):c}function uc(e,t={}){return Je(U1.encode(e),t)}function Tn(e,t){return ml(e,{dir:"left",size:t})}function $n(e,t){return ml(e,{dir:"right",size:t})}function ct(e,t,n,r={}){const{strict:s}=r;E1(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&P1(i,t,n),i}function _e(e){return Math.ceil((e.length-2)/2)}function El(e,t={}){const{signed:n}=t;t.size&&ki(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n)-1n,o=i>>1n;return r<=o?r:r-i-1n}function Pl(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:El(e,t))}function q1(e,t={}){const{strict:n=!1}=t;try{return D1(e,{strict:n}),!0}catch{return!1}}class Il extends Q{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Fu extends Q{constructor(t){super(`Value \`${typeof t=="object"?gl(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Nu extends Q{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class G1 extends Q{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Sl extends Q{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class H1 extends Q{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function V1(e){return{address:e.address,amount:Ee(e.amount),index:Ee(e.index),validatorIndex:Ee(e.validatorIndex)}}function Cl(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:Ee(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:Ee(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:Ee(e.gasLimit)},...typeof e.number=="bigint"&&{number:Ee(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:Ee(e.prevRandao)},...typeof e.time=="bigint"&&{time:Ee(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(V1)}}}const cs=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Wo=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Al=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Bl=[...Al,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],W1=[...Al,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Mu=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],zu=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Tl=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],ci=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Q1=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],K1="0x82ad56cb",fc="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",$l="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Qo="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",dc="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class kl extends C{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Ol extends C{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function _u(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Z1(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=_u(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=_u(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}class lc extends C{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:h}){var g;const b=n?ne(n):void 0;let p=ws({from:b==null?void 0:b.address,to:d,value:typeof l<"u"&&`${Ii(l)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Pe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Pe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pe(u)} gwei`,nonce:f});h&&(p+=`
${Z1(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class hc extends C{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=en({abi:n,args:r,name:o}),u=c?Ld({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?Qe(c,{includeName:!0}):void 0,d=ws({address:s&&f1(s),function:f,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=a}}class ui extends C{constructor({abi:t,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=Qa({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=o;if(d==="Error")c=l[0];else if(d==="Panic"){const[h]=l;c=Rb[h]}else{const h=f?Qe(f,{includeName:!0}):void 0,b=f&&l?Ld({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",b&&b!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(f){i=f}else s&&(c=s);let u;i instanceof za&&(u=i.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=u}}class Rl extends C{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Fl extends C{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Is extends C{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function _n({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Ks({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Ks({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Oi(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof C?e.walk(s=>(s==null?void 0:s.code)===Gt.code):e;return r instanceof C?new Gt({cause:e,message:r.details}):Gt.nodeMessage.test(n)?new Gt({cause:e,message:e.details}):At.nodeMessage.test(n)?new At({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Zs.nodeMessage.test(n)?new Zs({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Ys.nodeMessage.test(n)?new Ys({cause:e,nonce:t==null?void 0:t.nonce}):Js.nodeMessage.test(n)?new Js({cause:e,nonce:t==null?void 0:t.nonce}):Xs.nodeMessage.test(n)?new Xs({cause:e,nonce:t==null?void 0:t.nonce}):ei.nodeMessage.test(n)?new ei({cause:e}):ti.nodeMessage.test(n)?new ti({cause:e,gas:t==null?void 0:t.gas}):ni.nodeMessage.test(n)?new ni({cause:e,gas:t==null?void 0:t.gas}):ri.nodeMessage.test(n)?new ri({cause:e}):In.nodeMessage.test(n)?new In({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new zr({cause:e})}function pc(e,{docsPath:t,...n}){const r=(()=>{const s=Oi(e,n);return s instanceof zr?e:s})();return new lc(r,{docsPath:t,...n})}function Lr(e,{format:t}){if(!t)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in e&&(n[a]=e[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=t(e||{});return r(s),n}function Ri(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,i)=>{const o=t(s,i);if(n)for(const a of n)delete o[a];return{...o,...r(s,i)}},type:e})}const Nl={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function dt(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=Y1(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>ie(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=$(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=$(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=$(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=$(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=$(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=$(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=Nl[e.type]),typeof e.value<"u"&&(n.value=$(e.value)),n}const bc=Ri("transactionRequest",dt);function Y1(e){return e.map(t=>({address:t.address,r:t.r?$(BigInt(t.r)):t.r,s:t.s?$(BigInt(t.s)):t.s,chainId:$(t.chainId),nonce:$(t.nonce),...typeof t.yParity<"u"?{yParity:$(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:$(t.v)}:{}}))}function yc(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const fo=new Map;function mc({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const f=c();o();const d=f.map(({args:l})=>l);d.length!==0&&e(d).then(l=>{s&&Array.isArray(l)&&l.sort(s);for(let h=0;h<f.length;h++){const{resolve:b}=f[h];b==null||b([l[h],l])}}).catch(l=>{for(let h=0;h<f.length;h++){const{reject:b}=f[h];b==null||b(l)}})},o=()=>fo.delete(t),a=()=>c().map(({args:f})=>f),c=()=>fo.get(t)||[],u=f=>fo.set(t,[...c(),f]);return{flush:o,async schedule(f){const{promise:d,resolve:l,reject:h}=yc();return(n==null?void 0:n([...a(),f]))&&i(),c().length>0?(u({args:f,resolve:l,reject:h}),d):(u({args:f,resolve:l,reject:h}),setTimeout(i,r),d)}}}function Uu(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new bu({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new bu({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function J1(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:i}=e,o={};if(i!==void 0&&(o.code=i),t!==void 0&&(o.balance=$(t)),n!==void 0&&(o.nonce=$(n)),r!==void 0&&(o.state=Uu(r)),s!==void 0){if(o.state)throw new Ol;o.stateDiff=Uu(s)}return o}function gc(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!J(n,{strict:!1}))throw new ee({address:n});if(t[n])throw new kl({address:n});t[n]=J1(r)}return t}function lt(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=e,o=t?ne(t):void 0;if(o&&!J(o.address))throw new ee({address:o.address});if(i&&!J(i))throw new ee({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Vd;if(r&&r>Mr)throw new At({maxFeePerGas:r});if(s&&r&&s>r)throw new In({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function Ss(e,t){var N,G,R,F;const{account:n=e.account,authorizationList:r,batch:s=!!((N=e.batch)!=null&&N.multicall),blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:h,gas:b,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:x,nonce:w,to:m,value:E,stateOverride:P,...I}=t,S=n?ne(n):void 0;if(f&&(l||h))throw new C("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&m)throw new C("Cannot provide both `code` & `to` as parameters.");const T=f&&d,A=l&&h&&m&&d,B=T||A,k=T?Ml({code:f,data:d}):A?ty({data:d,factory:l,factoryData:h,to:m}):d;try{lt(t);const O=(typeof i=="bigint"?$(i):void 0)||o,z=u?Cl(u):void 0,D=gc(P),V=(F=(R=(G=e.chain)==null?void 0:G.formatters)==null?void 0:R.transactionRequest)==null?void 0:F.format,me=(V||dt)({...Lr(I,{format:V}),from:S==null?void 0:S.address,accessList:a,authorizationList:r,blobs:c,data:k,gas:b,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:x,nonce:w,to:B?void 0:m,value:E},"call");if(s&&X1({request:me})&&!D&&!z)try{return await ey(e,{...me,blockNumber:i,blockTag:o})}catch(ge){if(!(ge instanceof sc)&&!(ge instanceof Ks))throw ge}const be=(()=>{const ge=[me,O];return D&&z?[...ge,D,z]:D?[...ge,D]:z?[...ge,{},z]:ge})(),ce=await e.request({method:"eth_call",params:be});return ce==="0x"?{data:void 0}:{data:ce}}catch(_){const O=ny(_),{offchainLookup:z,offchainLookupSignature:D}=await $r(async()=>{const{offchainLookup:V,offchainLookupSignature:oe}=await Promise.resolve().then(()=>ay);return{offchainLookup:V,offchainLookupSignature:oe}},void 0);if(e.ccipRead!==!1&&(O==null?void 0:O.slice(0,10))===D&&m)return{data:await z(e,{data:O,to:m})};throw B&&(O==null?void 0:O.slice(0,10))==="0x101bb98d"?new Fl({factory:l}):pc(_,{...t,account:S,chain:e.chain})}}function X1({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(K1)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function ey(e,t){var p;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((p=e.batch)==null?void 0:p.multicall)=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return _n({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new sc})(),d=(typeof i=="bigint"?$(i):void 0)||o,{schedule:l}=mc({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(g){return g.reduce((x,{data:w})=>x+(w.length-2),0)>n*2},fn:async g=>{const y=g.map(m=>({allowFailure:!0,callData:m.data,target:m.to})),x=Re({abi:cs,args:[y],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{...u===null?{data:Ml({code:dc,data:x})}:{to:u,data:x}},d]});return tn({abi:cs,args:[y],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:h,success:b}]=await l({data:a,to:c});if(!b)throw new Is({data:h});return h==="0x"?{data:void 0}:{data:h}}function Ml(e){const{code:t,data:n}=e;return gs({abi:Ta(["constructor(bytes, bytes)"]),bytecode:fc,args:[t,n]})}function ty(e){const{data:t,factory:n,factoryData:r,to:s}=e;return gs({abi:Ta(["constructor(address, bytes, address, bytes)"]),bytecode:$l,args:[s,t,n,r]})}function ny(e){var n;if(!(e instanceof C))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}class ry extends C{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:i,urls:o}){var a;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(c=>`    ${zn(c)}`)],`  Sender: ${i}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class sy extends C{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${zn(n)}`,`Response: ${te(t)}`],name:"OffchainLookupResponseMalformedError"})}}class iy extends C{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const Cs="x-batch-gateway:true";async function zl(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Fd({abi:Wo,data:t}),s=[],i=[];return await Promise.all(r.map(async(o,a)=>{try{i[a]=o.urls.includes(Cs)?await zl({data:o.data,ccipRequest:n}):await n(o),s[a]=!1}catch(c){s[a]=!0,i[a]=oy(c)}})),_d({abi:Wo,functionName:"query",result:[s,i]})}function oy(e){return e.name==="HttpRequestError"&&e.status?qo({abi:Wo,errorName:"HttpError",args:[e.status,e.shortMessage]}):qo({abi:[Rd],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}const _l="0x556f1830",wc={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Ul(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:i}=Qa({data:r,abi:[wc]}),[o,a,c,u,f]=i,{ccipRead:d}=e,l=d&&typeof(d==null?void 0:d.request)=="function"?d.request:fi;try{if(!Nn(s,o))throw new iy({sender:o,to:s});const h=a.includes(Cs)?await zl({data:c,ccipRequest:l}):await l({data:c,sender:o,urls:a}),{data:b}=await Ss(e,{blockNumber:t,blockTag:n,data:ke([u,ft([{type:"bytes"},{type:"bytes"}],[h,f])]),to:s});return b}catch(h){throw new ry({callbackSelector:u,cause:h,data:r,extraData:f,sender:o,urls:a})}}async function fi({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let i=0;i<n.length;i++){const o=n[i],a=o.includes("{data}")?"GET":"POST",c=a==="POST"?{data:e,sender:t}:void 0,u=a==="POST"?{"Content-Type":"application/json"}:{};try{const f=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(c),headers:u,method:a});let d;if((s=f.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?d=(await f.json()).data:d=await f.text(),!f.ok){r=new Wt({body:c,details:d!=null&&d.error?te(d.error):f.statusText,headers:f.headers,status:f.status,url:o});continue}if(!ze(d)){r=new sy({result:d,url:o});continue}return d}catch(f){r=new Wt({body:c,details:f.message,url:o})}}throw r}const ay=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:fi,offchainLookup:Ul,offchainLookupAbiItem:wc,offchainLookupSignature:_l},Symbol.toStringTag,{value:"Module"}));function Fi({chain:e,currentChainId:t}){if(!e)throw new al;if(t!==e.id)throw new ol({chain:e,currentChainId:t})}function Y(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const cy=3;function Xt(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=e instanceof Is?e:e instanceof C?e.walk(b=>"data"in b)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=a,h=e instanceof Rr?new Rl({functionName:i}):[cy,Yt.code].includes(c)&&(u||f||d||l)?new ui({abi:t,data:typeof u=="object"?u.data:u,functionName:i,message:a instanceof vs?f:l??d}):e;return new hc(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}class Ll extends C{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var b;const h=ws({from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${Ii(l)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Pe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Pe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pe(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function uy(e,{docsPath:t,...n}){const r=(()=>{const s=Oi(e,n);return s instanceof zr?e:s})();return new Ll(r,{docsPath:t,...n})}function vc(e,{docsPath:t,...n}){const r=(()=>{const s=Oi(e,n);return s instanceof zr?e:s})();return new Zd(r,{docsPath:t,...n})}const xc={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Dr(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?$e(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?$e(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?xc[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=fy(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const Ni=Ri("transaction",Dr);function fy(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Mi(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Dr(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const zi=Ri("block",Mi);function Xe(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}const Dl={"0x0":"reverted","0x1":"success"};function _i(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Xe(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?$e(e.transactionIndex):null,status:e.status?Dl[e.status]:null,type:e.type?xc[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const Ec=Ri("transactionReceipt",_i);function U(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}async function Pc(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?$(r):n]},{dedupe:!!r});return $e(s)}function dy(e){const{source:t}=e,n=new Map,r=new kr(8192),s=new Map,i=({address:o,chainId:a})=>`${o}.${a}`;return{async consume({address:o,chainId:a,client:c}){const u=i({address:o,chainId:a}),f=this.get({address:o,chainId:a,client:c});this.increment({address:o,chainId:a});const d=await f;return await t.set({address:o,chainId:a},d),r.set(u,d),d},async increment({address:o,chainId:a}){const c=i({address:o,chainId:a}),u=n.get(c)??0;n.set(c,u+1)},async get({address:o,chainId:a,client:c}){const u=i({address:o,chainId:a});let f=s.get(u);return f||(f=(async()=>{try{const l=await t.get({address:o,chainId:a,client:c}),h=r.get(u)??0;return h>0&&l<=h?h+1:(r.delete(u),l)}finally{this.reset({address:o,chainId:a})}})(),s.set(u,f)),(n.get(u)??0)+await f},reset({address:o,chainId:a}){const c=i({address:o,chainId:a});n.delete(c),s.delete(c)}}}function Ic(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(t)},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(t),i(a)}finally{clearTimeout(o)}})()})}function ly(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Ko=ly();function hy(e,t={}){return{async request(n){var l;const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:f,signal:d}=c;try{const h=await Ic(async({signal:p})=>{const g={...c,body:Array.isArray(r)?te(r.map(m=>({jsonrpc:"2.0",id:m.id??Ko.take(),...m}))):te({jsonrpc:"2.0",id:r.id??Ko.take(),...r}),headers:{"Content-Type":"application/json",...u},method:f||"POST",signal:d||(a>0?p:null)},y=new Request(e,g),x=await(i==null?void 0:i(y,g))??{...g,url:e};return await s(x.url??e,x)},{errorInstance:new si({body:r,url:e}),timeout:a,signal:!0});o&&await o(h);let b;if((l=h.headers.get("Content-Type"))!=null&&l.startsWith("application/json"))b=await h.json();else{b=await h.text();try{b=JSON.parse(b||"{}")}catch(p){if(h.ok)throw p;b={error:b}}}if(!h.ok)throw new Wt({body:r,details:te(b.error)||h.statusText,headers:h.headers,status:h.status,url:e});return b}catch(h){throw h instanceof Wt||h instanceof si?h:new Wt({body:r,cause:h,url:e})}}}}const lo=new Map;async function py(e){const{getSocket:t,keepAlive:n=!0,key:r="socket",reconnect:s=!0,url:i}=e,{interval:o=3e4}=typeof n=="object"?n:{},{attempts:a=5,delay:c=2e3}=typeof s=="object"?s:{},u=JSON.stringify({keepAlive:n,key:r,url:i,reconnect:s});let f=lo.get(u);if(f)return f;let d=0;const{schedule:l}=mc({id:u,fn:async()=>{const p=new Map,g=new Map;let y,x,w,m=!1;function E(){if(s&&d<a){if(m)return;m=!0,d++,x==null||x.close(),setTimeout(async()=>{await P().catch(console.error),m=!1},c)}else p.clear(),g.clear()}async function P(){const I=await t({onClose(){var S,T;for(const A of p.values())(S=A.onError)==null||S.call(A,new ss({url:i}));for(const A of g.values())(T=A.onError)==null||T.call(A,new ss({url:i}));E()},onError(S){var T,A;y=S;for(const B of p.values())(T=B.onError)==null||T.call(B,y);for(const B of g.values())(A=B.onError)==null||A.call(B,y);E()},onOpen(){y=void 0,d=0},onResponse(S){const T=S.method==="eth_subscription",A=T?S.params.subscription:S.id,B=T?g:p,k=B.get(A);k&&k.onResponse(S),T||B.delete(A)}});if(x=I,n&&(w&&clearInterval(w),w=setInterval(()=>{var S;return(S=x.ping)==null?void 0:S.call(x)},o)),s&&g.size>0){const S=g.entries();for(const[T,{onResponse:A,body:B,onError:k}]of S)B&&(g.delete(T),f==null||f.request({body:B,onResponse:A,onError:k}))}return I}return await P(),y=void 0,f={close(){w&&clearInterval(w),x.close(),lo.delete(u)},get socket(){return x},request({body:I,onError:S,onResponse:T}){y&&S&&S(y);const A=I.id??Ko.take(),B=k=>{var N;typeof k.id=="number"&&A!==k.id||(I.method==="eth_subscribe"&&typeof k.result=="string"&&g.set(k.result,{onResponse:B,onError:S,body:I}),I.method==="eth_unsubscribe"&&g.delete((N=I.params)==null?void 0:N[0]),T(k))};p.set(A,{onResponse:B,onError:S});try{x.request({body:{jsonrpc:"2.0",id:A,...I}})}catch(k){S==null||S(k)}},requestAsync({body:I,timeout:S=1e4}){return Ic(()=>new Promise((T,A)=>this.request({body:I,onError:A,onResponse:T})),{errorInstance:new si({body:I,url:i}),timeout:S})},requests:p,subscriptions:g,url:i},lo.set(u,f),[f]}}),[h,[b]]=await l();return b}async function qs(e,t={}){const{keepAlive:n,reconnect:r}=t;return py({async getSocket({onClose:s,onError:i,onOpen:o,onResponse:a}){const c=await $r(()=>import("./native-Cl-EtvI5.js"),[]).then(h=>h.WebSocket),u=new c(e);function f(){u.removeEventListener("close",f),u.removeEventListener("message",d),u.removeEventListener("error",i),u.removeEventListener("open",o),s()}function d({data:h}){if(!(typeof h=="string"&&h.trim().length===0))try{const b=JSON.parse(h);a(b)}catch(b){i(b)}}u.addEventListener("close",f),u.addEventListener("message",d),u.addEventListener("error",i),u.addEventListener("open",o),u.readyState===c.CONNECTING&&await new Promise((h,b)=>{u&&(u.onopen=h,u.onerror=b)});const{close:l}=u;return Object.assign(u,{close(){l.bind(u)(),f()},ping(){try{if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new Go({url:u.url,cause:new ss({url:u.url})});const h={jsonrpc:"2.0",id:null,method:"net_version",params:[]};u.send(JSON.stringify(h))}catch(h){i(h)}},request({body:h}){if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new Go({body:h,url:u.url,cause:new ss({url:u.url})});return u.send(JSON.stringify(h))}})},keepAlive:n,reconnect:r,url:e})}async function by(e){const t=await qs(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}const jl=`Ethereum Signed Message:
`;function ql(e){const t=typeof e=="string"?Kt(e):typeof e.raw=="string"?e.raw:ie(e.raw),n=Kt(`${jl}${X(t)}`);return ke([n,t])}function Ui(e,t){return ue(ql(e),t)}class Gl extends C{constructor({domain:t}){super(`Invalid domain "${te(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Hl extends C{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Vl extends C{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Wl(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(c,u)=>{const f={...u};for(const d of c){const{name:l,type:h}=d;h==="address"&&(f[l]=f[l].toLowerCase())}return f},o=s.EIP712Domain?t?i(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return te({domain:o,message:a,primaryType:r,types:s})}function Sc(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(o,a)=>{for(const c of o){const{name:u,type:f}=c,d=a[u],l=f.match(Ga);if(l&&(typeof d=="number"||typeof d=="bigint")){const[p,g,y]=l;$(d,{signed:g==="int",size:Number.parseInt(y,10)/8})}if(f==="address"&&typeof d=="string"&&!J(d))throw new ee({address:d});const h=f.match(Od);if(h){const[p,g]=h;if(g&&X(d)!==Number.parseInt(g,10))throw new La({expectedSize:Number.parseInt(g,10),givenSize:X(d)})}const b=s[f];b&&(my(f),i(b,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Gl({domain:t});i(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new Hl({primaryType:r,types:s})}function Li({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function yy({domain:e}){return Ac({domain:e,types:{EIP712Domain:Li({domain:e})}})}function my(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Vl({type:e})}function Cc(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Li({domain:t}),...e.types};Sc({domain:t,message:n,primaryType:r,types:s});const i=["0x1901"];return t&&i.push(Ac({domain:t,types:s})),r!=="EIP712Domain"&&i.push(Bc({data:n,primaryType:r,types:s})),ue(ke(i))}function Ac({domain:e,types:t}){return Bc({data:e,primaryType:"EIP712Domain",types:t})}function Bc({data:e,primaryType:t,types:n}){const r=Ql({data:e,primaryType:t,types:n});return ue(r)}function Ql({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[gy({primaryType:t,types:n})];for(const i of n[t]){const[o,a]=Zl({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(o),s.push(a)}return ft(r,s)}function gy({primaryType:e,types:t}){const n=H(wy({primaryType:e,types:t}));return ue(n)}function wy({primaryType:e,types:t}){let n="";const r=Kl({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const i of s)n+=`${i}(${t[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function Kl({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const i of t[s])Kl({primaryType:i.type,types:t},n);return n}function Zl({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},ue(Ql({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},ue(r)];if(n==="string")return[{type:"bytes32"},ue(H(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>Zl({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},ue(ft(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}const vy="0x6492649264926492649264926492649264926492649264926492649264926492";class xy extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Ey={checksum:new xy(8192)},ho=Ey.checksum;function Yl(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=hd(A1(e));return n==="Bytes"?r:Je(r)}const Py=/^0x[a-fA-F0-9]{40}$/;function Di(e,t={}){const{strict:n=!0}=t;if(!Py.test(e))throw new Lu({address:e,cause:new Iy});if(n){if(e.toLowerCase()===e)return;if(Jl(e)!==e)throw new Lu({address:e,cause:new Sy})}}function Jl(e){if(ho.has(e))return ho.get(e);Di(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Yl(T1(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return ho.set(e,s),s}function Zo(e,t={}){const{strict:n=!0}=t??{};try{return Di(e,{strict:n}),!0}catch{return!1}}class Lu extends Q{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Iy extends Q{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Sy extends Q{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Cy=/^(.*)\[([0-9]*)\]$/,Ay=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Xl=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Du=2n**256n-1n;function Yn(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=kc(t.type);if(i){const[o,a]=i;return Ty(e,{...t,type:a},{checksumAddress:r,length:o,staticPosition:s})}if(t.type==="tuple")return Ry(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return By(e,{checksum:r});if(t.type==="bool")return $y(e);if(t.type.startsWith("bytes"))return ky(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Oy(e,t);if(t.type==="string")return Fy(e,{staticPosition:s});throw new Rc(t.type)}const ju=32,Yo=32;function By(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(i=>n?Jl(i):i)(Je(k1(r,-20))),32]}function Ty(e,t,n){const{checksumAddress:r,length:s,staticPosition:i}=n;if(!s){const c=It(e.readBytes(Yo)),u=i+c,f=u+ju;e.setPosition(u);const d=It(e.readBytes(ju)),l=us(t);let h=0;const b=[];for(let p=0;p<d;++p){e.setPosition(f+(l?p*32:h));const[g,y]=Yn(e,t,{checksumAddress:r,staticPosition:f});h+=y,b.push(g)}return e.setPosition(i+32),[b,32]}if(us(t)){const c=It(e.readBytes(Yo)),u=i+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=Yn(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(i+32),[f,32]}let o=0;const a=[];for(let c=0;c<s;++c){const[u,f]=Yn(e,t,{checksumAddress:r,staticPosition:i+o});o+=f,a.push(u)}return[a,o]}function $y(e){return[R1(e.readBytes(32),{size:32}),32]}function ky(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=It(e.readBytes(32));e.setPosition(n+o);const a=It(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Je(c),32]}return[Je(e.readBytes(Number.parseInt(s,10),32)),32]}function Oy(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?O1(s,{signed:n}):It(s,{signed:n}),32]}function Ry(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=t.components.length===0||t.components.some(({name:c})=>!c),o=i?[]:{};let a=0;if(us(t)){const c=It(e.readBytes(Yo)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[l,h]=Yn(e,d,{checksumAddress:r,staticPosition:u});a+=h,o[i?f:d==null?void 0:d.name]=l}return e.setPosition(s+32),[o,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=Yn(e,u,{checksumAddress:r,staticPosition:s});o[i?c:u==null?void 0:u.name]=f,a+=d}return[o,a]}function Fy(e,{staticPosition:t}){const n=It(e.readBytes(32)),r=t+n;e.setPosition(r);const s=It(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=F1(vl(i));return e.setPosition(t+32),[o,32]}function Ny({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Tc({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Tc({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=kc(r.type);if(s){const[i,o]=s;return zy(n,{checksumAddress:e,length:i,parameter:{...r,type:o}})}if(r.type==="tuple")return jy(n,{checksumAddress:e,parameter:r});if(r.type==="address")return My(n,{checksum:e});if(r.type==="bool")return Uy(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,o="256"]=Xl.exec(r.type)??[];return Ly(n,{signed:i,size:Number(o)})}if(r.type.startsWith("bytes"))return _y(n,{type:r.type});if(r.type==="string")return Dy(n);throw new Rc(r.type)}function $c(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=_e(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(Ee(t+s,{size:32})),r.push(a),s+=_e(a)):n.push(a)}return Ye(...n,...r)}function My(e,t){const{checksum:n=!1}=t;return Di(e,{strict:n}),{dynamic:!1,encoded:Tn(e.toLowerCase())}}function zy(e,t){const{checksumAddress:n,length:r,parameter:s}=t,i=r===null;if(!Array.isArray(e))throw new Yy(e);if(!i&&e.length!==r)throw new Zy({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<e.length;c++){const u=Tc({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(o=!0),a.push(u)}if(i||o){const c=$c(a);if(i){const u=Ee(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Ye(u,c):u}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Ye(...a.map(({encoded:c})=>c))}}function _y(e,{type:t}){const[,n]=t.split("bytes"),r=_e(e);if(!n){let s=e;return r%32!==0&&(s=$n(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Ye(Tn(Ee(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new t0({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:$n(e)}}function Uy(e){if(typeof e!="boolean")throw new Q(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Tn(xl(e))}}function Ly(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Il({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:Ee(e,{size:32,signed:t})}}function Dy(e){const t=uc(e),n=Math.ceil(_e(t)/32),r=[];for(let s=0;s<n;s++)r.push($n(ct(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Ye($n(Ee(_e(t),{size:32})),...r)}}function jy(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const i=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(e)?o:a.name,u=Tc({checksumAddress:n,parameter:a,value:e[c]});i.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?$c(i):Ye(...i.map(({encoded:o})=>o))}}function kc(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function us(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(us);const n=kc(e.type);return!!(n&&us({...e,type:n[1]}))}const qy={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Vy({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Hy({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new qu({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new qu({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Gy(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(qy);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class qu extends Q{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Hy extends Q{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Vy extends Q{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Wy(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,i=typeof t=="string"?wl(t):t,o=Gy(i);if(Wn(i)===0&&e.length>0)throw new Ky;if(Wn(i)&&Wn(i)<32)throw new Qy({data:typeof t=="string"?t:Je(t),parameters:e,size:Wn(i)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];o.setPosition(a);const[d,l]=Yn(o,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function Oc(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new n0({expectedLength:e.length,givenLength:t.length});const s=Ny({checksumAddress:r,parameters:e,values:t}),i=$c(s);return i.length===0?"0x":i}function Jo(e,t){if(e.length!==t.length)throw new n0({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(Jo.encode(s,i))}return Ye(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return Di(c),Tn(c.toLowerCase(),s?32:0)}if(n==="string")return uc(r);if(n==="bytes")return r;if(n==="bool")return Tn(xl(r),s?32:1);const i=n.match(Xl);if(i){const[c,u,f="256"]=i,d=Number.parseInt(f,10)/8;return Ee(r,{size:s?32:d,signed:u==="int"})}const o=n.match(Ay);if(o){const[c,u]=o;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new t0({expectedSize:Number.parseInt(u,10),value:r});return $n(r,s?32:0)}const a=n.match(Cy);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":Ye(...f)}throw new Rc(n)}e.encode=t})(Jo||(Jo={}));function e0(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Mo(e):e}class Qy extends Q{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Hn(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Ky extends Q{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Zy extends Q{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class t0 extends Q{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${_e(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class n0 extends Q{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Yy extends Q{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Rc extends Q{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class r0 extends Ra{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Kp(t);const r=wi(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),dr(i)}update(t){return fr(this),this.iHash.update(t),this}digestInto(t){fr(this),xn(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const s0=(e,t,n)=>new r0(e,t).update(n).digest();s0.create=(e,t)=>new r0(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Te=BigInt(0),Ie=BigInt(1),cn=BigInt(2),Jy=BigInt(3),i0=BigInt(4),o0=BigInt(5),a0=BigInt(8);function Be(e,t){const n=e%t;return n>=Te?n:t+n}function Ue(e,t,n){let r=e;for(;t-- >Te;)r*=r,r%=n;return r}function Xo(e,t){if(e===Te)throw new Error("invert: expected non-zero number");if(t<=Te)throw new Error("invert: expected positive modulus, got "+t);let n=Be(e,t),r=t,s=Te,i=Ie;for(;n!==Te;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==Ie)throw new Error("invert: does not exist");return Be(s,t)}function c0(e,t){const n=(e.ORDER+Ie)/i0,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Xy(e,t){const n=(e.ORDER-o0)/a0,r=e.mul(t,cn),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,cn),s),a=e.mul(i,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function em(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Ie,n=0;for(;t%cn===Te;)t/=cn,n++;let r=cn;const s=Fc(e);for(;Gu(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return c0;let i=s.pow(r,t);const o=(t+Ie)/cn;return function(c,u){if(c.is0(u))return u;if(Gu(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,i),l=c.pow(u,t),h=c.pow(u,o);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let b=1,p=c.sqr(l);for(;!c.eql(p,c.ONE);)if(b++,p=c.sqr(p),b===f)throw new Error("Cannot find square root");const g=Ie<<BigInt(f-b-1),y=c.pow(d,g);f=b,d=c.sqr(y),l=c.mul(l,d),h=c.mul(h,y)}return h}}function tm(e){return e%i0===Jy?c0:e%a0===o0?Xy:em(e)}const nm=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rm(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=nm.reduce((r,s)=>(r[s]="function",r),t);return $i(e,n)}function sm(e,t,n){if(n<Te)throw new Error("invalid exponent, negatives unsupported");if(n===Te)return e.ONE;if(n===Ie)return t;let r=e.ONE,s=t;for(;n>Te;)n&Ie&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Ie;return r}function u0(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function Gu(e,t){const n=(e.ORDER-Ie)/cn,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function f0(e,t){t!==void 0&&ns(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Fc(e,t,n=!1,r={}){if(e<=Te)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=f0(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:Ti(s),ZERO:Te,ONE:Ie,create:c=>Be(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Te<=c&&c<e},is0:c=>c===Te,isOdd:c=>(c&Ie)===Ie,neg:c=>Be(-c,e),eql:(c,u)=>c===u,sqr:c=>Be(c*c,e),add:(c,u)=>Be(c+u,e),sub:(c,u)=>Be(c-u,e),mul:(c,u)=>Be(c*u,e),pow:(c,u)=>sm(a,c,u),div:(c,u)=>Be(c*Xo(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Xo(c,e),sqrt:r.sqrt||(c=>(o||(o=tm(e)),o(a,c))),toBytes:c=>n?pl(c,i):Es(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?hl(c):wn(c)},invertBatch:c=>u0(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function d0(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function l0(e){const t=d0(e);return t+Math.ceil(t/2)}function im(e,t,n=!1){const r=e.length,s=d0(t),i=l0(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?hl(e):wn(e),a=Be(o,t-Ie)+Ie;return n?pl(a,s):Es(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hu=BigInt(0),ea=BigInt(1);function po(e,t){const n=t.negate();return e?n:t}function h0(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function bo(e,t){h0(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=Ti(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function Vu(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=ea);const u=t*r,f=u+Math.abs(a)-1,d=a===0,l=a<0,h=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:u}}function om(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function am(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const yo=new WeakMap,p0=new WeakMap;function mo(e){return p0.get(e)||1}function cm(e,t){return{constTimeNegate:po,hasPrecomputes(n){return mo(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>Hu;)r&ea&&(s=s.add(i)),i=i.double(),r>>=ea;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=bo(r,t),o=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let f=1;f<i;f++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=e.ZERO,o=e.BASE;const a=bo(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:b}=Vu(s,c,a);s=u,d?o=o.add(po(h,r[b])):i=i.add(po(l,r[f]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=e.ZERO){const o=bo(n,t);for(let a=0;a<o.windows&&s!==Hu;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=Vu(s,a,o);if(s=c,!f){const l=r[u];i=i.add(d?l.negate():l)}}return i},getPrecomputes(n,r,s){let i=yo.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&yo.set(r,s(i))),i},wNAFCached(n,r,s){const i=mo(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=mo(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){h0(r,t),p0.set(n,r),yo.delete(n)}}}function um(e,t,n,r){om(n,e),am(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=y1(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Ti(c),f=new Array(Number(u)+1).fill(o),d=Math.floor((t.BITS-1)/c)*c;let l=o;for(let h=d;h>=0;h-=c){f.fill(o);for(let p=0;p<i;p++){const g=r[p],y=Number(g>>BigInt(h)&u);f[y]=f[y].add(n[p])}let b=o;for(let p=f.length-1,g=o;p>0;p--)g=g.add(f[p]),b=b.add(g);if(l=l.add(b),h!==0)for(let p=0;p<c;p++)l=l.double()}return l}function b0(e){return rm(e.Fp),$i(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...f0(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Wu(e){e.lowS!==void 0&&os("lowS",e.lowS),e.prehash!==void 0&&os("prehash",e.prehash)}function fm(e){const t=b0(e);$i(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class dm extends Error{constructor(t=""){super(t)}}const mt={Err:dm,_tlv:{encode:(e,t)=>{const{Err:n}=mt;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Ms(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Ms(s.length/2|128):"";return Ms(e)+i+s+t},decode(e,t){const{Err:n}=mt;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)o=o<<8|f;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=mt;if(e<Et)throw new t("integer: negative integers are not allowed");let n=Ms(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=mt;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return wn(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=mt,s=Le("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=mt,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}};function go(e,t){return as(Es(e,t))}const Et=BigInt(0),de=BigInt(1);BigInt(2);const wo=BigInt(3),lm=BigInt(4);function hm(e){const t=fm(e),{Fp:n}=t,r=Fc(t.n,t.nBitLength),s=t.toBytes||((w,m,E)=>{const P=m.toAffine();return ai(Uint8Array.from([4]),n.toBytes(P.x),n.toBytes(P.y))}),i=t.fromBytes||(w=>{const m=w.subarray(1),E=n.fromBytes(m.subarray(0,n.BYTES)),P=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:E,y:P}});function o(w){const{a:m,b:E}=t,P=n.sqr(w),I=n.mul(P,w);return n.add(n.add(I,n.mul(w,m)),E)}function a(w,m){const E=n.sqr(m),P=o(w);return n.eql(E,P)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,wo),lm),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(w){return cc(w,de,t.n)}function d(w){const{allowedPrivateKeyLengths:m,nByteLength:E,wrapPrivateKey:P,n:I}=t;if(m&&typeof w!="bigint"){if(xs(w)&&(w=as(w)),typeof w!="string"||!m.includes(w.length))throw new Error("invalid private key");w=w.padStart(E*2,"0")}let S;try{S=typeof w=="bigint"?w:wn(Le("private key",w,E))}catch{throw new Error("invalid private key, expected hex or "+E+" bytes, got "+typeof w)}return P&&(S=Be(S,I)),Zn("private key",S,de,I),S}function l(w){if(!(w instanceof p))throw new Error("ProjectivePoint expected")}const h=Ou((w,m)=>{const{px:E,py:P,pz:I}=w;if(n.eql(I,n.ONE))return{x:E,y:P};const S=w.is0();m==null&&(m=S?n.ONE:n.inv(I));const T=n.mul(E,m),A=n.mul(P,m),B=n.mul(I,m);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:T,y:A}}),b=Ou(w=>{if(w.is0()){if(t.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:m,y:E}=w.toAffine();if(!n.isValid(m)||!n.isValid(E))throw new Error("bad point: x or y not FE");if(!a(m,E))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(m,E,P){if(m==null||!n.isValid(m))throw new Error("x required");if(E==null||!n.isValid(E)||n.is0(E))throw new Error("y required");if(P==null||!n.isValid(P))throw new Error("z required");this.px=m,this.py=E,this.pz=P,Object.freeze(this)}static fromAffine(m){const{x:E,y:P}=m||{};if(!m||!n.isValid(E)||!n.isValid(P))throw new Error("invalid affine point");if(m instanceof p)throw new Error("projective point not allowed");const I=S=>n.eql(S,n.ZERO);return I(E)&&I(P)?p.ZERO:new p(E,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const E=u0(n,m.map(P=>P.pz));return m.map((P,I)=>P.toAffine(E[I])).map(p.fromAffine)}static fromHex(m){const E=p.fromAffine(i(Le("pointHex",m)));return E.assertValidity(),E}static fromPrivateKey(m){return p.BASE.multiply(d(m))}static msm(m,E){return um(p,r,m,E)}_setWindowSize(m){x.setWindowSize(this,m)}assertValidity(){b(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){l(m);const{px:E,py:P,pz:I}=this,{px:S,py:T,pz:A}=m,B=n.eql(n.mul(E,A),n.mul(S,I)),k=n.eql(n.mul(P,A),n.mul(T,I));return B&&k}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:E}=t,P=n.mul(E,wo),{px:I,py:S,pz:T}=this;let A=n.ZERO,B=n.ZERO,k=n.ZERO,N=n.mul(I,I),G=n.mul(S,S),R=n.mul(T,T),F=n.mul(I,S);return F=n.add(F,F),k=n.mul(I,T),k=n.add(k,k),A=n.mul(m,k),B=n.mul(P,R),B=n.add(A,B),A=n.sub(G,B),B=n.add(G,B),B=n.mul(A,B),A=n.mul(F,A),k=n.mul(P,k),R=n.mul(m,R),F=n.sub(N,R),F=n.mul(m,F),F=n.add(F,k),k=n.add(N,N),N=n.add(k,N),N=n.add(N,R),N=n.mul(N,F),B=n.add(B,N),R=n.mul(S,T),R=n.add(R,R),N=n.mul(R,F),A=n.sub(A,N),k=n.mul(R,G),k=n.add(k,k),k=n.add(k,k),new p(A,B,k)}add(m){l(m);const{px:E,py:P,pz:I}=this,{px:S,py:T,pz:A}=m;let B=n.ZERO,k=n.ZERO,N=n.ZERO;const G=t.a,R=n.mul(t.b,wo);let F=n.mul(E,S),_=n.mul(P,T),O=n.mul(I,A),z=n.add(E,P),D=n.add(S,T);z=n.mul(z,D),D=n.add(F,_),z=n.sub(z,D),D=n.add(E,I);let V=n.add(S,A);return D=n.mul(D,V),V=n.add(F,O),D=n.sub(D,V),V=n.add(P,I),B=n.add(T,A),V=n.mul(V,B),B=n.add(_,O),V=n.sub(V,B),N=n.mul(G,D),B=n.mul(R,O),N=n.add(B,N),B=n.sub(_,N),N=n.add(_,N),k=n.mul(B,N),_=n.add(F,F),_=n.add(_,F),O=n.mul(G,O),D=n.mul(R,D),_=n.add(_,O),O=n.sub(F,O),O=n.mul(G,O),D=n.add(D,O),F=n.mul(_,D),k=n.add(k,F),F=n.mul(V,D),B=n.mul(z,B),B=n.sub(B,F),F=n.mul(z,_),N=n.mul(V,N),N=n.add(N,F),new p(B,k,N)}subtract(m){return this.add(m.negate())}is0(){return this.equals(p.ZERO)}wNAF(m){return x.wNAFCached(this,m,p.normalizeZ)}multiplyUnsafe(m){const{endo:E,n:P}=t;Zn("scalar",m,Et,P);const I=p.ZERO;if(m===Et)return I;if(this.is0()||m===de)return this;if(!E||x.hasPrecomputes(this))return x.wNAFCachedUnsafe(this,m,p.normalizeZ);let{k1neg:S,k1:T,k2neg:A,k2:B}=E.splitScalar(m),k=I,N=I,G=this;for(;T>Et||B>Et;)T&de&&(k=k.add(G)),B&de&&(N=N.add(G)),G=G.double(),T>>=de,B>>=de;return S&&(k=k.negate()),A&&(N=N.negate()),N=new p(n.mul(N.px,E.beta),N.py,N.pz),k.add(N)}multiply(m){const{endo:E,n:P}=t;Zn("scalar",m,de,P);let I,S;if(E){const{k1neg:T,k1:A,k2neg:B,k2:k}=E.splitScalar(m);let{p:N,f:G}=this.wNAF(A),{p:R,f:F}=this.wNAF(k);N=x.constTimeNegate(T,N),R=x.constTimeNegate(B,R),R=new p(n.mul(R.px,E.beta),R.py,R.pz),I=N.add(R),S=G.add(F)}else{const{p:T,f:A}=this.wNAF(m);I=T,S=A}return p.normalizeZ([I,S])[0]}multiplyAndAddUnsafe(m,E,P){const I=p.BASE,S=(A,B)=>B===Et||B===de||!A.equals(I)?A.multiplyUnsafe(B):A.multiply(B),T=S(this,E).add(S(m,P));return T.is0()?void 0:T}toAffine(m){return h(this,m)}isTorsionFree(){const{h:m,isTorsionFree:E}=t;if(m===de)return!0;if(E)return E(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:E}=t;return m===de?this:E?E(p,this):this.multiplyUnsafe(t.h)}toRawBytes(m=!0){return os("isCompressed",m),this.assertValidity(),s(p,this,m)}toHex(m=!0){return os("isCompressed",m),as(this.toRawBytes(m))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:y}=t,x=cm(p,g?Math.ceil(y/2):y);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:f}}function pm(e){const t=b0(e);return $i(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function bm(e){const t=pm(e),{Fp:n,n:r,nByteLength:s,nBitLength:i}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(R){return Be(R,r)}function u(R){return Xo(R,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:h}=hm({...t,toBytes(R,F,_){const O=F.toAffine(),z=n.toBytes(O.x),D=ai;return os("isCompressed",_),_?D(Uint8Array.from([F.hasEvenY()?2:3]),z):D(Uint8Array.from([4]),z,n.toBytes(O.y))},fromBytes(R){const F=R.length,_=R[0],O=R.subarray(1);if(F===o&&(_===2||_===3)){const z=wn(O);if(!cc(z,de,n.ORDER))throw new Error("Point is not on curve");const D=l(z);let V;try{V=n.sqrt(D)}catch(be){const ce=be instanceof Error?": "+be.message:"";throw new Error("Point is not on curve"+ce)}const oe=(V&de)===de;return(_&1)===1!==oe&&(V=n.neg(V)),{x:z,y:V}}else if(F===a&&_===4){const z=n.fromBytes(O.subarray(0,n.BYTES)),D=n.fromBytes(O.subarray(n.BYTES,2*n.BYTES));return{x:z,y:D}}else{const z=o,D=a;throw new Error("invalid Point, expected length of "+z+", or uncompressed "+D+", got "+F)}}});function b(R){const F=r>>de;return R>F}function p(R){return b(R)?c(-R):R}const g=(R,F,_)=>wn(R.slice(F,_));class y{constructor(F,_,O){Zn("r",F,de,r),Zn("s",_,de,r),this.r=F,this.s=_,O!=null&&(this.recovery=O),Object.freeze(this)}static fromCompact(F){const _=s;return F=Le("compactSignature",F,_*2),new y(g(F,0,_),g(F,_,2*_))}static fromDER(F){const{r:_,s:O}=mt.toSig(Le("DER",F));return new y(_,O)}assertValidity(){}addRecoveryBit(F){return new y(this.r,this.s,F)}recoverPublicKey(F){const{r:_,s:O,recovery:z}=this,D=I(Le("msgHash",F));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const V=z===2||z===3?_+t.n:_;if(V>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const oe=(z&1)===0?"02":"03",me=f.fromHex(oe+go(V,n.BYTES)),be=u(V),ce=c(-D*be),ge=c(O*be),kt=f.BASE.multiplyAndAddUnsafe(me,ce,ge);if(!kt)throw new Error("point at infinify");return kt.assertValidity(),kt}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return oi(this.toDERHex())}toDERHex(){return mt.hexFromSig(this)}toCompactRawBytes(){return oi(this.toCompactHex())}toCompactHex(){const F=s;return go(this.r,F)+go(this.s,F)}}const x={isValidPrivateKey(R){try{return d(R),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const R=l0(t.n);return im(t.randomBytes(R),t.n)},precompute(R=8,F=f.BASE){return F._setWindowSize(R),F.multiply(BigInt(3)),F}};function w(R,F=!0){return f.fromPrivateKey(R).toRawBytes(F)}function m(R){if(typeof R=="bigint")return!1;if(R instanceof f)return!0;const _=Le("key",R).length,O=n.BYTES,z=O+1,D=2*O+1;if(!(t.allowedPrivateKeyLengths||s===z))return _===z||_===D}function E(R,F,_=!0){if(m(R)===!0)throw new Error("first arg must be private key");if(m(F)===!1)throw new Error("second arg must be public key");return f.fromHex(F).multiply(d(R)).toRawBytes(_)}const P=t.bits2int||function(R){if(R.length>8192)throw new Error("input is too large");const F=wn(R),_=R.length*8-i;return _>0?F>>BigInt(_):F},I=t.bits2int_modN||function(R){return c(P(R))},S=Ti(i);function T(R){return Zn("num < 2^"+i,R,Et,S),Es(R,s)}function A(R,F,_=B){if(["recovered","canonical"].some(on=>on in _))throw new Error("sign() legacy options not supported");const{hash:O,randomBytes:z}=t;let{lowS:D,prehash:V,extraEntropy:oe}=_;D==null&&(D=!0),R=Le("msgHash",R),Wu(_),V&&(R=Le("prehashed msgHash",O(R)));const me=I(R),be=d(F),ce=[T(be),T(me)];if(oe!=null&&oe!==!1){const on=oe===!0?z(n.BYTES):oe;ce.push(Le("extraEntropy",on))}const ge=ai(...ce),kt=me;function Zi(on){const Dn=P(on);if(!h(Dn))return;const Yi=u(Dn),Hr=f.BASE.multiply(Dn).toAffine(),an=c(Hr.x);if(an===Et)return;const Vr=c(Yi*c(kt+an*be));if(Vr===Et)return;let Wr=(Hr.x===an?0:2)|Number(Hr.y&de),jn=Vr;return D&&b(Vr)&&(jn=p(Vr),Wr^=1),new y(an,jn,Wr)}return{seed:ge,k2sig:Zi}}const B={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};function N(R,F,_=B){const{seed:O,k2sig:z}=A(R,F,_),D=t;return m1(D.hash.outputLen,D.nByteLength,D.hmac)(O,z)}f.BASE._setWindowSize(8);function G(R,F,_,O=k){var Wr;const z=R;F=Le("msgHash",F),_=Le("publicKey",_);const{lowS:D,prehash:V,format:oe}=O;if(Wu(O),"strict"in O)throw new Error("options.strict was renamed to lowS");if(oe!==void 0&&oe!=="compact"&&oe!=="der")throw new Error("format must be compact or der");const me=typeof z=="string"||xs(z),be=!me&&!oe&&typeof z=="object"&&z!==null&&typeof z.r=="bigint"&&typeof z.s=="bigint";if(!me&&!be)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ce,ge;try{if(be&&(ce=new y(z.r,z.s)),me){try{oe!=="compact"&&(ce=y.fromDER(z))}catch(jn){if(!(jn instanceof mt.Err))throw jn}!ce&&oe!=="der"&&(ce=y.fromCompact(z))}ge=f.fromHex(_)}catch{return!1}if(!ce||D&&ce.hasHighS())return!1;V&&(F=t.hash(F));const{r:kt,s:Zi}=ce,on=I(F),Dn=u(Zi),Yi=c(on*Dn),Hr=c(kt*Dn),an=(Wr=f.BASE.multiplyAndAddUnsafe(ge,Yi,Hr))==null?void 0:Wr.toAffine();return an?c(an.x)===kt:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:E,sign:N,verify:G,ProjectivePoint:f,Signature:y,utils:x}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ym(e){return{hash:e,hmac:(t,...n)=>s0(e,t,tb(...n)),randomBytes:nb}}function mm(e,t){const n=r=>bm({...e,...ym(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const y0=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Qu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),gm=BigInt(0),wm=BigInt(1),ta=BigInt(2),Ku=(e,t)=>(e+t/ta)/t;function vm(e){const t=y0,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=Ue(f,n,t)*f%t,l=Ue(d,n,t)*f%t,h=Ue(l,ta,t)*u%t,b=Ue(h,s,t)*h%t,p=Ue(b,i,t)*b%t,g=Ue(p,a,t)*p%t,y=Ue(g,c,t)*g%t,x=Ue(y,a,t)*p%t,w=Ue(x,n,t)*f%t,m=Ue(w,o,t)*b%t,E=Ue(m,r,t)*u%t,P=Ue(E,ta,t);if(!na.eql(na.sqr(P),e))throw new Error("Cannot find square root");return P}const na=Fc(y0,void 0,void 0,{sqrt:vm}),jr=mm({a:gm,b:BigInt(7),Fp:na,n:Qu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Qu,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-wm*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=Ku(i*e,t),c=Ku(-r*e,t);let u=Be(e-a*n-c*s,t),f=Be(-a*r-c*i,t);const d=u>o,l=f>o;if(d&&(u=t-u),l&&(f=t-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},Jd),xm=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:jr},Symbol.toStringTag,{value:"Module"}));function m0(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new vo({signature:e});if(typeof e.s>"u")throw new vo({signature:e});if(n&&typeof e.yParity>"u")throw new vo({signature:e});if(e.r<0n||e.r>Du)throw new Bm({value:e.r});if(e.s<0n||e.s>Du)throw new Tm({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Mc({value:e.yParity})}function Em(e){return g0(Je(e))}function g0(e){if(e.length!==130&&e.length!==132)throw new Am({signature:e});const t=BigInt(ct(e,0,32)),n=BigInt(ct(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Nc(s)}catch{throw new Mc({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Pm(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Im(e)}function Im(e){const t=typeof e=="string"?g0(e):e instanceof Uint8Array?Em(e):typeof e.r=="string"?Cm(e):e.v?Sm(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return m0(t),t}function Sm(e){return{r:e.r,s:e.s,yParity:Nc(e.v)}}function Cm(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Nc(n)),typeof r!="number")throw new Mc({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Nc(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new $m({value:e})}class Am extends Q{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${_e(j1(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class vo extends Q{constructor({signature:t}){super(`Signature \`${gl(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Bm extends Q{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Tm extends Q{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Mc extends Q{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class $m extends Q{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function km(e,t={}){return typeof e.chainId=="string"?Om(e):{...e,...t.signature}}function Om(e){const{address:t,chainId:n,nonce:r}=e,s=Pm(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const Rm="0x8010801080108010801080108010801080108010801080108010801080108010",Fm=e0("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function w0(e){if(typeof e=="string"){if(ct(e,-32)!==Rm)throw new zm(e)}else m0(e.authorization)}function Nm(e){w0(e);const t=Pl(ct(e,-64,-32)),n=ct(e,-t-64,-64),r=ct(e,0,-t-64),[s,i,o]=Wy(Fm,n);return{authorization:km({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&o!=="0x"?{data:o,to:i}:{}}}function Mm(e){try{return w0(e),!0}catch{return!1}}let zm=class extends Q{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function _m(e){const{address:t,data:n,signature:r,to:s="hex"}=e,i=pe([ft([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),vy]);return s==="hex"?i:he(i)}class v0 extends C{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function x0(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new v0({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[i,o,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function Um(e,t="wei"){return x0(e,Za[t])}function ji(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&t===i&&(n[o]=c.request)})),i=>n[i]||e.request}async function E0(e,t){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=t,u=ji(e,{method:"eth_newFilter"}),f=i?Nr({abi:r,args:s,eventName:i}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?$(o):o,toBlock:typeof c=="bigint"?$(c):c,topics:f}]});return{abi:r,args:s,eventName:i,id:d,request:u(d),strict:!!a,type:"event"}}class P0 extends C{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class qi extends C{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class I0 extends C{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Pe(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class zc extends C{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function it(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,f,d;const i=s??!1,o=n!==void 0?$(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[o||r,i]},{dedupe:!!o}),!a)throw new zc({blockHash:t,blockNumber:n});return(((d=(f=(u=e.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:d.format)||Mi)(a,"getBlock")}async function _c(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Lm(e,t){return S0(e,t)}async function S0(e,t){var i,o;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const u=n||await U(e,it,"getBlock")({}),f=await a({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return K(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):U(e,it,"getBlock")({}),U(e,_c,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new qi;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function Dm(e,t){return ra(e,t)}async function ra(e,t){var l,h;const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},o=await(async()=>{var b,p;return typeof((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)??1.2})();if(o<1)throw new P0;const c=10**(((l=o.toString().split(".")[1])==null?void 0:l.length)??0),u=b=>b*BigInt(Math.ceil(o*c))/BigInt(c),f=n||await U(e,it,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const b=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:i});if(b!==null)return b}if(i==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new qi;const b=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await S0(e,{block:f,chain:r,request:s}),p=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??p+b,maxPriorityFeePerGas:b}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await U(e,_c,"getGasPrice")({}))}}async function Un(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return $e(t)}const Uc=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Zu=new Map;async function As(e,t){const{account:n=e.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:u=Uc,type:f}=t,d=n&&ne(n),l={...t,...d?{from:d==null?void 0:d.address}:{}};let h;async function b(){return h||(h=await U(e,it,"getBlock")({blockTag:"latest"}),h)}let p;async function g(){return p||(s?s.id:typeof t.chainId<"u"?t.chainId:(p=await U(e,Un,"getChainId")({}),p))}if(u.includes("nonce")&&typeof a>"u"&&d)if(c){const y=await g();l.nonce=await c.consume({address:d.address,chainId:y,client:e})}else l.nonce=await U(e,Pc,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const y=Si({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const x=tc({commitments:y,to:"hex"});l.blobVersionedHashes=x}if(u.includes("sidecars")){const x=Ci({blobs:r,commitments:y,kzg:o}),w=rc({blobs:r,commitments:y,proofs:x,to:"hex"});l.sidecars=w}}if(u.includes("chainId")&&(l.chainId=await g()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{l.type=ic(l)}catch{let y=Zu.get(e.uid);if(typeof y>"u"){const x=await b();y=typeof(x==null?void 0:x.baseFeePerGas)=="bigint",Zu.set(e.uid,y)}l.type=y?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const y=await b(),{maxFeePerGas:x,maxPriorityFeePerGas:w}=await ra(e,{block:y,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new I0({maxPriorityFeePerGas:w});l.maxPriorityFeePerGas=w,l.maxFeePerGas=x}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new qi;if(typeof t.gasPrice>"u"){const y=await b(),{gasPrice:x}=await ra(e,{block:y,chain:s,request:l,type:"legacy"});l.gasPrice=x}}return u.includes("gas")&&typeof i>"u"&&(l.gas=await U(e,Lc,"estimateGas")({...l,account:d&&{address:d.address,type:"json-rpc"}})),lt(l),delete l.parameters,l}async function Lc(e,t){var s,i,o;const{account:n=e.account}=t,r=n?ne(n):void 0;try{const{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:l,data:h,gas:b,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:x,nonce:w,value:m,stateOverride:E,...P}=await As(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),S=(typeof d=="bigint"?$(d):void 0)||l,T=gc(E),A=await(async()=>{if(P.to)return P.to;if(c&&c.length>0)return await Pi({authorization:c[0]}).catch(()=>{throw new C("`to` is required. Could not infer from `authorizationList`")})})();lt(t);const B=(o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,N=(B||dt)({...Lr(P,{format:B}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,data:h,gas:b,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:x,nonce:w,to:A,value:m},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:T?[N,S??e.experimental_blockTag??"latest",T]:S?[N,S]:[N]}))}catch(a){throw uy(a,{...t,account:r,chain:e.chain})}}async function jm(e,t){const{abi:n,address:r,args:s,functionName:i,dataSuffix:o,...a}=t,c=Re({abi:n,args:s,functionName:i});try{return await U(e,Lc,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?ne(a.account):void 0;throw Xt(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:f==null?void 0:f.address})}}async function Dc(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const u=c??!1,f=o??(i?[i]:void 0);let d=[];f&&(d=[f.flatMap(p=>Nr({abi:[p],eventName:p.name,args:o?void 0:a}))],i&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?$(r):r,toBlock:typeof s=="bigint"?$(s):s}]});const h=l.map(b=>Xe(b));return f?Ei({abi:f,args:a,logs:h,strict:u}):h}async function C0(e,t){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:u}=t,f=o?en({abi:n,name:o}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return U(e,Dc,"getLogs")({address:r,args:s,blockHash:i,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}async function et(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,a=Re({abi:n,args:s,functionName:i});try{const{data:c}=await U(e,Ss,"call")({...o,data:a,to:r});return tn({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw Xt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function qm(e,t){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=t,c=a.account?ne(a.account):e.account,u=Re({abi:n,args:s,functionName:o});try{const{data:f}=await U(e,Ss,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),d=tn({abi:n,args:s,functionName:o,data:f||"0x"}),l=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(f){throw Xt(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const xo=new Map,Yu=new Map;let Gm=0;function Bt(e,t,n){const r=++Gm,s=()=>xo.get(e)||[],i=()=>{const f=s();xo.set(e,f.filter(d=>d.id!==r))},o=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=Yu.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}i()},a=s();if(xo.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const f in t)c[f]=(...d)=>{var h,b;const l=s();if(l.length!==0)for(const p of l)(b=(h=p.fns)[f])==null||b.call(h,...d)};const u=n(c);return typeof u=="function"&&Yu.set(e,u),o}function qr(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await ii(c);const u=async()=>{s&&(await e({unpoll:i}),await ii(r),u())};u()})(),i}const Hm=new Map,Vm=new Map;function Wm(e){const t=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=t(e,Hm),r=t(e,Vm);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function A0(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Wm(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Qm=e=>`blockNumber.${e}`;async function Bs(e,{cacheTime:t=e.cacheTime}={}){const n=await A0(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Qm(e.uid),cacheTime:t});return BigInt(n)}async function Gi(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>Xe(i));return!("abi"in t)||!t.abi?s:Ei({abi:t.abi,logs:s,strict:n})}async function Hi(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Km(e,t){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const g=l??!1,y=te(["watchContractEvent",r,s,i,e.uid,o,d,g,a]);return Bt(y,{onLogs:u,onError:c},x=>{let w;a!==void 0&&(w=a-1n);let m,E=!1;const P=qr(async()=>{var I;if(!E){try{m=await U(e,E0,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:g,fromBlock:a})}catch{}E=!0;return}try{let S;if(m)S=await U(e,Gi,"getFilterChanges")({filter:m});else{const T=await U(e,Bs,"getBlockNumber")({});w&&w<T?S=await U(e,C0,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:w+1n,toBlock:T,strict:g}):S=[],w=T}if(S.length===0)return;if(i)x.onLogs(S);else for(const T of S)x.onLogs([T])}catch(S){m&&S instanceof Jt&&(E=!1),(I=x.onError)==null||I.call(x,S)}},{emitOnBegin:!0,interval:d});return async()=>{m&&await U(e,Hi,"uninstallFilter")({filter:m}),P()}})})():(()=>{const g=l??!1,y=te(["watchContractEvent",r,s,i,e.uid,o,d,g]);let x=!0,w=()=>x=!1;return Bt(y,{onLogs:u,onError:c},m=>((async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),P=o?Nr({abi:n,eventName:o,args:s}):[],{unsubscribe:I}=await E.subscribe({params:["logs",{address:r,topics:P}],onData(S){var A;if(!x)return;const T=S.result;try{const{eventName:B,args:k}=xi({abi:n,data:T.data,topics:T.topics,strict:l}),N=Xe(T,{args:k,eventName:B});m.onLogs([N])}catch(B){let k,N;if(B instanceof lr||B instanceof ms){if(l)return;k=B.abiItem.name,N=(A=B.abiItem.inputs)==null?void 0:A.some(R=>!("name"in R&&R.name))}const G=Xe(T,{args:N?[]:{},eventName:k});m.onLogs([G])}},onError(S){var T;(T=m.onError)==null||T.call(m,S)}});w=I,x||w()}catch(E){c==null||c(E)}})(),()=>w()))})()}class $t extends C{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class vn extends C{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function jc(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Eo=new kr(128);async function Vi(e,t){var x,w,m,E;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,type:b,value:p,...g}=t;if(typeof n>"u")throw new $t({docsPath:"/docs/actions/wallet/sendTransaction"});const y=n?ne(n):null;try{lt(t);const P=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await Pi({authorization:i[0]}).catch(()=>{throw new C("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let I;r!==null&&(I=await U(e,Un,"getChainId")({}),Fi({currentChainId:I,chain:r}));const S=(m=(w=(x=e.chain)==null?void 0:x.formatters)==null?void 0:w.transactionRequest)==null?void 0:m.format,A=(S||dt)({...Lr(g,{format:S}),accessList:s,authorizationList:i,blobs:o,chainId:I,data:a,from:y==null?void 0:y.address,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,to:P,type:b,value:p},"sendTransaction"),B=Eo.get(e.uid),k=B?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:k,params:[A]},{retryCount:0})}catch(N){if(B===!1)throw N;const G=N;if(G.name==="InvalidInputRpcError"||G.name==="InvalidParamsRpcError"||G.name==="MethodNotFoundRpcError"||G.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[A]},{retryCount:0}).then(R=>(Eo.set(e.uid,!0),R)).catch(R=>{const F=R;throw F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError"?(Eo.set(e.uid,!1),G):F});throw G}}if((y==null?void 0:y.type)==="local"){const I=await U(e,As,"prepareTransactionRequest")({account:y,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,nonceManager:y.nonceManager,parameters:[...Uc,"sidecars"],type:b,value:p,...g,to:P}),S=(E=r==null?void 0:r.serializers)==null?void 0:E.transaction,T=await y.signTransaction(I,{serializer:S});return await U(e,jc,"sendRawTransaction")({serializedTransaction:T})}throw(y==null?void 0:y.type)==="smart"?new vn({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new vn({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(P){throw P instanceof vn?P:vc(P,{...t,account:y,chain:t.chain||void 0})}}async function fs(e,t){return fs.internal(e,Vi,"sendTransaction",t)}(function(e){async function t(n,r,s,i){const{abi:o,account:a=n.account,address:c,args:u,dataSuffix:f,functionName:d,...l}=i;if(typeof a>"u")throw new $t({docsPath:"/docs/contract/writeContract"});const h=a?ne(a):null,b=Re({abi:o,args:u,functionName:d});try{return await U(n,r,s)({data:`${b}${f?f.replace("0x",""):""}`,to:c,account:h,...l})}catch(p){throw Xt(p,{abi:o,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:d,sender:h==null?void 0:h.address})}}e.internal=t})(fs||(fs={}));class B0 extends C{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}const T0="0x5792579257925792579257925792579257925792579257925792579257925792",$0=$(0,{size:32});async function k0(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:u="2.0.0"}=t,f=n?ne(n):null,d=t.calls.map(l=>{const h=l,b=h.abi?Re({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&b?ke([b,h.dataSuffix]):b,to:h.to,value:h.value?$(h.value):void 0}});try{const l=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:$(s.id),from:f==null?void 0:f.address,id:c,version:u}]},{retryCount:0});return typeof l=="string"?{id:l}:l}catch(l){const h=l;if(i&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured"))){if(r&&Object.values(r).some(x=>!x.optional)){const x="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new An(new C(x,{details:x}))}if(a&&d.length>1){const y="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Bn(new C(y,{details:y}))}const b=[];for(const y of d){const x=Vi(e,{account:f,chain:s,data:y.data,to:y.to,value:y.value?K(y.value):void 0});b.push(x),o>0&&await new Promise(w=>setTimeout(w,o))}const p=await Promise.allSettled(b);if(p.every(y=>y.status==="rejected"))throw p[0].reason;const g=p.map(y=>y.status==="fulfilled"?y.value:$0);return{id:ke([...g,$(s.id,{size:32}),T0])}}throw vc(l,{...t,account:f,chain:t.chain})}}async function O0(e,t){async function n(f){if(f.endsWith(T0.slice(2))){const l=ye(Ws(f,-64,-32)),h=Ws(f,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(h.map(g=>$0.slice(2)!==g?e.request({method:"eth_getTransactionReceipt",params:[`0x${g}`]},{dedupe:!0}):void 0)),p=b.some(g=>g===null)?100:b.every(g=>(g==null?void 0:g.status)==="0x1")?200:b.every(g=>(g==null?void 0:g.status)==="0x0")?500:600;return{atomic:!1,chainId:$e(l),receipts:b.filter(Boolean),status:p,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const f=a.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...a,atomic:r,chainId:s?$e(s):void 0,receipts:(i==null?void 0:i.map(f=>({...f,blockNumber:K(f.blockNumber),gasUsed:K(f.gasUsed),status:Dl[f.status]})))??[],statusCode:u,status:c,version:o}}async function R0(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:p})=>p===200||p>=300,retryCount:i=4,retryDelay:o=({count:p})=>~~(1<<p)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=te(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:d,reject:l}=yc();let h;const b=Bt(u,{resolve:d,reject:l},p=>{const g=qr(async()=>{const y=x=>{clearTimeout(h),g(),x(),b()};try{const x=await is(async()=>{const w=await U(e,O0,"getCallsStatus")({id:n});if(c&&w.status==="failure")throw new B0(w);return w},{retryCount:i,delay:o});if(!s(x))return;y(()=>p.resolve(x))}catch(x){y(()=>p.reject(x))}},{interval:r,emitOnBegin:!0});return g});return h=a?setTimeout(()=>{b(),clearTimeout(h),l(new F0({id:n}))},a):void 0,await f}class F0 extends C{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const sa=256;let zs=sa,_s;function N0(e=11){if(!_s||zs+e>sa*2){_s="",zs=0;for(let t=0;t<sa;t++)_s+=(256+Math.random()*256|0).toString(16).substring(1)}return _s.substring(zs,zs+++e)}function qc(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=e,a=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=e.pollingInterval??u,d=e.cacheTime??f,l=e.account?ne(e.account):void 0,{config:h,request:b,value:p}=e.transport({chain:n,pollingInterval:f}),g={...h,...p},y={account:l,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:i,pollingInterval:f,request:b,transport:g,type:o,uid:N0(),...a?{experimental_blockTag:a}:{}};function x(w){return m=>{const E=m(w);for(const I in y)delete E[I];const P={...w,...E};return Object.assign(P,{extend:x(P)})}}return Object.assign(y,{extend:x(y)})}function Gc(e){var n,r,s,i,o,a;if(!(e instanceof C))return!1;const t=e.walk(c=>c instanceof ui);return t instanceof ui?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((i=t.data)==null?void 0:i.errorName)==="ResolverNotFound"||((o=t.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=t.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function M0(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return ze(t)?t:null}function di(e){let t=new Uint8Array(32).fill(0);if(!e)return ie(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=M0(n[r]),i=s?ot(s):ue(Vt(n[r]),"bytes");t=ue(ke([t,i]),"bytes")}return ie(t)}function Zm(e){return`[${e.slice(2)}]`}function z0(e){const t=new Uint8Array(32).fill(0);return e?M0(e)||ue(Vt(e)):ie(t)}function Hc(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Vt(t).byteLength+2);let r=0;const s=t.split(".");for(let i=0;i<s.length;i++){let o=Vt(s[i]);o.byteLength>255&&(o=Vt(Zm(z0(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Ym(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return _n({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(l=>i.endsWith(l)))return null;const d=s!=null?[di(i),BigInt(s)]:[di(i)];try{const l=Re({abi:zu,functionName:"addr",args:d}),h={address:u,abi:Bl,functionName:"resolveWithGateways",args:[H(Hc(i)),l,o??[Cs]],blockNumber:n,blockTag:r},p=await U(e,et,"readContract")(h);if(p[0]==="0x")return null;const g=tn({abi:zu,args:d,functionName:"addr",data:p[0]});return g==="0x"||ye(g)==="0x00"?null:g}catch(l){if(a)throw l;if(Gc(l))return null;throw l}}class Jm extends C{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Vn extends C{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Wi extends C{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class _0 extends C{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Xm=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,eg=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,tg=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,ng=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function rg(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ju(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function U0({uri:e,gatewayUrls:t}){const n=tg.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ju(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Ju(t==null?void 0:t.arweave,"https://arweave.net"),i=e.match(Xm),{protocol:o,subpath:a,target:c,subtarget:u=""}=(i==null?void 0:i.groups)||{},f=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||eg.test(e);if(e.startsWith("http")&&!f&&!d){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(ng,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new Wi({uri:e})}function L0(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Jm({data:e});return e.image||e.image_url||e.image_data}async function sg({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Vc({gatewayUrls:e,uri:L0(n)})}catch{throw new Wi({uri:t})}}async function Vc({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=U0({uri:t,gatewayUrls:e});if(r||await rg(n))return n;throw new Wi({uri:t})}function ig(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new Vn({reason:"Only EIP-155 supported"});if(!o)throw new Vn({reason:"Chain ID not found"});if(!c)throw new Vn({reason:"Contract address not found"});if(!s)throw new Vn({reason:"Token ID not found"});if(!a)throw new Vn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function og(e,{nft:t}){if(t.namespace==="erc721")return et(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return et(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new _0({namespace:t.namespace})}async function ag(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?cg(e,{gatewayUrls:t,record:n}):Vc({uri:n,gatewayUrls:t})}async function cg(e,{gatewayUrls:t,record:n}){const r=ig(n),s=await og(e,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=U0({uri:s,gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const u=a?atob(i.replace("data:application/json;base64,","")):i,f=JSON.parse(u);return Vc({uri:L0(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),sg({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}async function D0(e,t){const{blockNumber:n,blockTag:r,key:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return _n({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(d=>i.endsWith(d)))return null;try{const d={address:u,abi:Bl,args:[H(Hc(i)),Re({abi:Mu,functionName:"text",args:[di(i),s]}),o??[Cs]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await U(e,et,"readContract")(d);if(h[0]==="0x")return null;const b=tn({abi:Mu,functionName:"text",data:h[0]});return b===""?null:b}catch(d){if(a)throw d;if(Gc(d))return null;throw d}}async function ug(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await U(e,D0,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await ag(e,{record:c,gatewayUrls:r})}catch{return null}}async function fg(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:i=60n,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return _n({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:W1,args:[n,i,o??[Cs]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=U(e,et,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if(Gc(f))return null;throw f}}async function dg(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:i}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return _n({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),a=i==null?void 0:i.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[c]=await U(e,et,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[H(Hc(s))],blockNumber:n,blockTag:r});return c}async function j0(e,t){var g,y,x;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h,...b}=t,p=n?ne(n):void 0;try{lt(t);const m=(typeof r=="bigint"?$(r):void 0)||s,E=(x=(y=(g=e.chain)==null?void 0:g.formatters)==null?void 0:y.transactionRequest)==null?void 0:x.format,I=(E||dt)({...Lr(b,{format:E}),from:p==null?void 0:p.address,blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h},"createAccessList"),S=await e.request({method:"eth_createAccessList",params:[I,m]});return{accessList:S.accessList,gasUsed:BigInt(S.gasUsed)}}catch(w){throw pc(w,{...t,account:p,chain:e.chain})}}async function lg(e){const t=ji(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function q0(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),u=ji(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(h=>Nr({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?$(i):i,toBlock:typeof a=="bigint"?$(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:d,request:u(d),strict:!!o,toBlock:a,type:"event"}}async function G0(e){const t=ji(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function hg(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?$(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}async function pg(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function bg(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?$(n):void 0;let i;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),$e(i)}async function ia(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?$(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(i!=="0x")return i}class yg extends C{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function mg(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[i,o,a,c,u,f,d]=await U(e,et,"readContract")({abi:gg,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:i}}catch(i){const o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new yg({address:n}):o}}const gg=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function wg(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function vg(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=typeof n=="bigint"?$(n):void 0,o=await e.request({method:"eth_feeHistory",params:[$(t),i||r,s]},{dedupe:!!i});return wg(o)}async function xg(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>Xe(i));return t.abi?Ei({abi:t.abi,logs:s,strict:n}):s}function Eg(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Pg(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?$e(e.nonce):void 0,storageProof:e.storageProof?Eg(e.storageProof):void 0}}async function Ig(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?$(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,o||i]});return Pg(a)}async function Sg(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?$(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}async function Wc(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){var f,d,l;const o=r||"latest",a=n!==void 0?$(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,$(i)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,$(i)]},{dedupe:!!a}),!c)throw new Ja({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:i});return(((l=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.transaction)==null?void 0:l.format)||Dr)(c,"getTransaction")}async function Cg(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([U(e,Bs,"getBlockNumber")({}),t?U(e,Wc,"getTransaction")({hash:t}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function Gs(e,{hash:t}){var s,i,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Xa({hash:t});return(((o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||_i)(n,"getTransactionReceipt")}async function Ag(e,t){var x;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:i,blockOverrides:o,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof((x=e.batch)==null?void 0:x.multicall)=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return _n({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let b=0,p=0;for(let w=0;w<u.length;w++){const{abi:m,address:E,args:P,functionName:I}=u[w];try{const S=Re({abi:m,args:P,functionName:I});p+=(S.length-2)/2,f>0&&p>f&&h[b].length>0&&(b++,p=(S.length-2)/2,h[b]=[]),h[b]=[...h[b],{allowFailure:!0,callData:S,target:E}]}catch(S){const T=Xt(S,{abi:m,address:E,args:P,docsPath:"/docs/contract/multicall",functionName:I,sender:n});if(!s)throw T;h[b]=[...h[b],{allowFailure:!0,callData:"0x",target:E}]}}const g=await Promise.allSettled(h.map(w=>U(e,et,"readContract")({...l===null?{code:dc}:{address:l},abi:cs,account:n,args:[w],authorizationList:r,blockNumber:i,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),y=[];for(let w=0;w<g.length;w++){const m=g[w];if(m.status==="rejected"){if(!s)throw m.reason;for(let P=0;P<h[w].length;P++)y.push({status:"failure",error:m.reason,result:void 0});continue}const E=m.value;for(let P=0;P<E.length;P++){const{returnData:I,success:S}=E[P],{callData:T}=h[w][P],{abi:A,address:B,functionName:k,args:N}=u[y.length];try{if(T==="0x")throw new Rr;if(!S)throw new Is({data:I});const G=tn({abi:A,args:N,data:I,functionName:k});y.push(s?{result:G,status:"success"}:G)}catch(G){const R=Xt(G,{abi:A,address:B,args:N,docsPath:"/docs/contract/multicall",functionName:k});if(!s)throw R;y.push({error:R,result:void 0,status:"failure"})}}}if(y.length!==u.length)throw new C("multicall results mismatch");return y}async function oa(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:i,traceTransfers:o,validation:a}=t;try{const c=[];for(const l of s){const h=l.blockOverrides?Cl(l.blockOverrides):void 0,b=l.calls.map(g=>{const y=g,x=y.account?ne(y.account):void 0,w=y.abi?Re(y):y.data,m={...y,data:y.dataSuffix?ke([w||"0x",y.dataSuffix]):w,from:y.from??(x==null?void 0:x.address)};return lt(m),dt(m)}),p=l.stateOverrides?gc(l.stateOverrides):void 0;c.push({blockOverrides:h,calls:b,stateOverrides:p})}const f=(typeof n=="bigint"?$(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:o,validation:a},f]})).map((l,h)=>({...Mi(l),calls:l.calls.map((b,p)=>{var A,B;const{abi:g,args:y,functionName:x,to:w}=s[h].calls[p],m=((A=b.error)==null?void 0:A.data)??b.returnData,E=BigInt(b.gasUsed),P=(B=b.logs)==null?void 0:B.map(k=>Xe(k)),I=b.status==="0x1"?"success":"failure",S=g&&I==="success"&&m!=="0x"?tn({abi:g,data:m,functionName:x}):null,T=(()=>{var N;if(I==="success")return;let k;if(((N=b.error)==null?void 0:N.data)==="0x"?k=new Rr:b.error&&(k=new Is(b.error)),!!k)return Xt(k,{abi:g??[],address:w??"0x",args:y,functionName:x??"<unknown>"})})();return{data:m,gasUsed:E,logs:P,status:I,...I==="success"?{result:S}:{error:T}}})}))}catch(c){const u=c,f=Oi(u,{});throw f instanceof zr?u:f}}function aa(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new Q("Unable to normalize signature.");return s}function ca(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Zo(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>ca(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>ca(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function H0(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return H0(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Zo(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Zo(n[r],{strict:!1}):!1)return o}}function V0(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?No(e):e;return{...r,...n?{hash:Qn(r)}:{}}}function Qi(e,t,n){const{args:r=[],prepare:s=!0}=n??{},i=q1(t,{strict:!1}),o=e.filter(u=>i?u.type==="function"||u.type==="error"?W0(u)===ct(t,0,4):u.type==="event"?Qn(u)===t:!1:"name"in u&&u.name===t);if(o.length===0)throw new li({name:t});if(o.length===1)return{...o[0],...s?{hash:Qn(o[0])}:{}};let a;for(const u of o){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Qn(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const h="inputs"in u&&u.inputs[l];return h?ca(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=H0(u.inputs,a.inputs,r);if(d)throw new Tg({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=o;return{...u,overloads:f}})();if(!c)throw new li({name:t});return{...c,...s?{hash:Qn(c)}:{}}}function W0(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Qi(n,r)}return e[0]})();return ct(Qn(t),0,4)}function Bg(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Qi(r,s)}return e[0]})(),n=typeof t=="string"?t:Vs(t);return aa(n)}function Qn(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Qi(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Yl(uc(Bg(t)))}class Tg extends Q{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${aa(Vs(t.abiItem))}\`, and`,`\`${n.type}\` in \`${aa(Vs(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class li extends Q{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function $g(...e){var i;const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,a]=e;return[Og(o),a]}return e})(),{bytecode:r,args:s}=n;return Ye(r,(i=t.inputs)!=null&&i.length&&(s!=null&&s.length)?Oc(t.inputs,s):"0x")}function kg(e){return V0(e)}function Og(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new li({name:"constructor"});return t}function Rg(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[Xu(u,f,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?Xu([t,...r],t.name,{args:n}):t,i=Fg(s),o=n.length>0?Oc(s.inputs,n):void 0;return o?Ye(i,o):i}function Gn(e,t={}){return V0(e,t)}function Xu(e,t,n){const r=Qi(e,t,n);if(r.type!=="function")throw new li({name:t,type:"function"});return r}function Fg(e){return W0(e)}const Q0="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Ge="0x0000000000000000000000000000000000000000",Ng="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Mg(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:i,traceAssetChanges:o,traceTransfers:a,validation:c}=t,u=t.account?ne(t.account):void 0;if(o&&!u)throw new C("`account` is required when `traceAssetChanges` is true");const f=u?$g(kg("constructor(bytes, bytes)"),{bytecode:fc,args:[Ng,Rg(Gn("function getBalance(address)"),[u.address])]}):void 0,d=o?await Promise.all(t.calls.map(async O=>{if(!O.data&&!O.abi)return;const{accessList:z}=await j0(e,{account:u.address,...O,data:O.abi?Re(O):O.data});return z.map(({address:D,storageKeys:V})=>V.length>0?D:null)})).then(O=>O.flat().filter(Boolean)):[],l=await oa(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:f}],stateOverrides:i},{calls:d.map((O,z)=>({abi:[Gn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:O,from:Ge,nonce:z})),stateOverrides:[{address:Ge,nonce:0}]}]:[],{calls:[...s,{}].map(O=>({...O,from:u==null?void 0:u.address})),stateOverrides:i},...o?[{calls:[{data:f}]},{calls:d.map((O,z)=>({abi:[Gn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:O,from:Ge,nonce:z})),stateOverrides:[{address:Ge,nonce:0}]},{calls:d.map((O,z)=>({to:O,abi:[Gn("function decimals() returns (uint256)")],functionName:"decimals",from:Ge,nonce:z})),stateOverrides:[{address:Ge,nonce:0}]},{calls:d.map((O,z)=>({to:O,abi:[Gn("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Ge,nonce:z})),stateOverrides:[{address:Ge,nonce:0}]},{calls:d.map((O,z)=>({to:O,abi:[Gn("function symbol() returns (string)")],functionName:"symbol",from:Ge,nonce:z})),stateOverrides:[{address:Ge,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=o?l[2]:l[0],[b,p,,g,y,x,w,m]=o?l:[],{calls:E,...P}=h,I=E.slice(0,-1)??[],S=(b==null?void 0:b.calls)??[],T=(p==null?void 0:p.calls)??[],A=[...S,...T].map(O=>O.status==="success"?K(O.data):null),B=(g==null?void 0:g.calls)??[],k=(y==null?void 0:y.calls)??[],N=[...B,...k].map(O=>O.status==="success"?K(O.data):null),G=((x==null?void 0:x.calls)??[]).map(O=>O.status==="success"?O.result:null),R=((m==null?void 0:m.calls)??[]).map(O=>O.status==="success"?O.result:null),F=((w==null?void 0:w.calls)??[]).map(O=>O.status==="success"?O.result:null),_=[];for(const[O,z]of N.entries()){const D=A[O];if(typeof z!="bigint"||typeof D!="bigint")continue;const V=G[O-1],oe=R[O-1],me=F[O-1],be=O===0?{address:Q0,decimals:18,symbol:"ETH"}:{address:d[O-1],decimals:me||V?Number(V??1):void 0,symbol:oe??void 0};_.some(ce=>ce.token.address===be.address)||_.push({token:be,value:{pre:D,post:z,diff:z-D}})}return{assetChanges:_,block:P,results:I}}const K0="0x6492649264926492649264926492649264926492649264926492649264926492";function zg(e){if(ct(e,-32)!==K0)throw new Lg(e)}function _g(e){const{data:t,signature:n,to:r}=e;return Ye(Oc(e0("address, bytes, bytes"),[r,t,n]),K0)}function Ug(e){try{return zg(e),!0}catch{return!1}}class Lg extends Q{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function hi({r:e,s:t,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new jr.Signature(K(e),K(t)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?o:he(o)}async function Ki(e,t){var a,c,u,f,d,l;const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??((u=(c=(a=e.chain)==null?void 0:a.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:i=t.multicallAddress??((l=(d=(f=e.chain)==null?void 0:f.contracts)==null?void 0:d.multicall3)==null?void 0:l.address)}=t,o=(()=>{const h=t.signature;return ze(h)?h:typeof h=="object"&&"r"in h&&"s"in h?hi(h):ie(h)})();try{return Mm(o)?await Dg(e,{...t,multicallAddress:i,signature:o}):await jg(e,{...t,verifierAddress:s,signature:o})}catch(h){try{if(Nn(Me(n),await Ka({hash:r,signature:o})))return!0}catch{}if(h instanceof kn)return!1;throw h}}async function Dg(e,t){var g;const{address:n,blockNumber:r,blockTag:s,hash:i,multicallAddress:o}=t,{authorization:a,data:c,signature:u,to:f}=Nm(t.signature);if(await ia(e,{address:n,blockNumber:r,blockTag:s})===pe(["0xef0100",a.address]))return await qg(e,{address:n,blockNumber:r,blockTag:s,hash:i,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:$(a.r,{size:32}),s:$(a.s,{size:32}),yParity:a.yParity};if(!await u1({address:n,authorization:l}))throw new kn;const b=await U(e,et,"readContract")({...o?{address:o}:{code:dc},authorizationList:[l],abi:cs,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:Re({abi:Tl,functionName:"isValidSignature",args:[i,u]})}]]}),p=(g=b[b.length-1])==null?void 0:g.returnData;if(p!=null&&p.startsWith("0x1626ba7e"))return!0;throw new kn}async function jg(e,t){const{address:n,factory:r,factoryData:s,hash:i,signature:o,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||Ug(o)?o:_g({data:s,signature:o,to:r}))(),f=a?{to:a,data:Re({abi:ci,functionName:"isValidSig",args:[n,i,u]}),...c}:{data:gs({abi:ci,args:[n,i,u],bytecode:Qo}),...c},{data:d}=await U(e,Ss,"call")(f).catch(l=>{throw l instanceof lc?new kn:l});if(sd(d??"0x0"))return!0;throw new kn}async function qg(e,t){const{address:n,blockNumber:r,blockTag:s,hash:i,signature:o}=t;if((await U(e,et,"readContract")({address:n,abi:Tl,args:[i,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof hc?new kn:c})).startsWith("0x1626ba7e"))return!0;throw new kn}class kn extends Error{}async function Gg(e,{address:t,message:n,factory:r,factoryData:s,signature:i,...o}){const a=Ui(n);return Ki(e,{address:t,factory:r,factoryData:s,hash:a,signature:i,...o})}async function Hg(e,t){const{address:n,factory:r,factoryData:s,signature:i,message:o,primaryType:a,types:c,domain:u,...f}=t,d=Cc({message:o,primaryType:a,types:c,domain:u});return Ki(e,{address:n,factory:r,factoryData:s,hash:d,signature:i,...f})}function Z0(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=e.pollingInterval}){const a=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=te(["watchBlockNumber",e.uid,t,n,o]);return Bt(d,{onBlockNumber:r,onError:s},l=>qr(async()=>{var h;try{const b=await U(e,Bs,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(b===c)return;if(b-c>1&&n)for(let p=c+1n;p<b;p++)l.onBlockNumber(p,c),c=p}(c===void 0||b>c)&&(l.onBlockNumber(b,c),c=b)}catch(b){(h=l.onError)==null||h.call(l,b)}},{emitOnBegin:t,interval:o}))})():(()=>{const d=te(["watchBlockNumber",e.uid,t,n]);return Bt(d,{onBlockNumber:r,onError:s},l=>{let h=!0,b=()=>h=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return y?y.value:e.transport}return e.transport})(),{unsubscribe:g}=await p.subscribe({params:["newHeads"],onData(y){var w;if(!h)return;const x=K((w=y.result)==null?void 0:w.number);l.onBlockNumber(x,c),c=x},onError(y){var x;(x=l.onError)==null||x.call(l,y)}});b=g,h||b()}catch(p){s==null||s(p)}})(),()=>b()})})()}async function Y0(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:o=6,retryDelay:a=({count:E})=>~~(1<<E)*200,timeout:c=18e4}=t,u=te(["waitForTransactionReceipt",e.uid,s]),f=(()=>{var E;return t.pollingInterval?t.pollingInterval:(E=e.chain)!=null&&E.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let d,l,h,b=!1,p,g;const{promise:y,resolve:x,reject:w}=yc(),m=c?setTimeout(()=>{g==null||g(),p==null||p(),w(new Yd({hash:s}))},c):void 0;return p=Bt(u,{onReplaced:i,resolve:x,reject:w},async E=>{if(h=await U(e,Gs,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(m),E.resolve(h),p==null||p();return}g=U(e,Z0,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(P){const I=T=>{clearTimeout(m),g==null||g(),T(),p==null||p()};let S=P;if(!b)try{if(h){if(r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;I(()=>E.resolve(h));return}if(n&&!d&&(b=!0,await is(async()=>{d=await U(e,Wc,"getTransaction")({hash:s}),d.blockNumber&&(S=d.blockNumber)},{delay:a,retryCount:o}),b=!1),h=await U(e,Gs,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;I(()=>E.resolve(h))}catch(T){if(T instanceof Ja||T instanceof Xa){if(!d){b=!1;return}try{l=d,b=!0;const A=await is(()=>U(e,it,"getBlock")({blockNumber:S,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:N})=>N instanceof zc});b=!1;const B=A.transactions.find(({from:N,nonce:G})=>N===l.from&&G===l.nonce);if(!B||(h=await U(e,Gs,"getTransactionReceipt")({hash:B.hash}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r)))return;let k="replaced";B.to===l.to&&B.value===l.value&&B.input===l.input?k="repriced":B.from===B.to&&B.value===0n&&(k="cancelled"),I(()=>{var N;(N=E.onReplaced)==null||N.call(E,{reason:k,replacedTransaction:l,transaction:B,transactionReceipt:h}),E.resolve(h)})}catch(A){I(()=>E.reject(A))}}else I(()=>E.reject(T))}}})}),y}function Vg(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=o??!1;let d;return u?(()=>{const b=te(["watchBlocks",e.uid,t,n,r,f,c]);return Bt(b,{onBlock:s,onError:i},p=>qr(async()=>{var g;try{const y=await U(e,it,"getBlock")({blockTag:t,includeTransactions:f});if(y.number!==null&&(d==null?void 0:d.number)!=null){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let x=(d==null?void 0:d.number)+1n;x<y.number;x++){const w=await U(e,it,"getBlock")({blockNumber:x,includeTransactions:f});p.onBlock(w,d),d=w}}((d==null?void 0:d.number)==null||t==="pending"&&(y==null?void 0:y.number)==null||y.number!==null&&y.number>d.number)&&(p.onBlock(y,d),d=y)}catch(y){(g=p.onError)==null||g.call(p,y)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,p=!0,g=()=>b=!1;return(async()=>{try{r&&U(e,it,"getBlock")({blockTag:t,includeTransactions:f}).then(w=>{b&&p&&(s(w,void 0),p=!1)}).catch(i);const y=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(m=>m.config.type==="webSocket"||m.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:x}=await y.subscribe({params:["newHeads"],async onData(w){var E;if(!b)return;const m=await U(e,it,"getBlock")({blockNumber:(E=w.result)==null?void 0:E.number,includeTransactions:f}).catch(()=>{});b&&(s(m,d),p=!1,d=m)},onError(w){i==null||i(w)}});g=x,b||g()}catch(y){i==null||i(y)}})(),()=>g()})()}function Wg(e,{address:t,args:n,batch:r=!0,event:s,events:i,fromBlock:o,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=d??!1;return l?(()=>{const g=te(["watchEvent",t,n,r,e.uid,s,f,o]);return Bt(g,{onLogs:c,onError:a},y=>{let x;o!==void 0&&(x=o-1n);let w,m=!1;const E=qr(async()=>{var P;if(!m){try{w=await U(e,q0,"createEventFilter")({address:t,args:n,event:s,events:i,strict:h,fromBlock:o})}catch{}m=!0;return}try{let I;if(w)I=await U(e,Gi,"getFilterChanges")({filter:w});else{const S=await U(e,Bs,"getBlockNumber")({});x&&x!==S?I=await U(e,Dc,"getLogs")({address:t,args:n,event:s,events:i,fromBlock:x+1n,toBlock:S}):I=[],x=S}if(I.length===0)return;if(r)y.onLogs(I);else for(const S of I)y.onLogs([S])}catch(I){w&&I instanceof Jt&&(m=!1),(P=y.onError)==null||P.call(y,I)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await U(e,Hi,"uninstallFilter")({filter:w}),E()}})})():(()=>{let g=!0,y=()=>g=!1;return(async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),w=i??(s?[s]:void 0);let m=[];w&&(m=[w.flatMap(I=>Nr({abi:[I],eventName:I.name,args:n}))],s&&(m=m[0]));const{unsubscribe:E}=await x.subscribe({params:["logs",{address:t,topics:m}],onData(P){var S;if(!g)return;const I=P.result;try{const{eventName:T,args:A}=xi({abi:w??[],data:I.data,topics:I.topics,strict:h}),B=Xe(I,{args:A,eventName:T});c([B])}catch(T){let A,B;if(T instanceof lr||T instanceof ms){if(d)return;A=T.abiItem.name,B=(S=T.abiItem.inputs)==null?void 0:S.some(N=>!("name"in N&&N.name))}const k=Xe(I,{args:B?[]:{},eventName:A});c([k])}},onError(P){a==null||a(P)}});y=E,g||y()}catch(x){a==null||a(x)}})(),()=>y()})()}function Qg(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=te(["watchPendingTransactions",e.uid,t,i]);return Bt(u,{onTransactions:r,onError:n},f=>{let d;const l=qr(async()=>{var h;try{if(!d)try{d=await U(e,G0,"createPendingTransactionFilter")({});return}catch(p){throw l(),p}const b=await U(e,Gi,"getFilterChanges")({filter:d});if(b.length===0)return;if(t)f.onTransactions(b);else for(const p of b)f.onTransactions([p])}catch(b){(h=f.onError)==null||h.call(f,b)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await U(e,Hi,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const h=l.result;r([h])},onError(l){n==null||n(l)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}function Kg(e){var d,l,h;const{scheme:t,statement:n,...r}=((d=e.match(Zg))==null?void 0:d.groups)??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c,...u}=((l=e.match(Yg))==null?void 0:l.groups)??{},f=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Zg=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Yg=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Jg(e){const{address:t,domain:n,message:r,nonce:s,scheme:i,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!J(r.address,{strict:!1})||t&&!Nn(r.address,t))return!1}catch{return!1}return!0}async function Xg(e,t){const{address:n,domain:r,message:s,nonce:i,scheme:o,signature:a,time:c=new Date,...u}=t,f=Kg(s);if(!f.address||!Jg({address:n,domain:r,message:f,nonce:i,scheme:o,time:c}))return!1;const l=Ui(s);return Ki(e,{address:f.address,hash:l,signature:a,...u})}async function Qc(e,{serializedTransaction:t,timeout:n}){var i,o,a;const r=await e.request({method:"eth_sendRawTransactionSync",params:n?[t,$(n)]:[t]},{retryCount:0});return(((a=(o=(i=e.chain)==null?void 0:i.formatters)==null?void 0:o.transactionReceipt)==null?void 0:a.format)||_i)(r)}function J0(e){return{call:t=>Ss(e,t),createAccessList:t=>j0(e,t),createBlockFilter:()=>lg(e),createContractEventFilter:t=>E0(e,t),createEventFilter:t=>q0(e,t),createPendingTransactionFilter:()=>G0(e),estimateContractGas:t=>jm(e,t),estimateGas:t=>Lc(e,t),getBalance:t=>hg(e,t),getBlobBaseFee:()=>pg(e),getBlock:t=>it(e,t),getBlockNumber:t=>Bs(e,t),getBlockTransactionCount:t=>bg(e,t),getBytecode:t=>ia(e,t),getChainId:()=>Un(e),getCode:t=>ia(e,t),getContractEvents:t=>C0(e,t),getEip712Domain:t=>mg(e,t),getEnsAddress:t=>Ym(e,t),getEnsAvatar:t=>ug(e,t),getEnsName:t=>fg(e,t),getEnsResolver:t=>dg(e,t),getEnsText:t=>D0(e,t),getFeeHistory:t=>vg(e,t),estimateFeesPerGas:t=>Dm(e,t),getFilterChanges:t=>Gi(e,t),getFilterLogs:t=>xg(e,t),getGasPrice:()=>_c(e),getLogs:t=>Dc(e,t),getProof:t=>Ig(e,t),estimateMaxPriorityFeePerGas:t=>Lm(e,t),getStorageAt:t=>Sg(e,t),getTransaction:t=>Wc(e,t),getTransactionConfirmations:t=>Cg(e,t),getTransactionCount:t=>Pc(e,t),getTransactionReceipt:t=>Gs(e,t),multicall:t=>Ag(e,t),prepareTransactionRequest:t=>As(e,t),readContract:t=>et(e,t),sendRawTransaction:t=>jc(e,t),sendRawTransactionSync:t=>Qc(e,t),simulate:t=>oa(e,t),simulateBlocks:t=>oa(e,t),simulateCalls:t=>Mg(e,t),simulateContract:t=>qm(e,t),verifyHash:t=>Ki(e,t),verifyMessage:t=>Gg(e,t),verifySiweMessage:t=>Xg(e,t),verifyTypedData:t=>Hg(e,t),uninstallFilter:t=>Hi(e,t),waitForTransactionReceipt:t=>Y0(e,t),watchBlocks:t=>Vg(e,t),watchBlockNumber:t=>Z0(e,t),watchContractEvent:t=>Km(e,t),watchEvent:t=>Wg(e,t),watchPendingTransactions:t=>Qg(e,t)}}function e6(e){const{key:t="public",name:n="Public Client"}=e;return qc({...e,key:t,name:n,type:"publicClient"}).extend(J0)}async function t6(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:$(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function n6(e,t){const{abi:n,args:r,bytecode:s,...i}=t,o=gs({abi:n,args:r,bytecode:s});return Vi(e,{...i,...i.authorizationList?{to:null}:{},data:o})}async function r6(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Or(r))}async function s6(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?ne(n):void 0,i=r?[s==null?void 0:s.address,[$(r)]]:[s==null?void 0:s.address],o=await e.request({method:"wallet_getCapabilities",params:i}),a={};for(const[c,u]of Object.entries(o)){a[Number(c)]={};for(let[f,d]of Object.entries(u))f==="addSubAccount"&&(f="unstable_addSubAccount"),a[Number(c)][f]=d}return typeof r=="number"?a[r]:a}async function i6(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function X0(e,t){var c;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new $t({docsPath:"/docs/eip7702/prepareAuthorization"});const i=ne(n),o=(()=>{if(t.executor)return t.executor==="self"?t.executor:ne(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=e.chain)==null?void 0:c.id)??await U(e,Un,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await U(e,Pc,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&Nn(o.address,i.address))&&(a.nonce+=1)),a}async function o6(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Me(n))}async function a6(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function c6(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),s=await k0(e,t);return await R0(e,{...t,id:s.id,timeout:r})}const Po=new kr(128);async function eh(e,t){var m,E,P,I;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,pollingInterval:b,type:p,value:g,...y}=t,x=t.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3);if(typeof n>"u")throw new $t({docsPath:"/docs/actions/wallet/sendTransactionSync"});const w=n?ne(n):null;try{lt(t);const S=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await Pi({authorization:i[0]}).catch(()=>{throw new C("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let T;r!==null&&(T=await U(e,Un,"getChainId")({}),Fi({currentChainId:T,chain:r}));const A=(P=(E=(m=e.chain)==null?void 0:m.formatters)==null?void 0:E.transactionRequest)==null?void 0:P.format,k=(A||dt)({...Lr(y,{format:A}),accessList:s,authorizationList:i,blobs:o,chainId:T,data:a,from:w==null?void 0:w.address,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,to:S,type:p,value:g},"sendTransaction"),N=Po.get(e.uid),G=N?"wallet_sendTransaction":"eth_sendTransaction",R=await(async()=>{try{return await e.request({method:G,params:[k]},{retryCount:0})}catch(F){if(N===!1)throw F;const _=F;if(_.name==="InvalidInputRpcError"||_.name==="InvalidParamsRpcError"||_.name==="MethodNotFoundRpcError"||_.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then(O=>(Po.set(e.uid,!0),O)).catch(O=>{const z=O;throw z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError"?(Po.set(e.uid,!1),_):z});throw _}})();return U(e,Y0,"waitForTransactionReceipt")({checkReplacement:!1,hash:R,pollingInterval:b,timeout:x})}if((w==null?void 0:w.type)==="local"){const T=await U(e,As,"prepareTransactionRequest")({account:w,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,nonceManager:w.nonceManager,parameters:[...Uc,"sidecars"],type:p,value:g,...y,to:S}),A=(I=r==null?void 0:r.serializers)==null?void 0:I.transaction,B=await w.signTransaction(T,{serializer:A});return await U(e,Qc,"sendRawTransactionSync")({serializedTransaction:B})}throw(w==null?void 0:w.type)==="smart"?new vn({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new vn({docsPath:"/docs/actions/wallet/sendTransactionSync",type:w==null?void 0:w.type})}catch(S){throw S instanceof vn?S:vc(S,{...t,account:w,chain:t.chain||void 0})}}async function u6(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function f6(e,t){const{account:n=e.account}=t;if(!n)throw new $t({docsPath:"/docs/eip7702/signAuthorization"});const r=ne(n);if(!r.signAuthorization)throw new vn({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await X0(e,t);return r.signAuthorization(s)}async function d6(e,{account:t=e.account,message:n}){if(!t)throw new $t({docsPath:"/docs/actions/wallet/signMessage"});const r=ne(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Kt(n):n.raw instanceof Uint8Array?H(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function l6(e,t){var u,f,d,l;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new $t({docsPath:"/docs/actions/wallet/signTransaction"});const i=ne(n);lt({account:i,...t});const o=await U(e,Un,"getChainId")({});r!==null&&Fi({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((f=a==null?void 0:a.transactionRequest)==null?void 0:f.format)||dt;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:(l=(d=e.chain)==null?void 0:d.serializers)==null?void 0:l.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s,"signTransaction"),chainId:$(o),from:i.address}]},{retryCount:0})}async function h6(e,t){const{account:n=e.account,domain:r,message:s,primaryType:i}=t;if(!n)throw new $t({docsPath:"/docs/actions/wallet/signTypedData"});const o=ne(n),a={EIP712Domain:Li({domain:r}),...t.types};if(Sc({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=Wl({domain:r,message:s,primaryType:i,types:a});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function p6(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:$(t)}]},{retryCount:0})}async function b6(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function y6(e,t){return fs.internal(e,eh,"sendTransactionSync",t)}function th(e){return{addChain:t=>t6(e,t),deployContract:t=>n6(e,t),getAddresses:()=>r6(e),getCallsStatus:t=>O0(e,t),getCapabilities:t=>s6(e,t),getChainId:()=>Un(e),getPermissions:()=>i6(e),prepareAuthorization:t=>X0(e,t),prepareTransactionRequest:t=>As(e,t),requestAddresses:()=>o6(e),requestPermissions:t=>a6(e,t),sendCalls:t=>k0(e,t),sendCallsSync:t=>c6(e,t),sendRawTransaction:t=>jc(e,t),sendRawTransactionSync:t=>Qc(e,t),sendTransaction:t=>Vi(e,t),sendTransactionSync:t=>eh(e,t),showCallsStatus:t=>u6(e,t),signAuthorization:t=>f6(e,t),signMessage:t=>d6(e,t),signTransaction:t=>l6(e,t),signTypedData:t=>h6(e,t),switchChain:t=>p6(e,t),waitForCallsStatus:t=>R0(e,t),watchAsset:t=>b6(e,t),writeContract:t=>fs(e,t),writeContractSync:t=>y6(e,t)}}function m6(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return qc({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(th)}function Ts({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const u=N0();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:h1(r,{methods:t,retryCount:s,retryDelay:i,uid:u}),value:c}}function g6(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=t;return({retryCount:o})=>Ts({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:i,type:"custom"})}function w6(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=nh,retryCount:o,retryDelay:a}=t;return({chain:c,pollingInterval:u=4e3,timeout:f,...d})=>{let l=e,h=()=>{};const b=Ts({key:n,name:r,async request({method:p,params:g}){let y;const x=async(w=0)=>{const m=l[w]({...d,chain:c,retryCount:0,timeout:f});try{const E=await m.request({method:p,params:g});return h({method:p,params:g,response:E,transport:m,status:"success"}),E}catch(E){if(h({error:E,method:p,params:g,transport:m,status:"error"}),i(E)||w===l.length-1||(y??(y=l.slice(w+1).some(P=>{const{include:I,exclude:S}=P({chain:c}).config.methods||{};return I?I.includes(p):S?!S.includes(p):!0})),!y))throw E;return x(w+1)}};return x()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:p=>h=p,transports:l.map(p=>p({chain:c,retryCount:0}))});if(s){const p=typeof s=="object"?s:{};v6({chain:c,interval:p.interval??u,onTransports:g=>l=g,ping:p.ping,sampleCount:p.sampleCount,timeout:p.timeout,transports:l,weights:p.weights})}return b}}function nh(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===Sn.code||e.code===le.code||Gt.nodeMessage.test(e.message)||e.code===5e3))}function v6({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,f=[],d=async()=>{const l=await Promise.all(o.map(async p=>{const g=p({chain:e,retryCount:0,timeout:i}),y=Date.now();let x,w;try{await(r?r({transport:g}):g.request({method:"net_listening"})),w=1}catch{w=0}finally{x=Date.now()}return{latency:x-y,success:w}}));f.push(l),f.length>s&&f.shift();const h=Math.max(...f.map(p=>Math.max(...p.map(({latency:g})=>g)))),b=o.map((p,g)=>{const y=f.map(P=>P[g].latency),w=1-y.reduce((P,I)=>P+I,0)/y.length/h,m=f.map(P=>P[g].success),E=m.reduce((P,I)=>P+I,0)/m.length;return E===0?[0,g]:[u*w+c*E,g]}).sort((p,g)=>g[0]-p[0]);n(b.map(([,p])=>o[p])),await ii(t),d()};d()}class Kc extends C{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function x6(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:f,raw:d}=t;return({chain:l,retryCount:h,timeout:b})=>{const{batchSize:p=1e3,wait:g=0}=typeof n=="object"?n:{},y=t.retryCount??h,x=b??t.timeout??1e4,w=e||(l==null?void 0:l.rpcUrls.default.http[0]);if(!w)throw new Kc;const m=hy(w,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:x});return Ts({key:i,methods:o,name:a,async request({method:E,params:P}){const I={method:E,params:P},{schedule:S}=mc({id:w,wait:g,shouldSplitBatch(k){return k.length>p},fn:k=>m.request({body:k}),sort:(k,N)=>k.id-N.id}),T=async k=>n?S(k):[await m.request({body:k})],[{error:A,result:B}]=await T(I);if(d)return{error:A,result:B};if(A)throw new vs({body:I,error:A,url:w});return B},retryCount:y,retryDelay:f,timeout:x,type:"http"},{fetchOptions:s,url:w})}}function E6(e,t={}){const{keepAlive:n,key:r="webSocket",methods:s,name:i="WebSocket JSON-RPC",reconnect:o,retryDelay:a}=t;return({chain:c,retryCount:u,timeout:f})=>{var p;const d=t.retryCount??u,l=f??t.timeout??1e4,h=e||((p=c==null?void 0:c.rpcUrls.default.webSocket)==null?void 0:p[0]),b={keepAlive:n,reconnect:o};if(!h)throw new Kc;return Ts({key:r,methods:s,name:i,async request({method:g,params:y}){const x={method:g,params:y},w=await qs(h,b),{error:m,result:E}=await w.requestAsync({body:x,timeout:l});if(m)throw new vs({body:x,error:m,url:h});return E},retryCount:d,retryDelay:a,timeout:l,type:"webSocket"},{getSocket(){return by(h)},getRpcClient(){return qs(h,b)},async subscribe({params:g,onData:y,onError:x}){const w=await qs(h,b),{result:m}=await new Promise((E,P)=>w.request({body:{method:"eth_subscribe",params:g},onError(I){P(I),x==null||x(I)},onResponse(I){if(I.error){P(I.error),x==null||x(I.error);return}if(typeof I.id=="number"){E(I);return}I.method==="eth_subscription"&&y(I.params)}}));return{subscriptionId:m,async unsubscribe(){return new Promise(E=>w.request({body:{method:"eth_unsubscribe",params:[m]},onResponse:E}))}}}})}}function ef(e){const{r:t,s:n}=jr.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,i]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:$(t,{size:32}),s:$(n,{size:32}),v:s,yParity:i}:{r:$(t,{size:32}),s:$(n,{size:32}),yParity:i}}const vw=Object.freeze(Object.defineProperty({__proto__:null,AbiConstructorNotFoundError:bd,AbiConstructorParamsNotFoundError:_o,AbiDecodingDataSizeTooSmallError:Na,AbiDecodingZeroDataError:Rr,AbiEncodingArrayLengthMismatchError:yd,AbiEncodingBytesSizeMismatchError:md,AbiEncodingLengthMismatchError:Ma,AbiErrorInputsNotFoundError:gd,AbiErrorNotFoundError:Uo,AbiErrorSignatureNotFoundError:za,AbiEventNotFoundError:Lo,AbiEventSignatureEmptyTopicsError:wd,AbiEventSignatureNotFoundError:_a,AbiFunctionNotFoundError:En,AbiFunctionOutputsNotFoundError:Ua,AbiFunctionSignatureNotFoundError:vd,AccountStateConflictError:kl,AtomicReadyWalletRejectedUpgradeError:Tr,AtomicityNotSupportedError:Bn,BaseError:C,BaseFeeScalarError:P0,BlockNotFoundError:zc,BundleFailedError:B0,BundleTooLargeError:Br,BytesSizeMismatchError:La,CallExecutionError:lc,ChainDisconnectedError:Ir,ChainDoesNotSupportContract:Ks,ChainMismatchError:ol,ChainNotFoundError:al,CircularReferenceError:Qf,ClientChainNotConfiguredError:sc,ContractFunctionExecutionError:hc,ContractFunctionRevertedError:ui,ContractFunctionZeroDataError:Rl,CounterfactualDeploymentFailedError:Fl,DecodeLogDataMismatch:lr,DecodeLogTopicsMismatch:ms,DuplicateIdError:Cr,Eip1559FeesNotSupportedError:qi,EnsAvatarInvalidNftUriError:Vn,EnsAvatarUnsupportedNamespaceError:_0,EnsAvatarUriResolutionError:Wi,EstimateGasExecutionError:Ll,ExecutionRevertedError:Gt,FeeCapTooHighError:At,FeeCapTooLowError:Zs,FeeConflictError:Vd,FilterTypeNotSupportedError:Md,HttpRequestError:Wt,InsufficientFundsError:ei,IntegerOutOfRangeError:Oa,InternalRpcError:Yt,IntrinsicGasTooHighError:ti,IntrinsicGasTooLowError:ni,InvalidAbiDecodingTypeError:Ed,InvalidAbiEncodingTypeError:xd,InvalidAbiItemError:_f,InvalidAbiParametersError:Lf,InvalidAbiTypeParameterError:Hf,InvalidAddressError:ee,InvalidArrayError:Da,InvalidBytesBooleanError:td,InvalidChainIdError:Mn,InvalidDecimalNumberError:v0,InvalidDefinitionTypeError:Pd,InvalidDomainError:Gl,InvalidFunctionModifierError:Gf,InvalidHexBooleanError:nd,InvalidInputRpcError:Jt,InvalidLegacyVError:Wd,InvalidModifierError:qf,InvalidParameterError:Df,InvalidParamsRpcError:mr,InvalidParenthesisError:Kf,InvalidPrimaryTypeError:Hl,InvalidRequestRpcError:br,InvalidSerializableTransactionError:Qd,InvalidSignatureError:Fn,InvalidStorageKeySizeError:Kd,InvalidStructSignatureError:Wf,InvalidStructTypeError:Vl,JsonRpcVersionUnsupportedError:vr,LimitExceededRpcError:Cn,MaxFeePerGasTooLowError:I0,MethodNotFoundRpcError:yr,MethodNotSupportedRpcError:Ht,NonceMaxValueError:Xs,NonceTooHighError:Ys,NonceTooLowError:Js,ParseRpcError:pr,ProviderDisconnectedError:Pr,ProviderRpcError:Fe,RawContractError:Is,ResourceNotFoundRpcError:gr,ResourceUnavailableRpcError:wr,RpcError:Se,RpcRequestError:vs,SizeExceedsPaddingSizeError:ka,SizeOverflowError:rd,SliceOffsetOutOfBoundsError:$a,SocketClosedError:ss,SolidityProtectedKeywordError:jf,StateAssignmentConflictError:Ol,SwitchChainError:Ze,TimeoutError:si,TipAboveFeeCapError:In,TransactionExecutionError:Zd,TransactionNotFoundError:Ja,TransactionReceiptNotFoundError:Xa,TransactionRejectedRpcError:Sn,TransactionTypeNotSupportedError:ri,UnauthorizedProviderError:xr,UnknownBundleIdError:Ar,UnknownNodeError:zr,UnknownRpcError:fl,UnknownSignatureError:Vf,UnknownTypeError:Uf,UnsupportedChainIdError:Sr,UnsupportedNonOptionalCapabilityError:An,UnsupportedPackedAbiType:Id,UnsupportedProviderMethodError:Er,UrlRequiredError:Kc,UserRejectedRequestError:le,WaitForCallsStatusTimeoutError:F0,WaitForTransactionReceiptTimeoutError:Yd,WebSocketRequestError:Go,assertCurrentChain:Fi,assertRequest:lt,assertTransactionEIP1559:Ai,assertTransactionEIP2930:cl,assertTransactionLegacy:ul,blobsToCommitments:Si,blobsToProofs:Ci,boolToBytes:id,boolToHex:gi,bytesToBigInt:Bd,bytesToBool:Td,bytesToHex:ie,bytesToNumber:at,bytesToString:$d,ccipFetch:fi,ccipRequest:fi,checksumAddress:Or,commitmentToVersionedHash:Xd,commitmentsToVersionedHashes:tc,concat:ke,concatBytes:kd,concatHex:pe,createClient:qc,createNonceManager:dy,createPublicClient:e6,createTransport:Ts,createWalletClient:m6,custom:g6,decodeAbiParameters:Fr,decodeErrorResult:Qa,decodeEventLog:xi,decodeFunctionData:Fd,decodeFunctionResult:tn,defineBlock:zi,defineChain:Y,defineTransaction:Ni,defineTransactionReceipt:Ec,defineTransactionRequest:bc,deploylessCallViaBytecodeBytecode:fc,deploylessCallViaFactoryBytecode:$l,domainSeparator:yy,encodeAbiParameters:ft,encodeDeployData:gs,encodeErrorResult:qo,encodeEventTopics:Nr,encodeFunctionData:Re,encodeFunctionResult:_d,encodePacked:Ub,erc20Abi:Q1,erc6492SignatureValidatorAbi:ci,erc6492SignatureValidatorByteCode:Qo,ethAddress:Q0,etherUnits:Za,fallback:w6,formatBlock:Mi,formatEther:Ii,formatGwei:Pe,formatLog:Xe,formatTransaction:Dr,formatTransactionReceipt:_i,formatTransactionRequest:dt,formatUnits:Ya,getAbiItem:en,getAddress:Me,getChainContractAddress:_n,getContractError:Xt,getEventSelector:hr,getEventSignature:Xr,getFunctionSelector:Pn,getFunctionSignature:Xr,getTransactionType:ic,getTypesForEIP712Domain:Li,gweiUnits:Hd,hashDomain:Ac,hashMessage:Ui,hashStruct:Bc,hashTypedData:Cc,hexToBigInt:K,hexToBool:sd,hexToBytes:he,hexToNumber:$e,hexToSignature:ef,hexToString:_p,http:x6,isAddress:J,isAddressEqual:Nn,isHex:ze,keccak256:ue,labelhash:z0,maxUint16:il,maxUint192:e1,maxUint256:Mr,multicall3Abi:cs,namehash:di,numberToBytes:od,numberToHex:$,offchainLookup:Ul,offchainLookupAbiItem:wc,offchainLookupSignature:_l,pad:We,padBytes:ed,padHex:Pt,parseAbi:Ta,parseAbiItem:No,parseAbiParameters:Mo,parseEther:Um,parseEventLogs:Ei,parseSignature:ef,parseUnits:x0,prepareEncodeFunctionData:zd,presignMessagePrefix:jl,publicActions:J0,recoverAddress:Ka,recoverPublicKey:Gd,rpcTransactionType:Nl,serializeAccessList:_r,serializeErc6492Signature:_m,serializeSignature:hi,serializeTransaction:Bi,serializeTypedData:Wl,sha256:ec,shouldThrow:nh,signatureToHex:hi,size:X,slice:Zt,sliceBytes:qa,sliceHex:Ws,stringToBytes:Vt,stringToHex:Kt,stringify:te,toBlobSidecars:rc,toBlobs:sl,toBytes:ot,toEventHash:Qs,toEventSelector:hr,toEventSignature:Xr,toFunctionHash:Qs,toFunctionSelector:Pn,toFunctionSignature:Xr,toHex:H,toPrefixedMessage:ql,toRlp:Ke,transactionType:xc,trim:ye,universalSignatureValidatorAbi:ci,universalSignatureValidatorByteCode:Qo,validateTypedData:Sc,walletActions:th,webSocket:E6,weiUnits:qb,withCache:A0,withRetry:is,withTimeout:Ic,zeroAddress:Ge},Symbol.toStringTag,{value:"Module"}));function Ln(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function P6(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Ln(n);return(s,i)=>r.then(o=>i(o.transaction(t,s).objectStore(t)))}let Io;function $s(){return Io||(Io=P6("keyval-store","keyval")),Io}function xw(e,t=$s()){return t("readonly",n=>Ln(n.get(e)))}function Ew(e,t,n=$s()){return n("readwrite",r=>(r.put(t,e),Ln(r.transaction)))}function Pw(e,t=$s()){return t("readwrite",n=>(n.delete(e),Ln(n.transaction)))}function Iw(e=$s()){return e("readwrite",t=>(t.clear(),Ln(t.transaction)))}function I6(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Ln(e.transaction)}function Sw(e=$s()){return e("readonly",t=>{if(t.getAllKeys)return Ln(t.getAllKeys());const n=[];return I6(t,r=>n.push(r.key)).then(()=>n)})}function Cw(){return H(jr.utils.randomPrivateKey())}function S6(e){if(typeof e=="string"){if(!J(e,{strict:!1}))throw new ee({address:e});return{address:e,type:"json-rpc"}}if(!J(e.address,{strict:!1}))throw new ee({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}let So=!1;async function ks({hash:e,privateKey:t,to:n="object"}){const{r,s,recovery:i}=jr.sign(e.slice(2),t.slice(2),{lowS:!0,extraEntropy:ze(So,{strict:!1})?he(So):So}),o={r:$(r,{size:32}),s:$(s,{size:32}),v:i?28n:27n,yParity:i};return n==="bytes"||n==="hex"?hi({...o,to:n}):o}async function C6(e){const{chainId:t,nonce:n,privateKey:r,to:s="object"}=e,i=e.contractAddress??e.address,o=await ks({hash:qd({address:i,chainId:t,nonce:n}),privateKey:r,to:s});return s==="object"?{address:i,chainId:t,nonce:n,...o}:o}async function A6({message:e,privateKey:t}){return await ks({hash:Ui(e),privateKey:t,to:"hex"})}async function B6(e){const{privateKey:t,transaction:n,serializer:r=Bi}=e,s=n.type==="eip4844"?{...n,sidecars:!1}:n,i=await ks({hash:ue(await r(s)),privateKey:t});return await r(n,i)}async function T6(e){const{privateKey:t,...n}=e;return await ks({hash:Cc(n),privateKey:t,to:"hex"})}function Aw(e,t={}){const{nonceManager:n}=t,r=H(jr.getPublicKey(e.slice(2),!1)),s=pd(r);return{...S6({address:s,nonceManager:n,async sign({hash:o}){return ks({hash:o,privateKey:e,to:"hex"})},async signAuthorization(o){return C6({...o,privateKey:e})},async signMessage({message:o}){return A6({message:o,privateKey:e})},async signTransaction(o,{serializer:a}={}){return B6({privateKey:e,transaction:o,serializer:a})},async signTypedData(o){return T6({...o,privateKey:e})}}),publicKey:r,source:"privateKey"}}function $6(e){const{children:t,config:n,initialState:r,reconnectOnMount:s=!0}=e,{onMount:i}=Th(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=q.useRef(!0);return q.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),t}const rh=q.createContext(void 0);function Bw(e){const{children:t,config:n}=e,r={value:n};return q.createElement($6,e,q.createElement(rh.Provider,r,t))}const k6="2.18.2",O6=()=>`wagmi@${k6}`;class R6 extends $h{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return O6()}}class F6 extends R6{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function se(e={}){const t=e.config??q.useContext(rh);if(!t)throw new F6;return t}var Co={exports:{}},Ao={},Bo={exports:{}},To={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf;function N6(){if(tf)return To;tf=1;var e=Sa();function t(d,l){return d===l&&(d!==0||1/d===1/l)||d!==d&&l!==l}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(d,l){var h=l(),b=r({inst:{value:h,getSnapshot:l}}),p=b[0].inst,g=b[1];return i(function(){p.value=h,p.getSnapshot=l,c(p)&&g({inst:p})},[d,h,l]),s(function(){return c(p)&&g({inst:p}),d(function(){c(p)&&g({inst:p})})},[d]),o(h),h}function c(d){var l=d.getSnapshot;d=d.value;try{var h=l();return!n(d,h)}catch{return!0}}function u(d,l){return l()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return To.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,To}var nf;function M6(){return nf||(nf=1,Bo.exports=N6()),Bo.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf;function z6(){if(rf)return Ao;rf=1;var e=Sa(),t=M6();function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,c=e.useDebugValue;return Ao.useSyncExternalStoreWithSelector=function(u,f,d,l,h){var b=i(null);if(b.current===null){var p={hasValue:!1,value:null};b.current=p}else p=b.current;b=a(function(){function y(P){if(!x){if(x=!0,w=P,P=l(P),h!==void 0&&p.hasValue){var I=p.value;if(h(I,P))return m=I}return m=P}if(I=m,r(w,P))return I;var S=l(P);return h!==void 0&&h(I,S)?(w=P,I):(w=P,m=S)}var x=!1,w,m,E=d===void 0?null:d;return[function(){return y(f())},E===null?void 0:function(){return y(E())}]},[f,d,l,h]);var g=s(u,b[0],b[1]);return o(function(){p.hasValue=!0,p.value=g},[g]),c(g),g},Ao}var sf;function _6(){return sf||(sf=1,Co.exports=z6()),Co.exports}var sh=_6();const $o=e=>typeof e=="object"&&!Array.isArray(e);function U6(e,t,n=t,r=kh){const s=q.useRef([]),i=sh.useSyncExternalStoreWithSelector(e,t,n,o=>o,(o,a)=>{if($o(o)&&$o(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return q.useMemo(()=>{if($o(i)){const o={...i};let a={};for(const[c,u]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(o,a),o}return i},[i])}function ih(e={}){const t=se(e);return U6(n=>Rh(t,{onChange:n}),()=>Oh(t))}var Gr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},L6={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Nt,Ia,mf,D6=(mf=class{constructor(){L(this,Nt,L6);L(this,Ia,!1)}setTimeoutProvider(e){M(this,Nt,e)}setTimeout(e,t){return v(this,Nt).setTimeout(e,t)}clearTimeout(e){v(this,Nt).clearTimeout(e)}setInterval(e,t){return v(this,Nt).setInterval(e,t)}clearInterval(e){v(this,Nt).clearInterval(e)}},Nt=new WeakMap,Ia=new WeakMap,mf),un=new D6;function j6(e){setTimeout(e,0)}var On=typeof window>"u"||"Deno"in globalThis;function xe(){}function q6(e,t){return typeof e=="function"?e(t):e}function ua(e){return typeof e=="number"&&e>=0&&e!==1/0}function oh(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qt(e,t){return typeof e=="function"?e(t):e}function je(e,t){return typeof e=="function"?e(t):e}function of(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Zc(o,t.options))return!1}else if(!ds(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function af(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Rn(t.options.mutationKey)!==Rn(i))return!1}else if(!ds(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Zc(e,t){return((t==null?void 0:t.queryKeyHashFn)||Rn)(e)}function Rn(e){return JSON.stringify(e,(t,n)=>fa(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ds(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ds(e[n],t[n])):!1}var G6=Object.prototype.hasOwnProperty;function Yc(e,t){if(e===t)return e;const n=cf(e)&&cf(t);if(!n&&!(fa(e)&&fa(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,a=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const f=n?u:i[u],d=e[f],l=t[f];if(d===l){a[f]=d,(n?u<s:G6.call(e,f))&&c++;continue}if(d===null||l===null||typeof d!="object"||typeof l!="object"){a[f]=l;continue}const h=Yc(d,l);a[f]=h,h===d&&c++}return s===o&&c===s?e:a}function pi(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function cf(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fa(e){if(!uf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!uf(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function uf(e){return Object.prototype.toString.call(e)==="[object Object]"}function H6(e){return new Promise(t=>{un.setTimeout(t,e)})}function da(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Yc(e,t):t}function Tw(e){return e}function V6(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function W6(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Jc=Symbol();function ah(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Jc?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ch(e,t){return typeof e=="function"?e(...t):!!e}var fn,Mt,Jn,gf,Q6=(gf=class extends Gr{constructor(){super();L(this,fn);L(this,Mt);L(this,Jn);M(this,Jn,t=>{if(!On&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){v(this,Mt)||this.setEventListener(v(this,Jn))}onUnsubscribe(){var t;this.hasListeners()||((t=v(this,Mt))==null||t.call(this),M(this,Mt,void 0))}setEventListener(t){var n;M(this,Jn,t),(n=v(this,Mt))==null||n.call(this),M(this,Mt,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){v(this,fn)!==t&&(M(this,fn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof v(this,fn)=="boolean"?v(this,fn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},fn=new WeakMap,Mt=new WeakMap,Jn=new WeakMap,gf),Xc=new Q6;function la(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var K6=j6;function Z6(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=K6;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ae=Z6(),Xn,zt,er,wf,Y6=(wf=class extends Gr{constructor(){super();L(this,Xn,!0);L(this,zt);L(this,er);M(this,er,t=>{if(!On&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){v(this,zt)||this.setEventListener(v(this,er))}onUnsubscribe(){var t;this.hasListeners()||((t=v(this,zt))==null||t.call(this),M(this,zt,void 0))}setEventListener(t){var n;M(this,er,t),(n=v(this,zt))==null||n.call(this),M(this,zt,t(this.setOnline.bind(this)))}setOnline(t){v(this,Xn)!==t&&(M(this,Xn,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return v(this,Xn)}},Xn=new WeakMap,zt=new WeakMap,er=new WeakMap,wf),bi=new Y6;function J6(e){return Math.min(1e3*2**e,3e4)}function uh(e){return(e??"online")==="online"?bi.isOnline():!0}var ha=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function fh(e){let t=!1,n=0,r;const s=la(),i=()=>s.status!=="pending",o=p=>{var g;if(!i()){const y=new ha(p);l(y),(g=e.onCancel)==null||g.call(e,y)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>Xc.isFocused()&&(e.networkMode==="always"||bi.isOnline())&&e.canRun(),f=()=>uh(e.networkMode)&&e.canRun(),d=p=>{i()||(r==null||r(),s.resolve(p))},l=p=>{i()||(r==null||r(),s.reject(p))},h=()=>new Promise(p=>{var g;r=y=>{(i()||u())&&p(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;r=void 0,i()||(p=e.onContinue)==null||p.call(e)}),b=()=>{if(i())return;let p;const g=n===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(d).catch(y=>{var P;if(i())return;const x=e.retry??(On?0:3),w=e.retryDelay??J6,m=typeof w=="function"?w(n,y):w,E=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,y);if(t||!E){l(y);return}n++,(P=e.onFail)==null||P.call(e,n,y),H6(m).then(()=>u()?void 0:h()).then(()=>{t?l(y):b()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?b():h().then(b),s)}}var dn,vf,dh=(vf=class{constructor(){L(this,dn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ua(this.gcTime)&&M(this,dn,un.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(On?1/0:5*60*1e3))}clearGcTimeout(){v(this,dn)&&(un.clearTimeout(v(this,dn)),M(this,dn,void 0))}},dn=new WeakMap,vf),ln,tr,De,hn,fe,ls,pn,He,yt,xf,X6=(xf=class extends dh{constructor(t){super();L(this,He);L(this,ln);L(this,tr);L(this,De);L(this,hn);L(this,fe);L(this,ls);L(this,pn);M(this,pn,!1),M(this,ls,t.defaultOptions),this.setOptions(t.options),this.observers=[],M(this,hn,t.client),M(this,De,v(this,hn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,M(this,ln,ff(this.options)),this.state=t.state??v(this,ln),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=v(this,fe))==null?void 0:t.promise}setOptions(t){if(this.options={...v(this,ls),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=ff(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),M(this,ln,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&v(this,De).remove(this)}setData(t,n){const r=da(this.state.data,t,this.options);return j(this,He,yt).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){j(this,He,yt).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=v(this,fe))==null?void 0:r.promise;return(s=v(this,fe))==null||s.cancel(t),n?n.then(xe).catch(xe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(v(this,ln))}isActive(){return this.observers.some(t=>je(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qt(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!oh(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=v(this,fe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=v(this,fe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),v(this,De).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(v(this,fe)&&(v(this,pn)?v(this,fe).cancel({revert:!0}):v(this,fe).cancelRetry()),this.scheduleGc()),v(this,De).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||j(this,He,yt).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,f,d,l,h,b,p,g,y,x,w;if(this.state.fetchStatus!=="idle"&&((c=v(this,fe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(v(this,fe))return v(this,fe).continueRetry(),v(this,fe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(E=>E.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(M(this,pn,!0),r.signal)})},i=()=>{const m=ah(this.options,n),P=(()=>{const I={client:v(this,hn),queryKey:this.queryKey,meta:this.meta};return s(I),I})();return M(this,pn,!1),this.options.persister?this.options.persister(m,P,this):m(P)},a=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:v(this,hn),state:this.state,fetchFn:i};return s(m),m})();(u=this.options.behavior)==null||u.onFetch(a,this),M(this,tr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&j(this,He,yt).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),M(this,fe,fh({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:m=>{m instanceof ha&&m.revert&&this.setState({...v(this,tr),fetchStatus:"idle"}),r.abort()},onFail:(m,E)=>{j(this,He,yt).call(this,{type:"failed",failureCount:m,error:E})},onPause:()=>{j(this,He,yt).call(this,{type:"pause"})},onContinue:()=>{j(this,He,yt).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const m=await v(this,fe).start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),(h=(l=v(this,De).config).onSuccess)==null||h.call(l,m,this),(p=(b=v(this,De).config).onSettled)==null||p.call(b,m,this.state.error,this),m}catch(m){if(m instanceof ha){if(m.silent)return v(this,fe).promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw j(this,He,yt).call(this,{type:"error",error:m}),(y=(g=v(this,De).config).onError)==null||y.call(g,m,this),(w=(x=v(this,De).config).onSettled)==null||w.call(x,this.state.data,m,this),m}finally{this.scheduleGc()}}},ln=new WeakMap,tr=new WeakMap,De=new WeakMap,hn=new WeakMap,fe=new WeakMap,ls=new WeakMap,pn=new WeakMap,He=new WeakSet,yt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...lh(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return M(this,tr,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ae.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),v(this,De).notify({query:this,type:"updated",action:t})})},xf);function lh(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uh(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ff(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ce,W,hs,we,bn,nr,gt,_t,ps,rr,sr,yn,mn,Ut,ir,Z,es,pa,ba,ya,ma,ga,wa,va,ph,Ef,hh=(Ef=class extends Gr{constructor(t,n){super();L(this,Z);L(this,Ce);L(this,W);L(this,hs);L(this,we);L(this,bn);L(this,nr);L(this,gt);L(this,_t);L(this,ps);L(this,rr);L(this,sr);L(this,yn);L(this,mn);L(this,Ut);L(this,ir,new Set);this.options=n,M(this,Ce,t),M(this,_t,null),M(this,gt,la()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(v(this,W).addObserver(this),df(v(this,W),this.options)?j(this,Z,es).call(this):this.updateResult(),j(this,Z,ma).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xa(v(this,W),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xa(v(this,W),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,j(this,Z,ga).call(this),j(this,Z,wa).call(this),v(this,W).removeObserver(this)}setOptions(t){const n=this.options,r=v(this,W);if(this.options=v(this,Ce).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof je(this.options.enabled,v(this,W))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");j(this,Z,va).call(this),v(this,W).setOptions(this.options),n._defaulted&&!pi(this.options,n)&&v(this,Ce).getQueryCache().notify({type:"observerOptionsUpdated",query:v(this,W),observer:this});const s=this.hasListeners();s&&lf(v(this,W),r,this.options,n)&&j(this,Z,es).call(this),this.updateResult(),s&&(v(this,W)!==r||je(this.options.enabled,v(this,W))!==je(n.enabled,v(this,W))||Qt(this.options.staleTime,v(this,W))!==Qt(n.staleTime,v(this,W)))&&j(this,Z,pa).call(this);const i=j(this,Z,ba).call(this);s&&(v(this,W)!==r||je(this.options.enabled,v(this,W))!==je(n.enabled,v(this,W))||i!==v(this,Ut))&&j(this,Z,ya).call(this,i)}getOptimisticResult(t){const n=v(this,Ce).getQueryCache().build(v(this,Ce),t),r=this.createResult(n,t);return t5(this,r)&&(M(this,we,r),M(this,nr,this.options),M(this,bn,v(this,W).state)),r}getCurrentResult(){return v(this,we)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&!this.options.experimental_prefetchInRender&&v(this,gt).status==="pending"&&v(this,gt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,s))})}trackProp(t){v(this,ir).add(t)}getCurrentQuery(){return v(this,W)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=v(this,Ce).defaultQueryOptions(t),r=v(this,Ce).getQueryCache().build(v(this,Ce),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return j(this,Z,es).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),v(this,we)))}createResult(t,n){var T;const r=v(this,W),s=this.options,i=v(this,we),o=v(this,bn),a=v(this,nr),u=t!==r?t.state:v(this,hs),{state:f}=t;let d={...f},l=!1,h;if(n._optimisticResults){const A=this.hasListeners(),B=!A&&df(t,n),k=A&&lf(t,r,n,s);(B||k)&&(d={...d,...lh(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:b,errorUpdatedAt:p,status:g}=d;h=d.data;let y=!1;if(n.placeholderData!==void 0&&h===void 0&&g==="pending"){let A;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(A=i.data,y=!0):A=typeof n.placeholderData=="function"?n.placeholderData((T=v(this,sr))==null?void 0:T.state.data,v(this,sr)):n.placeholderData,A!==void 0&&(g="success",h=da(i==null?void 0:i.data,A,n),l=!0)}if(n.select&&h!==void 0&&!y)if(i&&h===(o==null?void 0:o.data)&&n.select===v(this,ps))h=v(this,rr);else try{M(this,ps,n.select),h=n.select(h),h=da(i==null?void 0:i.data,h,n),M(this,rr,h),M(this,_t,null)}catch(A){M(this,_t,A)}v(this,_t)&&(b=v(this,_t),h=v(this,rr),p=Date.now(),g="error");const x=d.fetchStatus==="fetching",w=g==="pending",m=g==="error",E=w&&x,P=h!==void 0,S={status:g,fetchStatus:d.fetchStatus,isPending:w,isSuccess:g==="success",isError:m,isInitialLoading:E,isLoading:E,data:h,dataUpdatedAt:d.dataUpdatedAt,error:b,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:m&&!P,isPaused:d.fetchStatus==="paused",isPlaceholderData:l,isRefetchError:m&&P,isStale:eu(t,n),refetch:this.refetch,promise:v(this,gt),isEnabled:je(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=N=>{S.status==="error"?N.reject(S.error):S.data!==void 0&&N.resolve(S.data)},B=()=>{const N=M(this,gt,S.promise=la());A(N)},k=v(this,gt);switch(k.status){case"pending":t.queryHash===r.queryHash&&A(k);break;case"fulfilled":(S.status==="error"||S.data!==k.value)&&B();break;case"rejected":(S.status!=="error"||S.error!==k.reason)&&B();break}}return S}updateResult(){const t=v(this,we),n=this.createResult(v(this,W),this.options);if(M(this,bn,v(this,W).state),M(this,nr,this.options),v(this,bn).data!==void 0&&M(this,sr,v(this,W)),pi(n,t))return;M(this,we,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!v(this,ir).size)return!0;const o=new Set(i??v(this,ir));return this.options.throwOnError&&o.add("error"),Object.keys(v(this,we)).some(a=>{const c=a;return v(this,we)[c]!==t[c]&&o.has(c)})};j(this,Z,ph).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&j(this,Z,ma).call(this)}},Ce=new WeakMap,W=new WeakMap,hs=new WeakMap,we=new WeakMap,bn=new WeakMap,nr=new WeakMap,gt=new WeakMap,_t=new WeakMap,ps=new WeakMap,rr=new WeakMap,sr=new WeakMap,yn=new WeakMap,mn=new WeakMap,Ut=new WeakMap,ir=new WeakMap,Z=new WeakSet,es=function(t){j(this,Z,va).call(this);let n=v(this,W).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(xe)),n},pa=function(){j(this,Z,ga).call(this);const t=Qt(this.options.staleTime,v(this,W));if(On||v(this,we).isStale||!ua(t))return;const r=oh(v(this,we).dataUpdatedAt,t)+1;M(this,yn,un.setTimeout(()=>{v(this,we).isStale||this.updateResult()},r))},ba=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(v(this,W)):this.options.refetchInterval)??!1},ya=function(t){j(this,Z,wa).call(this),M(this,Ut,t),!(On||je(this.options.enabled,v(this,W))===!1||!ua(v(this,Ut))||v(this,Ut)===0)&&M(this,mn,un.setInterval(()=>{(this.options.refetchIntervalInBackground||Xc.isFocused())&&j(this,Z,es).call(this)},v(this,Ut)))},ma=function(){j(this,Z,pa).call(this),j(this,Z,ya).call(this,j(this,Z,ba).call(this))},ga=function(){v(this,yn)&&(un.clearTimeout(v(this,yn)),M(this,yn,void 0))},wa=function(){v(this,mn)&&(un.clearInterval(v(this,mn)),M(this,mn,void 0))},va=function(){const t=v(this,Ce).getQueryCache().build(v(this,Ce),this.options);if(t===v(this,W))return;const n=v(this,W);M(this,W,t),M(this,hs,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},ph=function(t){ae.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(v(this,we))}),v(this,Ce).getQueryCache().notify({query:v(this,W),type:"observerResultsUpdated"})})},Ef);function e5(e,t){return je(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function df(e,t){return e5(e,t)||e.state.data!==void 0&&xa(e,t,t.refetchOnMount)}function xa(e,t,n){if(je(t.enabled,e)!==!1&&Qt(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&eu(e,t)}return!1}function lf(e,t,n,r){return(e!==t||je(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&eu(e,n)}function eu(e,t){return je(t.enabled,e)!==!1&&e.isStaleByTime(Qt(t.staleTime,e))}function t5(e,t){return!pi(e.getCurrentResult(),t)}function yi(e){return{onFetch:(t,n)=>{var f,d,l,h,b;const r=t.options,s=(l=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:l.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=ah(t.options,t.fetchOptions),x=async(w,m,E)=>{if(p)return Promise.reject();if(m==null&&w.pages.length)return Promise.resolve(w);const I=(()=>{const B={client:t.client,queryKey:t.queryKey,pageParam:m,direction:E?"backward":"forward",meta:t.options.meta};return g(B),B})(),S=await y(I),{maxPages:T}=t.options,A=E?W6:V6;return{pages:A(w.pages,S,T),pageParams:A(w.pageParams,m,T)}};if(s&&i.length){const w=s==="backward",m=w?bh:Ea,E={pages:i,pageParams:o},P=m(r,E);a=await x(E,P,w)}else{const w=e??i.length;do{const m=c===0?o[0]??r.initialPageParam:Ea(r,a);if(c>0&&m==null)break;a=await x(a,m),c++}while(c<w)}return a};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Ea(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function bh(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}function n5(e,t){return t?Ea(e,t)!=null:!1}function r5(e,t){return!t||!e.getPreviousPageParam?!1:bh(e,t)!=null}var s5=class extends hh{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:yi()})}getOptimisticResult(e){return e.behavior=yi(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var b,p;const{state:n}=e,r=super.createResult(e,t),{isFetching:s,isRefetching:i,isError:o,isRefetchError:a}=r,c=(p=(b=n.fetchMeta)==null?void 0:b.fetchMore)==null?void 0:p.direction,u=o&&c==="forward",f=s&&c==="forward",d=o&&c==="backward",l=s&&c==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:n5(t,n.data),hasPreviousPage:r5(t,n.data),isFetchNextPageError:u,isFetchingNextPage:f,isFetchPreviousPageError:d,isFetchingPreviousPage:l,isRefetchError:a&&!u&&!d,isRefetching:i&&!f&&!l}}},bs,nt,ve,gn,rt,Ft,Pf,i5=(Pf=class extends dh{constructor(t){super();L(this,rt);L(this,bs);L(this,nt);L(this,ve);L(this,gn);M(this,bs,t.client),this.mutationId=t.mutationId,M(this,ve,t.mutationCache),M(this,nt,[]),this.state=t.state||yh(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){v(this,nt).includes(t)||(v(this,nt).push(t),this.clearGcTimeout(),v(this,ve).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){M(this,nt,v(this,nt).filter(n=>n!==t)),this.scheduleGc(),v(this,ve).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){v(this,nt).length||(this.state.status==="pending"?this.scheduleGc():v(this,ve).remove(this))}continue(){var t;return((t=v(this,gn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,c,u,f,d,l,h,b,p,g,y,x,w,m,E,P,I,S,T;const n=()=>{j(this,rt,Ft).call(this,{type:"continue"})},r={client:v(this,bs),meta:this.options.meta,mutationKey:this.options.mutationKey};M(this,gn,fh({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(A,B)=>{j(this,rt,Ft).call(this,{type:"failed",failureCount:A,error:B})},onPause:()=>{j(this,rt,Ft).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>v(this,ve).canRun(this)}));const s=this.state.status==="pending",i=!v(this,gn).canStart();try{if(s)n();else{j(this,rt,Ft).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=v(this,ve).config).onMutate)==null?void 0:a.call(o,t,this,r));const B=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));B!==this.state.context&&j(this,rt,Ft).call(this,{type:"pending",context:B,variables:t,isPaused:i})}const A=await v(this,gn).start();return await((d=(f=v(this,ve).config).onSuccess)==null?void 0:d.call(f,A,t,this.state.context,this,r)),await((h=(l=this.options).onSuccess)==null?void 0:h.call(l,A,t,this.state.context,r)),await((p=(b=v(this,ve).config).onSettled)==null?void 0:p.call(b,A,null,this.state.variables,this.state.context,this,r)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,A,null,t,this.state.context,r)),j(this,rt,Ft).call(this,{type:"success",data:A}),A}catch(A){try{throw await((w=(x=v(this,ve).config).onError)==null?void 0:w.call(x,A,t,this.state.context,this,r)),await((E=(m=this.options).onError)==null?void 0:E.call(m,A,t,this.state.context,r)),await((I=(P=v(this,ve).config).onSettled)==null?void 0:I.call(P,void 0,A,this.state.variables,this.state.context,this,r)),await((T=(S=this.options).onSettled)==null?void 0:T.call(S,void 0,A,t,this.state.context,r)),A}finally{j(this,rt,Ft).call(this,{type:"error",error:A})}}finally{v(this,ve).runNext(this)}}},bs=new WeakMap,nt=new WeakMap,ve=new WeakMap,gn=new WeakMap,rt=new WeakSet,Ft=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ae.batch(()=>{v(this,nt).forEach(r=>{r.onMutationUpdate(t)}),v(this,ve).notify({mutation:this,type:"updated",action:t})})},Pf);function yh(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wt,Ve,ys,If,o5=(If=class extends Gr{constructor(t={}){super();L(this,wt);L(this,Ve);L(this,ys);this.config=t,M(this,wt,new Set),M(this,Ve,new Map),M(this,ys,0)}build(t,n,r){const s=new i5({client:t,mutationCache:this,mutationId:++Rs(this,ys)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){v(this,wt).add(t);const n=Us(t);if(typeof n=="string"){const r=v(this,Ve).get(n);r?r.push(t):v(this,Ve).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(v(this,wt).delete(t)){const n=Us(t);if(typeof n=="string"){const r=v(this,Ve).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&v(this,Ve).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Us(t);if(typeof n=="string"){const r=v(this,Ve).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Us(t);if(typeof n=="string"){const s=(r=v(this,Ve).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ae.batch(()=>{v(this,wt).forEach(t=>{this.notify({type:"removed",mutation:t})}),v(this,wt).clear(),v(this,Ve).clear()})}getAll(){return Array.from(v(this,wt))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>af(n,r))}findAll(t={}){return this.getAll().filter(n=>af(t,n))}notify(t){ae.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ae.batch(()=>Promise.all(t.map(n=>n.continue().catch(xe))))}},wt=new WeakMap,Ve=new WeakMap,ys=new WeakMap,If);function Us(e){var t;return(t=e.options.scope)==null?void 0:t.id}var vt,Lt,Ae,xt,St,Hs,Pa,Sf,a5=(Sf=class extends Gr{constructor(n,r){super();L(this,St);L(this,vt);L(this,Lt);L(this,Ae);L(this,xt);M(this,vt,n),this.setOptions(r),this.bindMethods(),j(this,St,Hs).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=v(this,vt).defaultMutationOptions(n),pi(this.options,r)||v(this,vt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:v(this,Ae),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Rn(r.mutationKey)!==Rn(this.options.mutationKey)?this.reset():((s=v(this,Ae))==null?void 0:s.state.status)==="pending"&&v(this,Ae).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=v(this,Ae))==null||n.removeObserver(this)}onMutationUpdate(n){j(this,St,Hs).call(this),j(this,St,Pa).call(this,n)}getCurrentResult(){return v(this,Lt)}reset(){var n;(n=v(this,Ae))==null||n.removeObserver(this),M(this,Ae,void 0),j(this,St,Hs).call(this),j(this,St,Pa).call(this)}mutate(n,r){var s;return M(this,xt,r),(s=v(this,Ae))==null||s.removeObserver(this),M(this,Ae,v(this,vt).getMutationCache().build(v(this,vt),this.options)),v(this,Ae).addObserver(this),v(this,Ae).execute(n)}},vt=new WeakMap,Lt=new WeakMap,Ae=new WeakMap,xt=new WeakMap,St=new WeakSet,Hs=function(){var r;const n=((r=v(this,Ae))==null?void 0:r.state)??yh();M(this,Lt,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Pa=function(n){ae.batch(()=>{var r,s,i,o,a,c,u,f;if(v(this,xt)&&this.hasListeners()){const d=v(this,Lt).variables,l=v(this,Lt).context,h={client:v(this,vt),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(r=v(this,xt)).onSuccess)==null||s.call(r,n.data,d,l,h),(o=(i=v(this,xt)).onSettled)==null||o.call(i,n.data,null,d,l,h)):(n==null?void 0:n.type)==="error"&&((c=(a=v(this,xt)).onError)==null||c.call(a,n.error,d,l,h),(f=(u=v(this,xt)).onSettled)==null||f.call(u,void 0,n.error,d,l,h))}this.listeners.forEach(d=>{d(v(this,Lt))})})},Sf),st,Cf,c5=(Cf=class extends Gr{constructor(t={}){super();L(this,st);this.config=t,M(this,st,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Zc(s,n);let o=this.get(i);return o||(o=new X6({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){v(this,st).has(t.queryHash)||(v(this,st).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=v(this,st).get(t.queryHash);n&&(t.destroy(),n===t&&v(this,st).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ae.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return v(this,st).get(t)}getAll(){return[...v(this,st).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>of(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>of(t,r)):n}notify(t){ae.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ae.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ae.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},st=new WeakMap,Cf),re,Dt,jt,or,ar,qt,cr,ur,Af,kw=(Af=class{constructor(e={}){L(this,re);L(this,Dt);L(this,jt);L(this,or);L(this,ar);L(this,qt);L(this,cr);L(this,ur);M(this,re,e.queryCache||new c5),M(this,Dt,e.mutationCache||new o5),M(this,jt,e.defaultOptions||{}),M(this,or,new Map),M(this,ar,new Map),M(this,qt,0)}mount(){Rs(this,qt)._++,v(this,qt)===1&&(M(this,cr,Xc.subscribe(async e=>{e&&(await this.resumePausedMutations(),v(this,re).onFocus())})),M(this,ur,bi.subscribe(async e=>{e&&(await this.resumePausedMutations(),v(this,re).onOnline())})))}unmount(){var e,t;Rs(this,qt)._--,v(this,qt)===0&&((e=v(this,cr))==null||e.call(this),M(this,cr,void 0),(t=v(this,ur))==null||t.call(this),M(this,ur,void 0))}isFetching(e){return v(this,re).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return v(this,Dt).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=v(this,re).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=v(this,re).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Qt(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return v(this,re).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=v(this,re).get(r.queryHash),i=s==null?void 0:s.state.data,o=q6(t,i);if(o!==void 0)return v(this,re).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return ae.batch(()=>v(this,re).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=v(this,re).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=v(this,re);ae.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=v(this,re);return ae.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ae.batch(()=>v(this,re).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(xe).catch(xe)}invalidateQueries(e,t={}){return ae.batch(()=>(v(this,re).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ae.batch(()=>v(this,re).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(xe)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xe)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=v(this,re).build(this,t);return n.isStaleByTime(Qt(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xe).catch(xe)}fetchInfiniteQuery(e){return e.behavior=yi(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xe).catch(xe)}ensureInfiniteQueryData(e){return e.behavior=yi(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bi.isOnline()?v(this,Dt).resumePausedMutations():Promise.resolve()}getQueryCache(){return v(this,re)}getMutationCache(){return v(this,Dt)}getDefaultOptions(){return v(this,jt)}setDefaultOptions(e){M(this,jt,e)}setQueryDefaults(e,t){v(this,or).set(Rn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...v(this,or).values()],n={};return t.forEach(r=>{ds(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){v(this,ar).set(Rn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...v(this,ar).values()],n={};return t.forEach(r=>{ds(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...v(this,jt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zc(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Jc&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...v(this,jt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){v(this,re).clear(),v(this,Dt).clear()}},re=new WeakMap,Dt=new WeakMap,jt=new WeakMap,or=new WeakMap,ar=new WeakMap,qt=new WeakMap,cr=new WeakMap,ur=new WeakMap,Af),mh=q.createContext(void 0),Os=e=>{const t=q.useContext(mh);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ow=({client:e,children:t})=>(q.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),ap.jsx(mh.Provider,{value:e,children:t})),gh=q.createContext(!1),u5=()=>q.useContext(gh);gh.Provider;function f5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var d5=q.createContext(f5()),l5=()=>q.useContext(d5),h5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},p5=e=>{q.useEffect(()=>{e.clearReset()},[e])},b5=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||ch(n,[e.error,r])),y5=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},m5=(e,t)=>e.isLoading&&e.isFetching&&!t,g5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,hf=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function wh(e,t,n){var d,l,h,b,p;const r=u5(),s=l5(),i=Os(n),o=i.defaultQueryOptions(e);(l=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||l.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",y5(o),h5(o,s),p5(s);const a=!i.getQueryCache().get(o.queryHash),[c]=q.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),f=!r&&e.subscribed!==!1;if(q.useSyncExternalStore(q.useCallback(g=>{const y=f?c.subscribe(ae.batchCalls(g)):xe;return c.updateResult(),y},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),q.useEffect(()=>{c.setOptions(o)},[o,c]),g5(o,u))throw hf(o,c,s);if(b5({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((b=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||b.call(h,o,u),o.experimental_prefetchInRender&&!On&&m5(u,r)){const g=a?hf(o,c,s):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;g==null||g.catch(xe).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function w5(e,t){return wh(e,hh,t)}function pf(e,t){return e.findAll(t.filters).map(n=>t.select?t.select(n):n.state)}function Rw(e={},t){const n=Os(t).getMutationCache(),r=q.useRef(e),s=q.useRef(null);return s.current||(s.current=pf(n,e)),q.useEffect(()=>{r.current=e}),q.useSyncExternalStore(q.useCallback(i=>n.subscribe(()=>{const o=Yc(s.current,pf(n,r.current));s.current!==o&&(s.current=o,ae.schedule(i))}),[n]),()=>s.current,()=>s.current)}function nn(e,t){const n=Os(t),[r]=q.useState(()=>new a5(n,e));q.useEffect(()=>{r.setOptions(e)},[r,e]);const s=q.useSyncExternalStore(q.useCallback(o=>r.subscribe(ae.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=q.useCallback((o,a)=>{r.mutate(o,a).catch(xe)},[r]);if(s.error&&ch(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Fw(e,t){return wh(e,s5,t)}function rn(e){const t=w5({...e,queryKeyHashFn:Fh});return t.queryKey=e.queryKey,t}function sn(e={}){const t=se(e);return q.useSyncExternalStore(n=>Nh(t,{onChange:n}),()=>su(t),()=>su(t))}function Nw(e={}){const{address:t,query:n={}}=e,r=se(e),s=sn({config:r}),i=Mh(r,{...e,chainId:e.chainId??s}),o=!!(t&&(n.enabled??!0));return rn({...n,...i,enabled:o})}function v5(e={}){const t=se(e);return q.useSyncExternalStore(n=>zh(t,{onChange:n}),()=>iu(t),()=>iu(t))}function x5(e={}){const t=se(e);return q.useSyncExternalStore(n=>_h(t,{onChange:n}),()=>ou(t),()=>ou(t))}function Mw(e={}){const{mutation:t}=e,n=se(e),r=Uh(n),{mutate:s,mutateAsync:i,...o}=nn({...t,...r});return q.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:x5({config:n})}}function E5(e={}){const t=se(e);return q.useSyncExternalStore(n=>Lh(t,{onChange:n}),()=>au(t),()=>au(t))}function vh(e={}){const{query:t={},...n}=e,r=se(n),s=Os(),{address:i,connector:o,status:a}=ih({config:r}),c=sn({config:r}),u=e.connector??o,{queryKey:f,...d}=Dh(r,{...e,chainId:e.chainId??c,connector:u}),l=!!((a==="connected"||a==="reconnecting"&&(u!=null&&u.getProvider))&&(t.enabled??!0)),h=q.useRef(i);return q.useEffect(()=>{const b=h.current;!i&&b?(s.removeQueries({queryKey:f}),h.current=void 0):i!==b&&(s.invalidateQueries({queryKey:f}),h.current=i)},[i,s]),rn({...t,...d,queryKey:f,enabled:l,staleTime:Number.POSITIVE_INFINITY})}function zw(e={}){const{mutation:t}=e,n=se(e),r=jh(n),{mutate:s,mutateAsync:i,...o}=nn({...t,...r});return{...o,connectors:E5({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:i}}function _w(e={}){const{query:t={}}=e,n=se(e),r=sn({config:n}),s=qh(n,{...e,chainId:e.chainId??r});return rn({...t,...s})}function Uw(e={}){const{connector:t,query:n={}}=e,r=se(e),{data:s}=vh({config:r,connector:t,query:{enabled:e.account===void 0}}),i=e.account??(s==null?void 0:s.account),o=sn({config:r}),a=Gh(r,{...e,account:i,chainId:e.chainId??o,connector:t}),c=!!((i||t)&&(n.enabled??!0));return rn({...n,...a,enabled:c})}function Lw(e={}){const t=se(e);return sh.useSyncExternalStoreWithSelector(n=>Hh(t,{onChange:n}),()=>cu(t,e),()=>cu(t,e),n=>n,(n,r)=>(n==null?void 0:n.uid)===(r==null?void 0:r.uid))}function Dw(e={}){const{abi:t,address:n,functionName:r,query:s={}}=e,i=e.code,o=se(e),a=sn({config:o}),c=Vh(o,{...e,chainId:e.chainId??a}),u=!!((n||i)&&t&&r&&(s.enabled??!0));return rn({...s,...c,enabled:u,structuralSharing:s.structuralSharing??Bf})}function jw(e={}){const{contracts:t=[],query:n={}}=e,r=se(e),s=sn({config:r}),i=Wh(r,{...e,chainId:s}),o=q.useMemo(()=>{let a=!1;for(const c of t){const{abi:u,address:f,functionName:d}=c;if(!u||!f||!d){a=!1;break}a=!0}return!!(a&&(n.enabled??!0))},[t,n.enabled]);return rn({...i,...n,enabled:o,structuralSharing:n.structuralSharing??Bf})}function qw(e={}){const{mutation:t}=e,n=se(e),r=Qh(n),{mutate:s,mutateAsync:i,...o}=nn({...t,...r});return{...o,connectors:n.connectors,reconnect:s,reconnectAsync:i}}function Gw(e={}){const{mutation:t}=e,n=se(e),r=Kh(n),{mutate:s,mutateAsync:i,...o}=nn({...t,...r});return{...o,sendTransaction:s,sendTransactionAsync:i}}function Hw(e={}){const{mutation:t}=e,n=se(e),r=Zh(n),{mutate:s,mutateAsync:i,...o}=nn({...t,...r});return{...o,signMessage:s,signMessageAsync:i}}function Vw(e={}){const{mutation:t}=e,n=se(e),r=Yh(n),{mutate:s,mutateAsync:i,...o}=nn({...t,...r});return{...o,signTypedData:s,signTypedDataAsync:i}}function Ww(e={}){const{abi:t,address:n,connector:r,functionName:s,query:i={}}=e,o=se(e),{data:a}=vh({config:o,connector:r,query:{enabled:e.account===void 0}}),c=sn({config:o}),u=Jh(o,{...e,account:e.account??(a==null?void 0:a.account),chainId:e.chainId??c}),f=!!(t&&n&&s&&(i.enabled??!0));return rn({...i,...u,enabled:f})}function Qw(e={}){const{mutation:t}=e,n=se(e),r=Xh(n),{mutate:s,mutateAsync:i,...o}=nn({...t,...r});return{...o,chains:v5({config:n}),switchChain:s,switchChainAsync:i}}function Kw(e={}){const{query:t={},...n}=e,r=se(n),s=Os(),{address:i,connector:o,status:a}=ih({config:r}),c=sn({config:r}),u=e.connector??o,{queryKey:f,...d}=ep(r,{...e,chainId:e.chainId??c,connector:e.connector??o}),l=!!((a==="connected"||a==="reconnecting"&&(u!=null&&u.getProvider))&&(t.enabled??!0)),h=q.useRef(i);return q.useEffect(()=>{const b=h.current;!i&&b?(s.removeQueries({queryKey:f}),h.current=void 0):i!==b&&(s.invalidateQueries({queryKey:f}),h.current=i)},[i,s]),rn({...t,...d,queryKey:f,enabled:l,staleTime:Number.POSITIVE_INFINITY})}function Zw(e={}){const{mutation:t}=e,n=se(e),r=tp(n),{mutate:s,mutateAsync:i,...o}=nn({...t,...r});return{...o,writeContract:s,writeContractAsync:i}}tu.type="coinbaseWallet";function tu(e={}){return e.version==="3"||e.headlessMode?I5(e):P5(e)}function P5(e){let t,n,r,s;return Ca(i=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:tu.type,async connect({chainId:o,withCapabilities:a,...c}={}){try{const u=await this.getProvider(),f=(await u.request({method:"eth_requestAccounts",params:"instantOnboarding"in c&&c.instantOnboarding?[{onboarding:"instant"}]:[]})).map(l=>Me(l));n||(n=this.onAccountsChanged.bind(this),u.on("accountsChanged",n)),r||(r=this.onChainChanged.bind(this),u.on("chainChanged",r)),s||(s=this.onDisconnect.bind(this),u.on("disconnect",s));let d=await this.getChainId();if(o&&d!==o){const l=await this.switchChain({chainId:o}).catch(h=>{if(h.code===le.code)throw h;return{id:d}});d=(l==null?void 0:l.id)??d}return{accounts:a?f.map(l=>({address:l,capabilities:{}})):f,chainId:d}}catch(u){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(u.message)?new le(u):u}},async disconnect(){var a;const o=await this.getProvider();n&&(o.removeListener("accountsChanged",n),n=void 0),r&&(o.removeListener("chainChanged",r),r=void 0),s&&(o.removeListener("disconnect",s),s=void 0),o.disconnect(),(a=o.close)==null||a.call(o)},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(a=>Me(a))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!t){const o=(()=>{var u;return typeof e.preference=="string"?{options:e.preference}:{...e.preference,options:((u=e.preference)==null?void 0:u.options)??"all"}})(),{createCoinbaseWalletSDK:a}=await $r(async()=>{const{createCoinbaseWalletSDK:u}=await import("./index-dtN2Bxcy.js");return{createCoinbaseWalletSDK:u}},__vite__mapDeps([0,1,2,3,4,5]));t=a({...e,appChainIds:i.chains.map(u=>u.id),preference:o}).getProvider()}return t},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:o,chainId:a}){var f,d,l,h;const c=i.chains.find(b=>b.id===a);if(!c)throw new Ze(new Aa);const u=await this.getProvider();try{return await u.request({method:"wallet_switchEthereumChain",params:[{chainId:$(c.id)}]}),c}catch(b){if(b.code===4902)try{let p;o!=null&&o.blockExplorerUrls?p=o.blockExplorerUrls:p=(f=c.blockExplorers)!=null&&f.default.url?[(d=c.blockExplorers)==null?void 0:d.default.url]:[];let g;(l=o==null?void 0:o.rpcUrls)!=null&&l.length?g=o.rpcUrls:g=[((h=c.rpcUrls.default)==null?void 0:h.http[0])??""];const y={blockExplorerUrls:p,chainId:$(a),chainName:(o==null?void 0:o.chainName)??c.name,iconUrls:o==null?void 0:o.iconUrls,nativeCurrency:(o==null?void 0:o.nativeCurrency)??c.nativeCurrency,rpcUrls:g};return await u.request({method:"wallet_addEthereumChain",params:[y]}),c}catch(p){throw new le(p)}throw new Ze(b)}},onAccountsChanged(o){o.length===0?this.onDisconnect():i.emitter.emit("change",{accounts:o.map(a=>Me(a))})},onChainChanged(o){const a=Number(o);i.emitter.emit("change",{chainId:a})},async onDisconnect(o){i.emitter.emit("disconnect");const a=await this.getProvider();n&&(a.removeListener("accountsChanged",n),n=void 0),r&&(a.removeListener("chainChanged",r),r=void 0),s&&(a.removeListener("disconnect",s),s=void 0)}}))}function I5(e){let n,r,s,i,o;return Ca(a=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:tu.type,async connect({chainId:c,withCapabilities:u}={}){try{const f=await this.getProvider(),d=(await f.request({method:"eth_requestAccounts"})).map(h=>Me(h));s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),f.on("chainChanged",i)),o||(o=this.onDisconnect.bind(this),f.on("disconnect",o));let l=await this.getChainId();if(c&&l!==c){const h=await this.switchChain({chainId:c}).catch(b=>{if(b.code===le.code)throw b;return{id:l}});l=(h==null?void 0:h.id)??l}return{accounts:u?d.map(h=>({address:h,capabilities:{}})):d,chainId:l}}catch(f){throw/(user closed modal|accounts received is empty|user denied account)/i.test(f.message)?new le(f):f}},async disconnect(){const c=await this.getProvider();s&&(c.removeListener("accountsChanged",s),s=void 0),i&&(c.removeListener("chainChanged",i),i=void 0),o&&(c.removeListener("disconnect",o),o=void 0),c.disconnect(),c.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(u=>Me(u))},async getChainId(){const u=await(await this.getProvider()).request({method:"eth_chainId"});return Number(u)},async getProvider(){var c;if(!r){const u=await(async()=>{const{default:b}=await $r(async()=>{const{default:p}=await import("./index-Cr21sBWA.js").then(g=>g.i);return{default:p}},__vite__mapDeps([6,1,3,4,5]));return typeof b!="function"&&typeof b.default=="function"?b.default:b})();n=new u({...e,reloadOnDisconnect:!1});const f=(c=n.walletExtension)==null?void 0:c.getChainId(),d=a.chains.find(b=>e.chainId?b.id===e.chainId:b.id===f)||a.chains[0],l=e.chainId||(d==null?void 0:d.id),h=e.jsonRpcUrl||(d==null?void 0:d.rpcUrls.default.http[0]);r=n.makeWeb3Provider(h,l)}return r},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:u}){var l,h,b,p;const f=a.chains.find(g=>g.id===u);if(!f)throw new Ze(new Aa);const d=await this.getProvider();try{return await d.request({method:"wallet_switchEthereumChain",params:[{chainId:$(f.id)}]}),f}catch(g){if(g.code===4902)try{let y;c!=null&&c.blockExplorerUrls?y=c.blockExplorerUrls:y=(l=f.blockExplorers)!=null&&l.default.url?[(h=f.blockExplorers)==null?void 0:h.default.url]:[];let x;(b=c==null?void 0:c.rpcUrls)!=null&&b.length?x=c.rpcUrls:x=[((p=f.rpcUrls.default)==null?void 0:p.http[0])??""];const w={blockExplorerUrls:y,chainId:$(u),chainName:(c==null?void 0:c.chainName)??f.name,iconUrls:c==null?void 0:c.iconUrls,nativeCurrency:(c==null?void 0:c.nativeCurrency)??f.nativeCurrency,rpcUrls:x};return await d.request({method:"wallet_addEthereumChain",params:[w]}),f}catch(y){throw new le(y)}throw new Ze(g)}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(u=>Me(u))})},onChainChanged(c){const u=Number(c);a.emitter.emit("change",{chainId:u})},async onDisconnect(c){a.emitter.emit("disconnect");const u=await this.getProvider();s&&(u.removeListener("accountsChanged",s),s=void 0),i&&(u.removeListener("chainChanged",i),i=void 0),o&&(u.removeListener("disconnect",o),o=void 0)}}))}const nu=50000n,bf=il*32n,xh={block:zi({format(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>{var i;if(typeof r=="string")return r;const s=(i=xh.transaction)==null?void 0:i.format(r);return s.typeHex==="0x71"?s.type="eip712":s.typeHex==="0xff"&&(s.type="priority"),s});return{l1BatchNumber:e.l1BatchNumber?K(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?K(e.l1BatchTimestamp):null,transactions:t}}}),transaction:Ni({format(e){const t={};return e.type==="0x71"?t.type="eip712":e.type==="0xff"&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?K(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?K(e.l1BatchTxIndex):null}}}),transactionReceipt:Ec({format(e){return{l1BatchNumber:e.l1BatchNumber?K(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?K(e.l1BatchTxIndex):null,logs:e.logs.map(t=>({...Xe(t),l1BatchNumber:t.l1BatchNumber?K(t.l1BatchNumber):null,transactionLogIndex:$e(t.transactionLogIndex),logType:t.logType})),l2ToL1Logs:e.l2ToL1Logs.map(t=>({blockNumber:K(t.blockHash),blockHash:t.blockHash,l1BatchNumber:t.l1BatchNumber?K(t.l1BatchNumber):null,transactionIndex:K(t.transactionIndex),shardId:K(t.shardId),isService:t.isService,sender:t.sender,key:t.key,value:t.value,transactionHash:t.transactionHash,logIndex:K(t.logIndex)}))}}}),transactionRequest:bc({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(e){return e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:H(e.gasPerPubdata)}:{gasPerPubdata:H(nu)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from(he(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(t=>Array.from(he(t)))}:{},...e.customSignature?{customSignature:Array.from(he(e.customSignature))}:{}},type:"0x71"}:{}}})};class S5 extends C{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function Eh(e){return!!(e.type==="eip712"||"customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&typeof e.gasPerPubdata=="bigint"||"factoryDeps"in e&&e.factoryDeps)}function Ph(e){const{chainId:t,to:n,from:r,paymaster:s,paymasterInput:i}=e;if(!Eh(e))throw new S5;if(!t||t<=0)throw new Mn({chainId:t});if(n&&!J(n))throw new ee({address:n});if(r&&!J(r))throw new ee({address:r});if(s&&!J(s))throw new ee({address:s});if(s&&!i)throw new C("`paymasterInput` must be provided when `paymaster` is defined");if(!s&&i)throw new C("`paymaster` must be provided when `paymasterInput` is defined")}function C5(e,t){return Eh(e)?B5(e):Bi(e,t)}const A5={transaction:C5};function B5(e){const{chainId:t,gas:n,nonce:r,to:s,from:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,customSignature:u,factoryDeps:f,paymaster:d,paymasterInput:l,gasPerPubdata:h,data:b}=e;Ph(e);const p=[r?H(r):"0x",c?H(c):"0x",a?H(a):"0x",n?H(n):"0x",s??"0x",o?H(o):"0x",b??"0x",H(t),H(""),H(""),H(t),i??"0x",H(h||nu),f??[],u??"0x",d&&l?[d,l]:[]];return pe(["0x71",Ke(p)])}class T5 extends C{constructor({givenLength:t,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${t}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class $5 extends C{constructor({givenLengthInWords:t}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${t}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class k5 extends C{constructor({givenLength:t}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${t}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function O5(e){const t=ot(e);if(t.length%32!==0)throw new k5({givenLength:t.length});if(t.length>bf)throw new T5({givenLength:t.length,maxBytecodeSize:bf});const n=ec(t),r=ot(n),s=t.length/32;if(s%2===0)throw new $5({givenLengthInWords:s});const i=ot(s),o=We(i,{size:2}),a=new Uint8Array([1,0]);return r.set(a,0),r.set(o,2),r}const R5=e=>{Ph(e);const t=F5(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}};function F5(e){const{gas:t,nonce:n,to:r,from:s,value:i,maxFeePerGas:o,maxPriorityFeePerGas:a,factoryDeps:c,paymaster:u,paymasterInput:f,gasPerPubdata:d,data:l}=e;return{txType:113n,from:BigInt(s),to:r?BigInt(r):0n,gasLimit:t??0n,gasPerPubdataByteLimit:d??nu,maxFeePerGas:o??0n,maxPriorityFeePerGas:a??0n,paymaster:u?BigInt(u):0n,nonce:n?BigInt(n):0n,value:i??0n,data:l??"0x",factoryDeps:(c==null?void 0:c.map(h=>H(O5(h))))??[],paymasterInput:f||"0x"}}const N5={blockTime:1e3,formatters:xh,serializers:A5,custom:{getEip712Domain:R5}},Ih={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},M5={block:zi({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=Dr(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?K(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:Ni({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?K(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:Ec({format(e){return{l1GasPrice:e.l1GasPrice?K(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?K(e.l1GasUsed):null,l1Fee:e.l1Fee?K(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function Sh(e,t){return U5(e)?_5(e):Bi(e,t)}const z5={transaction:Sh};function _5(e){L5(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:i,mint:o,to:a,value:c}=e,u=[t,r,a??"0x",o?H(o):"0x",c?H(c):"0x",s?H(s):"0x",i?"0x1":"0x",n??"0x"];return pe(["0x7e",Ke(u)])}function U5(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function L5(e){const{from:t,to:n}=e;if(t&&!J(t))throw new ee({address:t});if(n&&!J(n))throw new ee({address:n})}const ut={blockTime:2e3,contracts:Ih,formatters:M5,serializers:z5},Yw=Y({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:250,rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),Jw=Y({id:1313161554,name:"Aurora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://aurorascan.dev",apiUrl:"https://aurorascan.dev/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:62907816}}}),Xw=Y({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),Yr=1,D5=Y({...ut,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...ut.contracts,disputeGameFactory:{[Yr]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Yr]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Yr]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Yr]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Yr});({...D5});const Ls=1,e2=Y({...ut,id:81457,name:"Blast",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.blast.io"]}},blockExplorers:{default:{name:"Blastscan",url:"https://blastscan.io",apiUrl:"https://api.blastscan.io/api"}},contracts:{...ut.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:212929},l2OutputOracle:{[Ls]:{address:"0x826D1B0D4111Ad9146Eb8941D7Ca2B6a44215c76",blockCreated:19300358}},portal:{[Ls]:{address:"0x0Ec68c5B10F21EFFb74f2A5C61DFe6b08C0Db6Cb",blockCreated:19300357}},l1StandardBridge:{[Ls]:{address:"0x697402166Fbf2F22E970df8a6486Ef171dbfc524",blockCreated:19300360}}},sourceId:Ls}),t2=Y({id:288,name:"Boba Network",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.boba.network"]}},blockExplorers:{default:{name:"BOBAScan",url:"https://bobascan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:446859}}}),n2=Y({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),j5={estimateFeesPerGas:async e=>{var s;if(!((s=e.request)!=null&&s.feeCurrency))return null;const[t,n]=await Promise.all([q5(e.client,e.request.feeCurrency),G5(e.client,e.request.feeCurrency)]);return{maxFeePerGas:e.multiply(t-n)+n,maxPriorityFeePerGas:n}}};async function q5(e,t){const n=await e.request({method:"eth_gasPrice",params:[t]});return BigInt(n)}async function G5(e,t){const n=await e.request({method:"eth_maxPriorityFeePerGas",params:[t]});return BigInt(n)}function Ch(e){return e===0||e===0n||e===void 0||e===null||e==="0"||e===""||typeof e=="string"&&(ye(e).toLowerCase()==="0x"||ye(e).toLowerCase()==="0x00")}function ts(e){return!Ch(e)}function H5(e){return typeof e.maxFeePerGas<"u"&&typeof e.maxPriorityFeePerGas<"u"}function Ah(e){return e.type==="cip64"?!0:H5(e)&&ts(e.feeCurrency)}const V5={block:zi({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:{...Dr(r),...r.gatewayFee?{gatewayFee:K(r.gatewayFee),gatewayFeeRecipient:r.gatewayFeeRecipient}:{},feeCurrency:r.feeCurrency})}}}),transaction:Ni({format(e){if(e.type==="0x7e")return{isSystemTx:e.isSystemTx,mint:e.mint?K(e.mint):void 0,sourceHash:e.sourceHash,type:"deposit"};const t={feeCurrency:e.feeCurrency};return e.type==="0x7b"?t.type="cip64":(e.type==="0x7c"&&(t.type="cip42"),t.gatewayFee=e.gatewayFee?K(e.gatewayFee):null,t.gatewayFeeRecipient=e.gatewayFeeRecipient),t}}),transactionRequest:bc({format(e){const t={};return e.feeCurrency&&(t.feeCurrency=e.feeCurrency),Ah(e)&&(t.type="0x7b"),t}})};function W5(e,t){return Ah(e)?K5(e,t):Sh(e,t)}const Q5={transaction:W5};function K5(e,t){Y5(e);const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,feeCurrency:f,data:d}=e,l=[H(n),s?H(s):"0x",c?H(c):"0x",a?H(a):"0x",r?H(r):"0x",i??"0x",o?H(o):"0x",d??"0x",_r(u),f,...Ur(e,t)];return pe(["0x7b",Ke(l)])}const Z5=Mr;function Y5(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i,feeCurrency:o}=e;if(t<=0)throw new Mn({chainId:t});if(i&&!J(i))throw new ee({address:i});if(r)throw new C("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(ts(s)&&s>Z5)throw new At({maxFeePerGas:s});if(ts(n)&&ts(s)&&n>s)throw new In({maxFeePerGas:s,maxPriorityFeePerGas:n});if(ts(o)&&!J(o))throw new C("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(Ch(o))throw new C("`feeCurrency` must be provided for CIP-64 transactions.")}const J5={blockTime:1e3,contracts:Ih,formatters:V5,serializers:Q5,fees:j5},r2=Y({...J5,id:42220,name:"Celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://celoscan.io",apiUrl:"https://api.celoscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:13112599}},testnet:!1}),s2=Y({id:9001,name:"Evmos",nativeCurrency:{decimals:18,name:"Evmos",symbol:"EVMOS"},rpcUrls:{default:{http:["https://eth.bd.evmos.org:8545"]}},blockExplorers:{default:{name:"Evmos Block Explorer",url:"https://escan.live"}}}),i2=Y({id:250,name:"Fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://250.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"FTMScan",url:"https://ftmscan.com",apiUrl:"https://api.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}}),Ds=1,o2=Y({...ut,id:252,name:"Fraxtal",nativeCurrency:{name:"Frax",symbol:"FRAX",decimals:18},rpcUrls:{default:{http:["https://rpc.frax.com"]}},blockExplorers:{default:{name:"fraxscan",url:"https://fraxscan.com",apiUrl:"https://api.fraxscan.com/api"}},contracts:{...ut.contracts,l2OutputOracle:{[Ds]:{address:"0x66CC916Ed5C6C2FA97014f7D1cD141528Ae171e4"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[Ds]:{address:"0x36cb65c1967A0Fb0EEE11569C51C2f2aA1Ca6f6D",blockCreated:19135323}},l1StandardBridge:{[Ds]:{address:"0x34C0bD5877A5Ee7099D0f5688D65F4bB9158BDE2",blockCreated:19135323}}},sourceId:Ds}),a2=Y({id:122,name:"Fuse",nativeCurrency:{name:"Fuse",symbol:"FUSE",decimals:18},rpcUrls:{default:{http:["https://rpc.fuse.io"]}},blockExplorers:{default:{name:"Fuse Explorer",url:"https://explorer.fuse.io",apiUrl:"https://explorer.fuse.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:16146628}}}),c2=Y({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"xDAI",symbol:"XDAI"},blockTime:5e3,rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:21022491}}});async function X5(e,t){var s,i,o;const{account:n=e.account}=t;if(!n)throw new $t;const r=ne(n);try{const{accessList:a,blockNumber:c,blockTag:u,data:f,gas:d,gasPrice:l,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:p,to:g,value:y,...x}=t,m=(typeof c=="bigint"?$(c):void 0)||u;lt(t);const E=(o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,I=(E||dt)({...Lr(x,{format:E}),from:r==null?void 0:r.address,accessList:a,data:f,gas:d,gasPrice:l,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:p,to:g,value:y},"estimateGas"),{baseFeePerGas:S,gasLimit:T,priorityFeePerGas:A}=await e.request({method:"linea_estimateGas",params:m?[I,m]:[I]});return{baseFeePerGas:BigInt(S),gasLimit:BigInt(T),priorityFeePerGas:BigInt(A)}}catch(a){throw pc(a,{...t,account:r,chain:e.chain})}}const ew={fees:{estimateFeesPerGas:yf,async maxPriorityFeePerGas({block:e,client:t,request:n}){const r=await yf({block:e,client:t,multiply:s=>s,request:n,type:"eip1559"});return r!=null&&r.maxPriorityFeePerGas?r.maxPriorityFeePerGas:null}}};async function yf({client:e,multiply:t,request:n,type:r}){try{const s=await X5(e,{...n,account:n==null?void 0:n.account}),{priorityFeePerGas:i}=s,a=t(BigInt(s.baseFeePerGas))+i;return r==="legacy"?{gasPrice:a}:{maxFeePerGas:a,maxPriorityFeePerGas:i}}catch{return null}}const u2=Y({...ew,id:59144,name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build",apiUrl:"https://api.lineascan.build/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:42},ensRegistry:{address:"0x50130b669B28C339991d8676FA73CF122a121267",blockCreated:6682888},ensUniversalResolver:{address:"0x4D41762915F83c76EcaF6776d9b08076aA32b492",blockCreated:22222151}},ensTlds:[".linea.eth"],testnet:!1}),f2=Y({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),d2=Y({id:5e3,name:"Mantle",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Explorer",url:"https://mantlescan.xyz/",apiUrl:"https://api.mantlescan.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:304717}}}),l2=Y({id:1088,name:"Metis",nativeCurrency:{decimals:18,name:"Metis",symbol:"METIS"},rpcUrls:{default:{http:["https://metis.rpc.hypersync.xyz","https://metis-pokt.nodies.app","https://api.blockeden.xyz/metis/67nCBdZQSH9z3YqDDjdm","https://metis-andromeda.rpc.thirdweb.com","https://metis-andromeda.gateway.tenderly.co","https://metis.api.onfinality.io/public","https://andromeda.metis.io/?owner=1088","https://metis-mainnet.public.blastapi.io"],webSocket:["wss://metis-rpc.publicnode.com","wss://metis.drpc.org"]}},blockExplorers:{default:{name:"Metis Explorer",url:"https://explorer.metis.io",apiUrl:"https://api.routescan.io/v2/network/mainnet/evm/1088/etherscan/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2338552}}}),js=1,h2=Y({...ut,id:34443,name:"Mode Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.mode.network"]}},blockExplorers:{default:{name:"Modescan",url:"https://modescan.io"}},contracts:{...ut.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2465882},l2OutputOracle:{[js]:{address:"0x4317ba146D4933D889518a3e5E11Fe7a53199b04"}},portal:{[js]:{address:"0x8B34b14c7c7123459Cf3076b8Cb929BE097d0C07"}},l1StandardBridge:{[js]:{address:"0x735aDBbE72226BD52e818E7181953f42E3b0FF21"}}},sourceId:js}),p2=Y({id:1284,name:"Moonbeam",nativeCurrency:{decimals:18,name:"GLMR",symbol:"GLMR"},rpcUrls:{default:{http:["https://moonbeam.public.blastapi.io"],webSocket:["wss://moonbeam.public.blastapi.io"]}},blockExplorers:{default:{name:"Moonscan",url:"https://moonscan.io",apiUrl:"https://api-moonbeam.moonscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:609002}},testnet:!1}),b2=Y({id:1285,name:"Moonriver",nativeCurrency:{decimals:18,name:"MOVR",symbol:"MOVR"},rpcUrls:{default:{http:["https://moonriver.public.blastapi.io"],webSocket:["wss://moonriver.public.blastapi.io"]}},blockExplorers:{default:{name:"Moonscan",url:"https://moonriver.moonscan.io",apiUrl:"https://api-moonriver.moonscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1597904}},testnet:!1}),Jr=1,y2=Y({...ut,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...ut.contracts,disputeGameFactory:{[Jr]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Jr]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Jr]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Jr]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Jr}),m2=Y({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),g2=Y({id:1101,name:"Polygon zkEVM",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://zkevm-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://zkevm.polygonscan.com",apiUrl:"https://api-zkevm.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:57746}}}),w2=Y({id:30,name:"Rootstock Mainnet",network:"rootstock",nativeCurrency:{decimals:18,name:"Rootstock Bitcoin",symbol:"RBTC"},rpcUrls:{default:{http:["https://public-node.rsk.co"]}},blockExplorers:{default:{name:"RSK Explorer",url:"https://explorer.rsk.co"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4249540}}}),v2=Y({id:534352,name:"Scroll",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.scroll.io"],webSocket:["wss://wss-rpc.scroll.io/ws"]}},blockExplorers:{default:{name:"Scrollscan",url:"https://scrollscan.com",apiUrl:"https://api.scrollscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14}},testnet:!1}),x2=Y({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),E2=Y({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),P2=Y({...N5,id:324,name:"ZKsync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://era.zksync.network/",apiUrl:"https://api-era.zksync.network/api"},native:{name:"ZKsync Explorer",url:"https://explorer.zksync.io/",apiUrl:"https://block-explorer-api.mainnet.zksync.io/api"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:45659388}}});Bh.type="walletConnect";function Bh(e){const t=e.isNewChainsStale??!0;let n,r;const s="eip155";let i,o,a,c,u,f;return Ca(d=>({id:"walletConnect",name:"WalletConnect",type:Bh.type,async setup(){const l=await this.getProvider().catch(()=>null);l&&(a||(a=this.onConnect.bind(this),l.on("connect",a)),u||(u=this.onSessionDelete.bind(this),l.on("session_delete",u)))},async connect({chainId:l,withCapabilities:h,...b}={}){var p,g;try{const y=await this.getProvider();if(!y)throw new uu;c||(c=this.onDisplayUri,y.on("display_uri",c));let x=l;if(!x){const P=await((p=d.storage)==null?void 0:p.getItem("state"))??{};d.chains.some(S=>S.id===P.chainId)?x=P.chainId:x=(g=d.chains[0])==null?void 0:g.id}if(!x)throw new Error("No chains found on connector.");const w=await this.isChainsStale();if(y.session&&w&&await y.disconnect(),!y.session||w){const P=d.chains.filter(I=>I.id!==x).map(I=>I.id);await y.connect({optionalChains:[x,...P],..."pairingTopic"in b?{pairingTopic:b.pairingTopic}:{}}),this.setRequestedChainsIds(d.chains.map(I=>I.id))}const m=(await y.enable()).map(P=>Me(P));let E=await this.getChainId();if(l&&E!==l){const P=await this.switchChain({chainId:l}).catch(I=>{var S;if(I.code===le.code&&((S=I.cause)==null?void 0:S.message)!=="Missing or invalid. request() method: wallet_addEthereumChain")throw I;return{id:E}});E=(P==null?void 0:P.id)??E}return c&&(y.removeListener("display_uri",c),c=void 0),a&&(y.removeListener("connect",a),a=void 0),i||(i=this.onAccountsChanged.bind(this),y.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),y.on("chainChanged",o)),f||(f=this.onDisconnect.bind(this),y.on("disconnect",f)),u||(u=this.onSessionDelete.bind(this),y.on("session_delete",u)),{accounts:h?m.map(P=>({address:P,capabilities:{}})):m,chainId:E}}catch(y){throw/(user rejected|connection request reset)/i.test(y==null?void 0:y.message)?new le(y):y}},async disconnect(){const l=await this.getProvider();try{await(l==null?void 0:l.disconnect())}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{o&&(l==null||l.removeListener("chainChanged",o),o=void 0),f&&(l==null||l.removeListener("disconnect",f),f=void 0),a||(a=this.onConnect.bind(this),l==null||l.on("connect",a)),i&&(l==null||l.removeListener("accountsChanged",i),i=void 0),u&&(l==null||l.removeListener("session_delete",u),u=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(h=>Me(h))},async getProvider({chainId:l}={}){var b;async function h(){const p=d.chains.map(y=>y.id);if(!p.length)return;const{EthereumProvider:g}=await $r(async()=>{const{EthereumProvider:y}=await import("./index.es-B8BmkpPm.js");return{EthereumProvider:y}},__vite__mapDeps([7,3,1,4,5,8]));return await g.init({...e,disableProviderPing:!0,optionalChains:p,projectId:e.projectId,rpcMap:Object.fromEntries(d.chains.map(y=>{const[x]=np({chain:y,transports:d.transports});return[y.id,x]})),showQrModal:e.showQrModal??!0})}return n||(r||(r=h()),n=await r,n==null||n.events.setMaxListeners(Number.POSITIVE_INFINITY)),l&&await((b=this.switchChain)==null?void 0:b.call(this,{chainId:l})),n},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[l,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return l.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:h}){var g,y,x;const b=await this.getProvider();if(!b)throw new uu;const p=d.chains.find(w=>w.id===h);if(!p)throw new Ze(new Aa);try{await Promise.all([new Promise(m=>{const E=({chainId:P})=>{P===h&&(d.emitter.off("change",E),m())};d.emitter.on("change",E)}),b.request({method:"wallet_switchEthereumChain",params:[{chainId:$(h)}]})]);const w=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...w,h]),p}catch(w){const m=w;if(/(user rejected)/i.test(m.message))throw new le(m);try{let E;l!=null&&l.blockExplorerUrls?E=l.blockExplorerUrls:E=(g=p.blockExplorers)!=null&&g.default.url?[(y=p.blockExplorers)==null?void 0:y.default.url]:[];let P;(x=l==null?void 0:l.rpcUrls)!=null&&x.length?P=l.rpcUrls:P=[...p.rpcUrls.default.http];const I={blockExplorerUrls:E,chainId:$(h),chainName:(l==null?void 0:l.chainName)??p.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??p.nativeCurrency,rpcUrls:P};await b.request({method:"wallet_addEthereumChain",params:[I]});const S=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...S,h]),p}catch(E){throw new le(E)}}},onAccountsChanged(l){l.length===0?this.onDisconnect():d.emitter.emit("change",{accounts:l.map(h=>Me(h))})},onChainChanged(l){const h=Number(l);d.emitter.emit("change",{chainId:h})},async onConnect(l){const h=Number(l.chainId),b=await this.getAccounts();d.emitter.emit("connect",{accounts:b,chainId:h})},async onDisconnect(l){this.setRequestedChainsIds([]),d.emitter.emit("disconnect");const h=await this.getProvider();i&&(h.removeListener("accountsChanged",i),i=void 0),o&&(h.removeListener("chainChanged",o),o=void 0),f&&(h.removeListener("disconnect",f),f=void 0),u&&(h.removeListener("session_delete",u),u=void 0),a||(a=this.onConnect.bind(this),h.on("connect",a))},onDisplayUri(l){d.emitter.emit("message",{type:"display_uri",data:l})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var h,b,p;return n?((p=(b=(h=n.session)==null?void 0:h.namespaces[s])==null?void 0:b.accounts)==null?void 0:p.map(g=>Number.parseInt(g.split(":")[1]||"",10)))??[]:[]},async getRequestedChainsIds(){var l;return await((l=d.storage)==null?void 0:l.getItem(this.requestedChainsStorageKey))??[]},async isChainsStale(){if(!t)return!1;const l=d.chains.map(p=>p.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(p=>l.includes(p)))return!1;const b=await this.getRequestedChainsIds();return!l.every(p=>b.includes(p))},async setRequestedChainsIds(l){var h;await((h=d.storage)==null?void 0:h.setItem(this.requestedChainsStorageKey,l))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}}))}export{Pw as $,sw as A,Yc as B,hc as C,nn as D,w5 as E,ap as F,Dw as G,Os as H,bi as I,Tw as J,Rw as K,Fw as L,ze as M,H as N,Y as O,Mw as P,x5 as Q,wr as R,Ze as S,Vw as T,le as U,e6 as V,x6 as W,J as X,P6 as Y,Ew as Z,$r as _,g6 as a,Bw as a$,xw as a0,Cc as a1,Ui as a2,Zt as a3,ue as a4,K as a5,R0 as a6,Vt as a7,he as a8,Re as a9,e2 as aA,t2 as aB,n2 as aC,r2 as aD,s2 as aE,i2 as aF,o2 as aG,a2 as aH,c2 as aI,u2 as aJ,f2 as aK,d2 as aL,l2 as aM,h2 as aN,p2 as aO,b2 as aP,y2 as aQ,m2 as aR,g2 as aS,w2 as aT,v2 as aU,x2 as aV,E2 as aW,P2 as aX,Bh as aY,tu as aZ,Ow as a_,Fd as aa,C as ab,X as ac,ef as ad,Ub as ae,ft as af,Kt as ag,ia as ah,We as ai,Fr as aj,Q1 as ak,$e as al,Nn as am,xi as an,x0 as ao,w6 as ap,op as aq,Ii as ar,Iw as as,Sw as at,m6 as au,Um as av,Yw as aw,Jw as ax,Xw as ay,D5 as az,Lc as b,Gw as b$,ih as b0,zw as b1,se as b2,Hw as b3,Qw as b4,qw as b5,kw as b6,ot as b7,hi as b8,Cw as b9,S6 as bA,f6 as bB,tn as bC,Pn as bD,en as bE,Mo as bF,e1 as bG,il as bH,gs as bI,yy as bJ,Li as bK,Sc as bL,u1 as bM,Lw as bN,Kw as bO,E6 as bP,it as bQ,Tr as bR,s6 as bS,r6 as bT,k0 as bU,Ym as bV,Bs as bW,Nw as bX,Ww as bY,Zw as bZ,Uw as b_,Aw as ba,ke as bb,dy as bc,_m as bd,U as be,Ta as bf,ws as bg,Pe as bh,Qa as bi,Rl as bj,ui as bk,$t as bl,X0 as bm,Un as bn,gc as bo,Xe as bp,_i as bq,te as br,Bt as bs,qr as bt,vs as bu,Jt as bv,fl as bw,Is as bx,Ge as by,pe as bz,qc as c,_w as c0,jw as c1,vw as c2,hg as d,Dm as e,Ya as f,Me as g,_p as h,J0 as i,th as j,d6 as k,h6 as l,Ag as m,qm as n,Y0 as o,ne as p,Wc as q,et as r,Vi as s,ye as t,Ss as u,fs as v,qb as w,$ as x,is as y,Ic as z};
//# sourceMappingURL=@wagmi-BZ-YosZW.js.map
